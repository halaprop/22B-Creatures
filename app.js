const a0_0x51b289=a0_0xaa73;(function(_0x314582,_0x2a780f){const _0x28c307=a0_0xaa73,_0x5b8eff=_0x314582();while(!![]){try{const _0x3e3680=-parseInt(_0x28c307(0x24f))/0x1*(-parseInt(_0x28c307(0x215))/0x2)+-parseInt(_0x28c307(0x226))/0x3*(-parseInt(_0x28c307(0x255))/0x4)+parseInt(_0x28c307(0x25c))/0x5+parseInt(_0x28c307(0x233))/0x6+parseInt(_0x28c307(0x257))/0x7*(-parseInt(_0x28c307(0x26c))/0x8)+parseInt(_0x28c307(0x204))/0x9*(-parseInt(_0x28c307(0x20b))/0xa)+-parseInt(_0x28c307(0x244))/0xb;if(_0x3e3680===_0x2a780f)break;else _0x5b8eff['push'](_0x5b8eff['shift']());}catch(_0x336754){_0x5b8eff['push'](_0x5b8eff['shift']());}}}(a0_0xf3ca,0xcbfb5));function a0_0xf3ca(){const _0x20c5ae=['it\x20is\x20probably\x20a\x20good\x20idea\x20to\x20erase\x20local\x20storage\x20key\x20here','cancel-btn','metric','getNamespace','keys-','submitBtn','#submissions-header','Enter\x20the\x20admin\x20key\x20for\x20','innerHTML','submission','fa-','okay-btn','23247356OoHFCu','playBtn','preventDefault','.uk-modal.uk-open','prompt','click','admin-key-','values','Cals','alert','speed-select','10406ZFBIgT','key-file-input','modal-submit-btn','loginButton','filter','.value','145804Bbsvwf','cout-lines','7FMKFbD','keystrokesKey','#submit-modal','key','onClickedLogin','8157815RMDoGj','error','getAttribute','data-sleep','getElementById','upload-btn','querySelector','playSubmission','submitted','studentApp','hidden','importNode','a[data-sleep]','.turns','innerText','_isPaused','12647944UsiqTM','submitStateDone','length','first-name','startPlayback','a.uk-active','#speed-select','speed-btn','adminRemoteStorage','querySelectorAll','log','textContent','hide','title','\x20/\x20','checked','fa-play','onClickedAdminSubmissions','adminSubmissionsToggle','modal','atKey','status-msg','9773262XWNegg','classList','submitStateBusy','forEach','files','getItem','text','10nHCtNs','Saving','isPaused','keys','change','continuePlayback','playback-btn','content','spinner','message','304JFKnsz','lastName','disabled','submission-form','startsWith','selectedFile','gameOver','keydown','dropdown','</th>\x0a\x20\x20\x20\x20<th></th>\x0a\x20\x20','uk-active','map','#submission-row-template','contestStatus','add','Success','sleepTimeout','87yFKOTI','submitStateReady','appendChild','playbackIndex','setItem','Metc','closest','submissions-toggle','\x0a\x20\x20\x20\x20<th>Name</th><th></th><th>Turns</th><th>','submit','value','Creatures','#submissions-table\x20tbody','8072772YSrBOb','Snake','stopPropagation','addEventListener','speedBtn'];a0_0xf3ca=function(){return _0x20c5ae;};return a0_0xf3ca();}import{readKeys,rleCompress,decompressAsKeys}from'./key-file-reader.js';import{RemoteStorage}from'./remoteStorage.mjs';import{CreaturesApp}from'./creature.js';function a0_0xaa73(_0x599549,_0x1e7208){const _0xf3ca18=a0_0xf3ca();return a0_0xaa73=function(_0xaa7313,_0x51a0d9){_0xaa7313=_0xaa7313-0x1f1;let _0x3e9d13=_0xf3ca18[_0xaa7313];return _0x3e9d13;},a0_0xaa73(_0x599549,_0x1e7208);}let appName;appName='Creatures';let appKlass,namespace,SUBMISSIONS_WRITE;appKlass=CreaturesApp,namespace='CREATURES_SUBMISSIONS',SUBMISSIONS_WRITE='x0R7wwi9cY2cvaGX.KKB7rARXvjKno43OdWwEUJESEOzBu30i3rtCwk69zrKKy6oaMQTTkEJmp2F4e3rkQz7XETmy6ByXdyHjPviDrxwMigIE4+PbP4FZeVY=',window[a0_0x51b289(0x236)]('DOMContentLoaded',()=>{const _0x2c2064=a0_0x51b289;document[_0x2c2064(0x1fb)]=appName,App['el']('title-bar-title')[_0x2c2064(0x26a)]=appName,App['el'](_0x2c2064(0x256))[_0x2c2064(0x266)]=appName==_0x2c2064(0x234);});const localStorageKey=a0_0x51b289(0x24a)+namespace,remoteStorage=new RemoteStorage(namespace,SUBMISSIONS_WRITE);class App{static['el'](_0xc8a95b){const _0x19e3df=a0_0x51b289;return document[_0x19e3df(0x260)](_0xc8a95b);}constructor(){const _0x2cd9bf=a0_0x51b289,_0x27a339=App['el'](_0x2cd9bf(0x250)),_0x4c0b4b=App['el'](_0x2cd9bf(0x24e));this['submitBtn']=App['el']('submit-btn'),this[_0x2cd9bf(0x245)]=App['el'](_0x2cd9bf(0x211)),this[_0x2cd9bf(0x237)]=App['el'](_0x2cd9bf(0x1f5)),this[_0x2cd9bf(0x252)]=App['el']('admin-btn'),this['adminSubmissionsToggle']=App['el'](_0x2cd9bf(0x22d)),this[_0x2cd9bf(0x265)]=new appKlass(),App['el'](_0x2cd9bf(0x261))['addEventListener'](_0x2cd9bf(0x249),()=>{const _0x28a105=_0x2cd9bf;_0x27a339[_0x28a105(0x249)]();}),_0x27a339['addEventListener'](_0x2cd9bf(0x20f),async()=>{const _0x5c53ca=_0x2cd9bf,_0x3e8e56=_0x27a339[_0x5c53ca(0x208)]?.[0x0];_0x27a339['value']='',_0x3e8e56&&await this[_0x5c53ca(0x21a)](_0x3e8e56);}),this[_0x2cd9bf(0x245)][_0x2cd9bf(0x236)](_0x2cd9bf(0x249),()=>{const _0x573897=_0x2cd9bf;this[_0x573897(0x20d)]=!this[_0x573897(0x20d)],!this[_0x573897(0x20d)]&&(this[_0x573897(0x265)][_0x573897(0x21b)]?this[_0x573897(0x1f2)]():this[_0x573897(0x210)]());}),this[_0x2cd9bf(0x227)](),this[_0x2cd9bf(0x23d)][_0x2cd9bf(0x236)](_0x2cd9bf(0x249),()=>{const _0x370951=_0x2cd9bf;UIkit[_0x370951(0x201)](_0x370951(0x259))['show'](),this['submitStateReady']();});const _0x450897=App['el'](_0x2cd9bf(0x218));_0x450897[_0x2cd9bf(0x236)](_0x2cd9bf(0x22f),_0x2cb986=>this[_0x2cd9bf(0x264)](_0x2cb986)),App['el'](_0x2cd9bf(0x243))[_0x2cd9bf(0x236)](_0x2cd9bf(0x249),_0x370092=>{const _0x180696=_0x2cd9bf;UIkit['modal']('#submit-modal')[_0x180696(0x1fa)]();}),_0x4c0b4b[_0x2cd9bf(0x1f7)](_0x2cd9bf(0x268))[_0x2cd9bf(0x207)](_0xa0eeb2=>{const _0x4d77df=_0x2cd9bf;_0xa0eeb2[_0x4d77df(0x236)](_0x4d77df(0x249),_0x1ced0c=>{const _0x277d1c=_0x4d77df;_0x1ced0c[_0x277d1c(0x246)](),UIkit[_0x277d1c(0x21d)](_0x277d1c(0x1f4))[_0x277d1c(0x1fa)](),_0x4c0b4b[_0x277d1c(0x1f7)](_0x277d1c(0x1f3))[_0x277d1c(0x207)](_0x7d50d1=>_0x7d50d1[_0x277d1c(0x205)]['remove'](_0x277d1c(0x21f))),_0xa0eeb2[_0x277d1c(0x205)][_0x277d1c(0x223)]('uk-active'),App['el'](_0x277d1c(0x1f5))[_0x277d1c(0x240)]=_0xa0eeb2['innerHTML'];});}),document[_0x2cd9bf(0x236)](_0x2cd9bf(0x21c),_0x19bec4=>{const _0x56dc9b=_0x2cd9bf,_0x3235a=document[_0x56dc9b(0x262)](_0x56dc9b(0x247));if(_0x3235a)return;!this[_0x56dc9b(0x21b)]&&(_0x19bec4['preventDefault'](),_0x19bec4[_0x56dc9b(0x235)](),this['studentApp'][_0x56dc9b(0x21c)](_0x19bec4[_0x56dc9b(0x25a)]));}),this['loginButton'][_0x2cd9bf(0x236)](_0x2cd9bf(0x249),async()=>this[_0x2cd9bf(0x25b)]()),this[_0x2cd9bf(0x200)][_0x2cd9bf(0x236)](_0x2cd9bf(0x249),async()=>this[_0x2cd9bf(0x1ff)]()),this[_0x2cd9bf(0x202)]=localStorage[_0x2cd9bf(0x209)](localStorageKey),this[_0x2cd9bf(0x202)]?(this[_0x2cd9bf(0x1f6)]=new RemoteStorage(namespace,this[_0x2cd9bf(0x202)]),this[_0x2cd9bf(0x252)][_0x2cd9bf(0x266)]=!![],this['adminSubmissionsToggle'][_0x2cd9bf(0x266)]=![]):(this[_0x2cd9bf(0x252)]['hidden']=![],this[_0x2cd9bf(0x200)][_0x2cd9bf(0x266)]=!![]);}async[a0_0x51b289(0x21a)](_0x494a40){const _0x383933=a0_0x51b289;try{const {keys:_0x4fbff8,text:_0xa28503}=await readKeys(_0x494a40);return this['keys']=_0x4fbff8,this['text']=_0xa28503,this[_0x383933(0x1f2)](),!![];}catch(_0x406852){return UIkit[_0x383933(0x201)][_0x383933(0x24d)](_0x406852[_0x383933(0x214)]),![];}}[a0_0x51b289(0x1f2)](){const _0x313a37=a0_0x51b289;this[_0x313a37(0x245)]['disabled']=![],this[_0x313a37(0x237)]['disabled']=![],this[_0x313a37(0x20d)]=![],this['playbackIndex']=0x0,this[_0x313a37(0x265)]=new appKlass(),this['continuePlayback']();}async['continuePlayback'](){const _0x45a9db=a0_0x51b289,_0x503793=_0x43784f=>new Promise(_0x1113e7=>setTimeout(_0x1113e7,_0x43784f));while(!this[_0x45a9db(0x20d)]&&this[_0x45a9db(0x229)]<this[_0x45a9db(0x20e)]['length']){await _0x503793(this[_0x45a9db(0x225)]);const _0x26ab70=this[_0x45a9db(0x20e)][this['playbackIndex']++];this[_0x45a9db(0x265)][_0x45a9db(0x21c)](_0x26ab70);}this['playbackIndex']>=this[_0x45a9db(0x20e)][_0x45a9db(0x26e)]&&(this[_0x45a9db(0x23d)][_0x45a9db(0x217)]=![],this[_0x45a9db(0x20d)]=!![]);}get[a0_0x51b289(0x20d)](){return this['_isPaused'];}set[a0_0x51b289(0x20d)](_0x10b24f){const _0x415f3c=a0_0x51b289;this[_0x415f3c(0x26b)]=_0x10b24f;const _0x17afe2=App['el'](_0x415f3c(0x211))[_0x415f3c(0x262)]('i'),_0x5ecc9e=[..._0x17afe2[_0x415f3c(0x205)]][_0x415f3c(0x253)](_0x41cbf3=>_0x41cbf3[_0x415f3c(0x219)](_0x415f3c(0x242)));_0x17afe2[_0x415f3c(0x205)]['remove'](..._0x5ecc9e),_0x17afe2[_0x415f3c(0x205)][_0x415f3c(0x223)](_0x10b24f?_0x415f3c(0x1fe):'fa-pause');}get['sleepTimeout'](){const _0x36ffcf=a0_0x51b289,_0x2e1d39=App['el'](_0x36ffcf(0x24e))[_0x36ffcf(0x262)]('a.uk-active[data-sleep]');return _0x2e1d39?parseInt(_0x2e1d39[_0x36ffcf(0x25e)](_0x36ffcf(0x25f)),0xa):null;}async[a0_0x51b289(0x264)](_0x3b1462){const _0x2015ea=a0_0x51b289;return;_0x3b1462[_0x2015ea(0x246)](),this[_0x2015ea(0x206)](_0x2015ea(0x20c));const _0x4e442e=App['el'](_0x2015ea(0x1f1))[_0x2015ea(0x230)],_0x2135e1=App['el']('last-name')['value'],_0x4150a1=App['el']('student-id')[_0x2015ea(0x230)],_0xbfdf0a=_0x2015ea(0x23c)+_0x4150a1,_0x41a9ca=rleCompress(this[_0x2015ea(0x20a)]),_0x9503ac=this[_0x2015ea(0x265)][_0x2015ea(0x222)](),_0x44865b={'firstName':_0x4e442e,'lastName':_0x2135e1,'studentID':_0x4150a1,'keystrokesKey':_0xbfdf0a,'contestStatus':_0x9503ac},_0x2465be='submission-'+_0x4150a1;try{await remoteStorage[_0x2015ea(0x22a)](_0xbfdf0a,_0x41a9ca),await remoteStorage['setItem'](_0x2465be,_0x44865b);}catch(_0x536fc0){this['submitStateDone'](_0x536fc0[_0x2015ea(0x214)]);}finally{this[_0x2015ea(0x26d)](_0x2015ea(0x224));}}['submitStateReady'](){const _0x19129d=a0_0x51b289;App['el'](_0x19129d(0x203))[_0x19129d(0x266)]=!![],App['el'](_0x19129d(0x213))[_0x19129d(0x266)]=!![],App['el']('modal-submit-btn')[_0x19129d(0x217)]=![],App['el'](_0x19129d(0x239))[_0x19129d(0x266)]=![],App['el'](_0x19129d(0x239))['disabled']=![],App['el']('modal-submit-btn')[_0x19129d(0x266)]=![],App['el'](_0x19129d(0x243))['hidden']=!![];}['submitStateBusy'](_0x44d65f){const _0x22f78c=a0_0x51b289;App['el'](_0x22f78c(0x203))[_0x22f78c(0x266)]=![],App['el'](_0x22f78c(0x203))['innerText']=_0x44d65f,App['el'](_0x22f78c(0x213))[_0x22f78c(0x266)]=![],App['el'](_0x22f78c(0x251))['disabled']=!![],App['el']('cancel-btn')[_0x22f78c(0x217)]=!![];}['submitStateDone'](_0x18600c){const _0x578f1f=a0_0x51b289;App['el']('status-msg')['hidden']=![],App['el']('status-msg')[_0x578f1f(0x26a)]=_0x18600c,App['el']('spinner')[_0x578f1f(0x266)]=!![],App['el'](_0x578f1f(0x251))[_0x578f1f(0x266)]=!![],App['el'](_0x578f1f(0x239))['hidden']=!![],App['el'](_0x578f1f(0x243))[_0x578f1f(0x266)]=![];}async['onClickedLogin'](){const _0x50aa83=a0_0x51b289,_0xf11ed0=_0x50aa83(0x23f)+appName,_0x5f2ec0=await UIkit[_0x50aa83(0x201)][_0x50aa83(0x248)](_0xf11ed0);_0x5f2ec0&&(this[_0x50aa83(0x1f6)]=new RemoteStorage(namespace,this[_0x50aa83(0x202)]),localStorage[_0x50aa83(0x22a)](localStorageKey,_0x5f2ec0),this[_0x50aa83(0x200)][_0x50aa83(0x266)]=![],this['adminSubmissionsToggle']['click']());}async['onClickedAdminSubmissions'](){const _0x2e8a4b=a0_0x51b289;try{const _0x30b22e=await this[_0x2e8a4b(0x1f6)][_0x2e8a4b(0x23b)](_0x2e8a4b(0x241));console[_0x2e8a4b(0x1f8)](_0x30b22e);const _0x59e78e=Object[_0x2e8a4b(0x24b)](_0x30b22e)[_0x2e8a4b(0x220)](_0x3dad3d=>_0x3dad3d[_0x2e8a4b(0x230)]);this['renderSubmissions'](_0x59e78e);}catch(_0x453e0d){console[_0x2e8a4b(0x1f8)]('error'+_0x453e0d),console[_0x2e8a4b(0x1f8)](_0x2e8a4b(0x238));}}['renderSubmissions'](_0x129a50){const _0x92249c=a0_0x51b289,_0x51af75=document[_0x92249c(0x262)](_0x92249c(0x23e)),_0xfe2524=document[_0x92249c(0x262)](_0x92249c(0x232)),_0x46dbc5=document[_0x92249c(0x262)](_0x92249c(0x221))[_0x92249c(0x212)];_0x51af75[_0x92249c(0x240)]=_0x92249c(0x22e)+(appName===_0x92249c(0x231)?_0x92249c(0x24c):_0x92249c(0x22b))+_0x92249c(0x21e),_0xfe2524[_0x92249c(0x240)]='';for(const _0x2c9f91 of _0x129a50){const _0x3e9b6f=_0x2c9f91[_0x92249c(0x222)],_0xc842eb=document[_0x92249c(0x267)](_0x46dbc5,!![]);_0xc842eb[_0x92249c(0x262)]('.name')[_0x92249c(0x1f9)]=_0x2c9f91['firstName']+'\x20'+_0x2c9f91[_0x92249c(0x216)],_0xc842eb[_0x92249c(0x262)](_0x92249c(0x269))['textContent']=_0x3e9b6f['turnCount'];const _0x2189c3=_0xc842eb[_0x92249c(0x262)](_0x92249c(0x254));_0x2189c3[_0x92249c(0x1f9)]=appName===_0x92249c(0x231)?_0x3e9b6f['calories']:_0x3e9b6f[_0x92249c(0x26e)]+_0x92249c(0x1fc)+_0x3e9b6f[_0x92249c(0x23a)]['toFixed'](0x4);const _0x5ad6b0=_0xc842eb['querySelector']('.uk-checkbox');appName===_0x92249c(0x231)?_0x5ad6b0[_0x92249c(0x1fd)]=_0x3e9b6f['creatureCount']===0x0:_0x5ad6b0[_0x92249c(0x22c)]('td')[_0x92249c(0x240)]='';const _0x378def=_0xc842eb['querySelector']('button');_0x378def['addEventListener']('click',async()=>{const _0x47b0fe=_0x92249c;await this[_0x47b0fe(0x263)](_0x2c9f91);}),_0xfe2524[_0x92249c(0x228)](_0xc842eb);}}async[a0_0x51b289(0x263)](_0x318f51){const _0x20facf=a0_0x51b289;try{const _0x5e7adf=_0x318f51[_0x20facf(0x258)],_0x2e1f5e=await this[_0x20facf(0x1f6)][_0x20facf(0x209)](_0x5e7adf);this[_0x20facf(0x20e)]=decompressAsKeys(_0x2e1f5e),this['startPlayback']();}catch(_0x133d98){console['log'](_0x20facf(0x25d)+_0x133d98);}}}const app=new App();