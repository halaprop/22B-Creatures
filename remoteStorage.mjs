function a0_0x4c7f(_0x271c82,_0x360c49){const _0xe343af=a0_0xe343();return a0_0x4c7f=function(_0x4c7f5a,_0x26c25e){_0x4c7f5a=_0x4c7f5a-0x6b;let _0x5b2c3a=_0xe343af[_0x4c7f5a];return _0x5b2c3a;},a0_0x4c7f(_0x271c82,_0x360c49);}function a0_0xe343(){const _0x2b18d6=['length','json','/login','getItem','/delete','\x20â†’\x20ERROR:\x20','2348847yiknrN','89680bvwOaW','startsWith','namespace','POST','entries','login','map','keys','1568280uVmZfY','/get','896476Gzxjnw','keysPaged','apiFetch','unknown\x20error','requestHeaders','59981fMQGCA','6598010FIenfz','list','token','toString','getItemWithMetadata','6ocsHYU','endpoint','body','push','clear','filter','application/json','/list','all','catch','GET','search','removeItem','setItem','log','3krNLLJ','status','8315566kFgtns','/set','getNamespace','name','https://remote-storage.dan-5d7.workers.dev/v1','stringify'];a0_0xe343=function(){return _0x2b18d6;};return a0_0xe343();}const a0_0x5b74f6=a0_0x4c7f;(function(_0x20f561,_0x423a0a){const _0x362dce=a0_0x4c7f,_0x4faf0a=_0x20f561();while(!![]){try{const _0x58c844=parseInt(_0x362dce(0x6c))/0x1+-parseInt(_0x362dce(0x9a))/0x2*(-parseInt(_0x362dce(0x81))/0x3)+-parseInt(_0x362dce(0x90))/0x4+-parseInt(_0x362dce(0x6d))/0x5+-parseInt(_0x362dce(0x72))/0x6*(-parseInt(_0x362dce(0x83))/0x7)+parseInt(_0x362dce(0x98))/0x8+parseInt(_0x362dce(0x8f))/0x9;if(_0x58c844===_0x423a0a)break;else _0x4faf0a['push'](_0x4faf0a['shift']());}catch(_0x845518){_0x4faf0a['push'](_0x4faf0a['shift']());}}}(a0_0xe343,0xc6091));export class RemoteStorage{constructor(_0x258773,_0x15dd36){const _0x5af1eb=a0_0x4c7f;this[_0x5af1eb(0x92)]=_0x258773,this['endpoint']=_0x5af1eb(0x87),this['requestHeaders']={'Authorization':_0x15dd36,'Content-Type':'application/json'};}async[a0_0x5b74f6(0x95)](_0x8991a0,_0x4f0b7b){const _0x3f5d84=a0_0x5b74f6,_0x31cd32=await fetch(this[_0x3f5d84(0x73)]+_0x3f5d84(0x8b),{'method':_0x3f5d84(0x93),'headers':{'Content-Type':_0x3f5d84(0x78)},'body':JSON[_0x3f5d84(0x88)]({'namespace':namespace,'userID':_0x8991a0,'password':_0x4f0b7b})});if(_0x31cd32[_0x3f5d84(0x82)]!=0xc8)throw{'error':_0x3f5d84(0x9d)};const _0x1486de=await _0x31cd32['json']()[_0x3f5d84(0x7b)](()=>({})),_0x19da0f=_0x1486de[_0x3f5d84(0x6f)];return this[_0x3f5d84(0x6b)]={'Authorization':_0x19da0f,'Content-Type':_0x3f5d84(0x78)},_0x19da0f;}async[a0_0x5b74f6(0x97)](){const _0x5f0285=a0_0x5b74f6;let _0x4564dd=[],_0x31a829=null;while(!![]){const {keys:_0x4ec51f,cursor:_0x370891,list_complete:_0x680b66}=await this['keysPaged']({'cursor':_0x31a829});_0x4564dd[_0x5f0285(0x75)](..._0x4ec51f);if(_0x680b66)break;_0x31a829=_0x370891;}return _0x4564dd;}async[a0_0x5b74f6(0x9b)]({limit:limit=0x3e8,cursor:_0x358fb2=null}={}){const _0x2f9aad=a0_0x5b74f6,{items:_0x1c4a7a,cursor:_0x28f569,list_complete:_0x14edb8}=await this['list']({'limit':limit,'cursor':_0x358fb2}),_0x9e250=_0x1c4a7a['map'](_0x41c372=>_0x41c372[_0x2f9aad(0x86)]);return{'keys':_0x9e250,'cursor':_0x28f569,'list_complete':_0x14edb8};}async[a0_0x5b74f6(0x85)](..._0x43afef){const _0x5ab437=a0_0x5b74f6,_0x4ee993={};let _0x33aef8=null;while(!![]){const {items:_0x1ebe1e,cursor:_0x52f3e9,list_complete:_0xad5270}=await this[_0x5ab437(0x6e)]({'cursor':_0x33aef8}),_0x46674b=_0x43afef[_0x5ab437(0x89)]?_0x1ebe1e[_0x5ab437(0x77)](_0x41e454=>_0x43afef['some'](_0x660af0=>_0x41e454['name'][_0x5ab437(0x91)](_0x660af0))):_0x1ebe1e,_0x141879=_0x46674b[_0x5ab437(0x96)](async({name:_0x1129e2,metadata:_0x158f0d})=>{const _0xfbeb10=await this['getItem'](_0x1129e2);_0x4ee993[_0x1129e2]={'value':_0xfbeb10,'metadata':_0x158f0d};});await Promise['all'](_0x141879);if(_0xad5270)break;_0x33aef8=_0x52f3e9;}return _0x4ee993;}async['list']({limit:limit=0x3e8,cursor:cursor=null}={}){const _0xa35f00=a0_0x5b74f6;return this['apiFetch'](_0xa35f00(0x7c),_0xa35f00(0x79),null,{'limit':limit,'cursor':cursor});}async[a0_0x5b74f6(0x7f)](_0x380a51,_0x5d8f6b){const _0x291863=a0_0x5b74f6;return this[_0x291863(0x9c)](_0x291863(0x93),_0x291863(0x84),{'key':_0x380a51,'value':_0x5d8f6b});}async[a0_0x5b74f6(0x8c)](_0xbce7d7){const _0xd46b2c=a0_0x5b74f6;return this['apiFetch']('GET',_0xd46b2c(0x99),null,{'key':_0xbce7d7});}async[a0_0x5b74f6(0x71)](_0x2318b7){const _0x312f38=a0_0x5b74f6;return this['apiFetch'](_0x312f38(0x7c),'/getWithMetadata',null,{'key':_0x2318b7});}async[a0_0x5b74f6(0x7e)](_0x420d3f){const _0x1c936b=a0_0x5b74f6;return this[_0x1c936b(0x9c)]('DELETE',_0x1c936b(0x8d),null,{'key':_0x420d3f});}async[a0_0x5b74f6(0x76)](){const _0x5e14e6=a0_0x5b74f6,_0x206d55=await this[_0x5e14e6(0x97)](),_0xfd6820=_0x206d55['map'](_0x5abf3d=>this[_0x5e14e6(0x7e)](_0x5abf3d));return await Promise[_0x5e14e6(0x7a)](_0xfd6820),null;}async['apiFetch'](_0x57d5c8,_0x39f133,_0x60c0f=null,_0x5afb09={}){const _0x531c11=a0_0x5b74f6;_0x5afb09={..._0x5afb09,'namespace':this[_0x531c11(0x92)]};let _0x241c92=new URL(''+this[_0x531c11(0x73)]+_0x39f133);const _0x2db254=new URLSearchParams();for(const [_0x54cba1,_0x2d4ef7]of Object[_0x531c11(0x94)](_0x5afb09)){_0x2d4ef7!==undefined&&_0x2d4ef7!==null&&_0x2db254['append'](_0x54cba1,_0x2d4ef7);}_0x241c92[_0x531c11(0x7d)]=_0x2db254[_0x531c11(0x70)]();const _0x2a13e8={'method':_0x57d5c8,'headers':this['requestHeaders']};if(_0x60c0f)_0x2a13e8[_0x531c11(0x74)]=JSON[_0x531c11(0x88)](_0x60c0f);try{const _0x28cbe9=await fetch(_0x241c92,_0x2a13e8),_0x20546a=await _0x28cbe9[_0x531c11(0x8a)]();if(!_0x28cbe9['ok'])throw{'error':_0x20546a};return _0x20546a;}catch(_0x1e5af3){console[_0x531c11(0x80)](_0x57d5c8+'\x20'+_0x241c92+_0x531c11(0x8e)+_0x1e5af3['message']);throw _0x1e5af3;}}}