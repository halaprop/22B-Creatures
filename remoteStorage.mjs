function a0_0x2f93(){const _0x259ac2=['9650208eBatju','getItemWithMetadata','apiFetch','catch','keysPaged','message','17495xkhMAC','1483840wxNpSF','json','length','toString','removeItem','516609AtsXLw','7HrMgsj','2088884xFLmWE','append','/login','getItem','requestHeaders','/set','entries','POST','all','log','/get','token','GET','list','map','filter','/delete','application/json','630672nzOnPa','921510LwEcJl','name','keys','namespace','https://remote-storage.dan-5d7.workers.dev/v1','endpoint','login','stringify','/getWithMetadata'];a0_0x2f93=function(){return _0x259ac2;};return a0_0x2f93();}const a0_0x915c24=a0_0x31cb;(function(_0x203bbb,_0x522228){const _0x4be60d=a0_0x31cb,_0x266716=_0x203bbb();while(!![]){try{const _0x496d3b=-parseInt(_0x4be60d(0x192))/0x1+-parseInt(_0x4be60d(0x1a3))/0x2+parseInt(_0x4be60d(0x1a8))/0x3+parseInt(_0x4be60d(0x1aa))/0x4+-parseInt(_0x4be60d(0x1a2))/0x5+parseInt(_0x4be60d(0x193))/0x6*(-parseInt(_0x4be60d(0x1a9))/0x7)+parseInt(_0x4be60d(0x19c))/0x8;if(_0x496d3b===_0x522228)break;else _0x266716['push'](_0x266716['shift']());}catch(_0x37add8){_0x266716['push'](_0x266716['shift']());}}}(a0_0x2f93,0x5a950));function a0_0x31cb(_0x11c4e1,_0x3ec984){const _0x2f93f4=a0_0x2f93();return a0_0x31cb=function(_0x31cb41,_0x2bbf78){_0x31cb41=_0x31cb41-0x188;let _0x4d1e55=_0x2f93f4[_0x31cb41];return _0x4d1e55;},a0_0x31cb(_0x11c4e1,_0x3ec984);}export class RemoteStorage{constructor(_0x50fee9,_0x5befab){const _0x53c9a2=a0_0x31cb;this[_0x53c9a2(0x196)]=_0x50fee9,this[_0x53c9a2(0x198)]=_0x53c9a2(0x197),this[_0x53c9a2(0x1ae)]={'Authorization':_0x5befab,'Content-Type':'application/json'};}async[a0_0x915c24(0x199)](_0x2b4a65,_0x51a820){const _0x1a9e4b=a0_0x915c24,_0x2ddd2d=await fetch(this[_0x1a9e4b(0x198)]+_0x1a9e4b(0x1ac),{'method':_0x1a9e4b(0x1b1),'headers':{'Content-Type':_0x1a9e4b(0x191)},'body':JSON[_0x1a9e4b(0x19a)]({'userID':_0x2b4a65,'password':_0x51a820})});if(_0x2ddd2d['status']!=0xc8)throw{'error':'unknown\x20error'};const _0x5bf3c9=await _0x2ddd2d[_0x1a9e4b(0x1a4)]()[_0x1a9e4b(0x19f)](()=>({})),_0x294450=_0x5bf3c9[_0x1a9e4b(0x18b)];return this[_0x1a9e4b(0x1ae)]={'Authorization':_0x294450,'Content-Type':_0x1a9e4b(0x191)},_0x294450;}async[a0_0x915c24(0x195)](){const _0x3ea8e3=a0_0x915c24;let _0x58355f=[],_0x14dda8=null;while(!![]){const {keys:_0x1fcf29,cursor:_0x8aef8c,list_complete:_0x26067b}=await this[_0x3ea8e3(0x1a0)]({'cursor':_0x14dda8});_0x58355f['push'](..._0x1fcf29);if(_0x26067b)break;_0x14dda8=_0x8aef8c;}return _0x58355f;}async[a0_0x915c24(0x1a0)]({limit:limit=0x3e8,cursor:_0x19caed=null}={}){const _0xe71f3f=a0_0x915c24,{items:_0x1d62fa,cursor:_0x50ff96,list_complete:_0x599862}=await this[_0xe71f3f(0x18d)]({'limit':limit,'cursor':_0x19caed}),_0x1a8ccd=_0x1d62fa['map'](_0x9bd6c5=>_0x9bd6c5[_0xe71f3f(0x194)]);return{'keys':_0x1a8ccd,'cursor':_0x50ff96,'list_complete':_0x599862};}async['getNamespace'](..._0x4ccaf8){const _0x530b96=a0_0x915c24,_0x521eb8={};let _0x397221=null;while(!![]){const {items:_0x29b84a,cursor:_0x1a0716,list_complete:_0x3b29ce}=await this[_0x530b96(0x18d)]({'cursor':_0x397221}),_0x5bb953=_0x4ccaf8[_0x530b96(0x1a5)]?_0x29b84a[_0x530b96(0x18f)](_0x281617=>_0x4ccaf8['some'](_0x419006=>_0x281617[_0x530b96(0x194)]['startsWith'](_0x419006))):_0x29b84a,_0x37329a=_0x5bb953['map'](async({name:_0x5c009f,metadata:_0x16acc6})=>{const _0x12ee88=await this['getItem'](_0x5c009f);_0x521eb8[_0x5c009f]={'value':_0x12ee88,'metadata':_0x16acc6};});await Promise[_0x530b96(0x188)](_0x37329a);if(_0x3b29ce)break;_0x397221=_0x1a0716;}return _0x521eb8;}async[a0_0x915c24(0x18d)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x4e6e7e=a0_0x915c24;return this[_0x4e6e7e(0x19e)](_0x4e6e7e(0x18c),'/list',null,{'limit':limit,'cursor':cursor});}async['setItem'](_0x22c977,_0xf5b03f){const _0x4a9cba=a0_0x915c24;return this[_0x4a9cba(0x19e)](_0x4a9cba(0x1b1),_0x4a9cba(0x1af),{'key':_0x22c977,'value':_0xf5b03f});}async[a0_0x915c24(0x1ad)](_0x49fc31){const _0x4811a4=a0_0x915c24;return this[_0x4811a4(0x19e)](_0x4811a4(0x18c),_0x4811a4(0x18a),null,{'key':_0x49fc31});}async[a0_0x915c24(0x19d)](_0x30b33f){const _0x32f111=a0_0x915c24;return this[_0x32f111(0x19e)](_0x32f111(0x18c),_0x32f111(0x19b),null,{'key':_0x30b33f});}async[a0_0x915c24(0x1a7)](_0xb99bef){const _0xe9822c=a0_0x915c24;return this['apiFetch']('DELETE',_0xe9822c(0x190),null,{'key':_0xb99bef});}async['clear'](){const _0x3fb444=a0_0x915c24,_0x33750e=await this[_0x3fb444(0x195)](),_0x1870c8=_0x33750e[_0x3fb444(0x18e)](_0x27987e=>this[_0x3fb444(0x1a7)](_0x27987e));return await Promise[_0x3fb444(0x188)](_0x1870c8),null;}async['apiFetch'](_0x307af5,_0x1f4dfd,_0x8cf169=null,_0x3e7573={}){const _0x15018c=a0_0x915c24;_0x3e7573={..._0x3e7573,'namespace':this[_0x15018c(0x196)]};let _0x4f1aab=new URL(''+this[_0x15018c(0x198)]+_0x1f4dfd);const _0x176cc4=new URLSearchParams();for(const [_0x342a7b,_0x528756]of Object[_0x15018c(0x1b0)](_0x3e7573)){_0x528756!==undefined&&_0x528756!==null&&_0x176cc4[_0x15018c(0x1ab)](_0x342a7b,_0x528756);}_0x4f1aab['search']=_0x176cc4[_0x15018c(0x1a6)]();const _0x3a9e93={'method':_0x307af5,'headers':this[_0x15018c(0x1ae)]};if(_0x8cf169)_0x3a9e93['body']=JSON[_0x15018c(0x19a)](_0x8cf169);try{const _0x2b5ab9=await fetch(_0x4f1aab,_0x3a9e93),_0x488088=await _0x2b5ab9[_0x15018c(0x1a4)]();if(!_0x2b5ab9['ok'])throw{'error':_0x488088};return _0x488088;}catch(_0xa2e478){console[_0x15018c(0x189)](_0x307af5+'\x20'+_0x4f1aab+'\x20â†’\x20ERROR:\x20'+_0xa2e478[_0x15018c(0x1a1)]);throw _0xa2e478;}}}