const a0_0x13c1ac=a0_0x54d9;(function(_0x54a882,_0x100fee){const _0x358460=a0_0x54d9,_0x28d07b=_0x54a882();while(!![]){try{const _0x3f51a9=parseInt(_0x358460(0x109))/0x1*(parseInt(_0x358460(0xf5))/0x2)+parseInt(_0x358460(0x115))/0x3+-parseInt(_0x358460(0xe1))/0x4*(-parseInt(_0x358460(0xe5))/0x5)+parseInt(_0x358460(0x105))/0x6*(-parseInt(_0x358460(0x100))/0x7)+parseInt(_0x358460(0x11b))/0x8+-parseInt(_0x358460(0xef))/0x9*(parseInt(_0x358460(0xfe))/0xa)+-parseInt(_0x358460(0xeb))/0xb;if(_0x3f51a9===_0x100fee)break;else _0x28d07b['push'](_0x28d07b['shift']());}catch(_0x97a06f){_0x28d07b['push'](_0x28d07b['shift']());}}}(a0_0x334a,0xa3e46));import{ConsoleGrid,Cout}from'./console-grid.js';function a0_0x334a(){const _0x231135=['eraseCharAt','783952HGNkHQ','color','writeLine','contestStatus','creatureCount','find','playerCol','takeTurn','ArrowUp','white','main-canvas','getElementById','row','tomato','Falcon','move','glyph','padEnd','toString','chartreuse','erase','.\x20Player\x20has\x20','aqua','Having\x20eaten\x20everything,\x20player\x20wins!','Lynx','Deer','Having\x20starved,\x20player\x20dies.','removeCreature','addCreaturesFromFile','creatureList','orangered','crimson','Ate\x20the\x20','grid','cout','cyan','colCount','8ohzTZG','initialCalories','takeTurns','dCol','2557430wJLrVO','map','filter','Porcupine','Badger','deepskyblue','7797515GlJCeX','yellow','Raccoon','col','1854oySekr','orange','Skunk','statusString','forEach','draw','1880iFSADc','Rabbit','name','assign','ArrowDown','calories','dodgerblue','kCaloriesConsumedPerMove','Mouse','2150jlOxjf','join','209657TkJNEn','gold','playerRow','ArrowLeft','creatureAtPosition','168fznPxF','sleepTimeout','gameOver','magenta','1144wbnUDm','positionEquals','drawCharAt','resting','ArrowRight','rest','Owl','turnCount','rowCount','setStatusLine','keydown','kInitialPlayerCalories','200277DmbJpQ','dRow','playerCalories','kCaloriesGainedPerRest','creatures'];a0_0x334a=function(){return _0x231135;};return a0_0x334a();}function a0_0x54d9(_0x795d10,_0x58cac3){const _0x334ae4=a0_0x334a();return a0_0x54d9=function(_0x54d98f,_0x73aa6f){_0x54d98f=_0x54d98f-0xc6;let _0x31edcb=_0x334ae4[_0x54d98f];return _0x31edcb;},a0_0x54d9(_0x795d10,_0x58cac3);}export class CreaturesApp{static [a0_0x13c1ac(0x114)]=0x78;static [a0_0x13c1ac(0xfc)]=0x5;constructor(){const _0x14043e=a0_0x13c1ac,_0x1d07f9={'canvas':document[_0x14043e(0xc7)](_0x14043e(0xc6)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x14043e(0x106)]=0x64,this['grid']=new ConsoleGrid(_0x1d07f9);const _0xfa2655=document[_0x14043e(0xc7)]('cout-lines');this[_0x14043e(0xde)]=new Cout(_0xfa2655),this[_0x14043e(0x102)]=0x5,this[_0x14043e(0x121)]=0x5,this[_0x14043e(0x117)]=CreaturesApp[_0x14043e(0x114)],this['turnCount']=0x0,this[_0x14043e(0x107)]=![],this[_0x14043e(0xd9)]=new CreatureList(),this[_0x14043e(0xd9)][_0x14043e(0xd8)](),this[_0x14043e(0xd9)][_0x14043e(0xf4)](this[_0x14043e(0xdd)]),this[_0x14043e(0xdd)][_0x14043e(0x10b)](this['playerRow'],this[_0x14043e(0x121)],'@',_0x14043e(0x124)),this['grid'][_0x14043e(0x112)](this[_0x14043e(0xf2)](this[_0x14043e(0x117)],'')),this[_0x14043e(0xde)][_0x14043e(0x11d)](this[_0x14043e(0xd9)][_0x14043e(0xce)]());}[a0_0x13c1ac(0xf2)](_0x215a77,_0x34a2ac){const _0x5853d1=a0_0x13c1ac;return'Turn\x20'+this[_0x5853d1(0x110)]+_0x5853d1(0xd1)+_0x215a77+'\x20cals.\x20'+_0x34a2ac;}[a0_0x13c1ac(0x113)](_0x1635cd){const _0x1d00f1=a0_0x13c1ac;if(this[_0x1d00f1(0x107)])return;let _0x5740c3=![],_0x3e8f14='';this[_0x1d00f1(0xd9)][_0x1d00f1(0xd0)](this['grid']),this[_0x1d00f1(0xdd)][_0x1d00f1(0x11a)](this[_0x1d00f1(0x102)],this[_0x1d00f1(0x121)]);switch(_0x1635cd){case _0x1d00f1(0x123):this['playerRow']>0x0&&(_0x5740c3=!![],this[_0x1d00f1(0x102)]--);break;case _0x1d00f1(0xf9):this[_0x1d00f1(0x102)]+0x1<this[_0x1d00f1(0xdd)][_0x1d00f1(0x111)]&&(_0x5740c3=!![],this[_0x1d00f1(0x102)]++);break;case _0x1d00f1(0x103):this[_0x1d00f1(0x121)]>0x0&&(_0x5740c3=!![],this[_0x1d00f1(0x121)]--);break;case _0x1d00f1(0x10d):this['playerCol']+0x1<this[_0x1d00f1(0xdd)][_0x1d00f1(0xe0)]&&(_0x5740c3=!![],this[_0x1d00f1(0x121)]++);break;case'Q':case'q':this[_0x1d00f1(0x107)]=!![];break;default:break;}if(!this['gameOver']){_0x5740c3&&(this[_0x1d00f1(0x117)]-=CreaturesApp[_0x1d00f1(0xfc)]);this[_0x1d00f1(0xd9)][_0x1d00f1(0xe3)](this['grid'][_0x1d00f1(0x111)],this[_0x1d00f1(0xdd)][_0x1d00f1(0xe0)]);let _0x4b2b2a=this[_0x1d00f1(0xd9)]['creatureAtPosition'](this[_0x1d00f1(0x102)],this['playerCol']);_0x4b2b2a&&(_0x3e8f14=_0x1d00f1(0xdc)+_0x4b2b2a[_0x1d00f1(0xf7)],this[_0x1d00f1(0x117)]+=_0x4b2b2a[_0x1d00f1(0xfa)],this['creatureList']['removeCreature'](_0x4b2b2a),this['creatureList'][_0x1d00f1(0x11f)]()==0x0&&(_0x3e8f14=_0x1d00f1(0xd3),this[_0x1d00f1(0x107)]=!![])),this['playerCalories']<=0x0&&(_0x3e8f14=_0x1d00f1(0xd6),this[_0x1d00f1(0x107)]=!![]),this[_0x1d00f1(0x110)]++;}this[_0x1d00f1(0xd9)][_0x1d00f1(0xf4)](this[_0x1d00f1(0xdd)]),this[_0x1d00f1(0xdd)]['drawCharAt'](this[_0x1d00f1(0x102)],this[_0x1d00f1(0x121)],'@','white'),this['grid'][_0x1d00f1(0x112)](this[_0x1d00f1(0xf2)](this['playerCalories'],_0x3e8f14)),this['cout'][_0x1d00f1(0x11d)](this[_0x1d00f1(0xd9)][_0x1d00f1(0xce)]());}[a0_0x13c1ac(0x11e)](){const _0x3f6d41=a0_0x13c1ac,_0x2c2af3=this[_0x3f6d41(0x110)],_0x433fba=this[_0x3f6d41(0x117)],_0x5874fd=this['creatureList'][_0x3f6d41(0x11f)]();return{'turnCount':_0x2c2af3,'calories':_0x433fba,'creatureCount':_0x5874fd};}}class Creature{constructor(_0xbbd146){const _0x529d4c=a0_0x13c1ac;Object[_0x529d4c(0xf8)](this,_0xbbd146),this[_0x529d4c(0xe2)]=this[_0x529d4c(0xfa)];}static [a0_0x13c1ac(0xfc)]=0x5;static ['kCaloriesGainedPerMeal']=0x3c;static ['kCaloriesGainedPerRest']=0x5;[a0_0x13c1ac(0x10a)](_0x2560c5,_0x4c6e6b){const _0x1fea0d=a0_0x13c1ac;return this[_0x1fea0d(0xc8)]==_0x2560c5&&this[_0x1fea0d(0xee)]==_0x4c6e6b;}[a0_0x13c1ac(0x122)](_0x1d0dc3,_0x22bc2e){const _0x1ebbde=a0_0x13c1ac;this[_0x1ebbde(0x10c)]?this[_0x1ebbde(0x10e)]():this['move'](_0x1d0dc3,_0x22bc2e);}[a0_0x13c1ac(0xcb)](_0xf821cd,_0x4decac){const _0x9c06c8=a0_0x13c1ac;let _0x25b07e=this[_0x9c06c8(0xc8)]+this['dRow'];(_0x25b07e<0x0||_0x25b07e>=_0xf821cd)&&(this[_0x9c06c8(0x116)]*=-0x1,_0x25b07e=this[_0x9c06c8(0xc8)]+this[_0x9c06c8(0x116)]);let _0x3444dc=this[_0x9c06c8(0xee)]+this[_0x9c06c8(0xe4)];(_0x3444dc<0x0||_0x3444dc>=_0x4decac)&&(this[_0x9c06c8(0xe4)]*=-0x1,_0x3444dc=this[_0x9c06c8(0xee)]+this[_0x9c06c8(0xe4)]),(this['row']!=_0x25b07e||this[_0x9c06c8(0xee)]!=_0x3444dc)&&(this[_0x9c06c8(0xc8)]=_0x25b07e,this[_0x9c06c8(0xee)]=_0x3444dc,this[_0x9c06c8(0xfa)]-=Creature[_0x9c06c8(0xfc)],this[_0x9c06c8(0xfa)]<=0x0&&(this['resting']=!![]));}[a0_0x13c1ac(0x10e)](){const _0x5d540e=a0_0x13c1ac;this[_0x5d540e(0xfa)]+=Creature[_0x5d540e(0x118)],this[_0x5d540e(0xfa)]>0.75*this[_0x5d540e(0xe2)]&&(this['resting']=![]);}[a0_0x13c1ac(0xf4)](_0x2b6e23){const _0x4086d1=a0_0x13c1ac;_0x2b6e23[_0x4086d1(0x10b)](this[_0x4086d1(0xc8)],this[_0x4086d1(0xee)],this[_0x4086d1(0xcc)],this[_0x4086d1(0x11c)]);}[a0_0x13c1ac(0xd0)](_0x3b06c9){const _0xa6ecf7=a0_0x13c1ac;_0x3b06c9['eraseCharAt'](this[_0xa6ecf7(0xc8)],this[_0xa6ecf7(0xee)]);}[a0_0x13c1ac(0xce)](){const _0x565c43=a0_0x13c1ac;return this[_0x565c43(0xf7)][_0x565c43(0xcd)](0xa)+'\x20('+this[_0x565c43(0xcc)]+')\x20'+this['calories']['toString']()['padStart'](0x4);}}class CreatureList{constructor(){}[a0_0x13c1ac(0xd8)](){const _0x334499=a0_0x13c1ac,_0x4df5cc=[{'name':_0x334499(0xfd),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x334499(0xd2)},{'name':_0x334499(0xf6),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':'green'},{'name':'Boar','glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x334499(0xec)},{'name':'Squirrel','glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':'violet'},{'name':_0x334499(0xd5),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x334499(0x108)},{'name':'Fox','glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x334499(0xf0)},{'name':_0x334499(0xed),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x334499(0xdb)},{'name':_0x334499(0x10f),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x334499(0xea)},{'name':'Hedgehog','glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x334499(0xcf)},{'name':_0x334499(0xe9),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x334499(0x101)},{'name':_0x334499(0xe8),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x334499(0xc9)},{'name':_0x334499(0xf1),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x334499(0xdf)},{'name':_0x334499(0xd4),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x334499(0xfb)},{'name':_0x334499(0xca),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x334499(0xda)}];this[_0x334499(0x119)]=_0x4df5cc[_0x334499(0xe6)](_0x514ee7=>new Creature(_0x514ee7));}['draw'](_0x422639){const _0xd93211=a0_0x13c1ac;this[_0xd93211(0x119)]['forEach'](_0x4eec28=>_0x4eec28['draw'](_0x422639));}[a0_0x13c1ac(0xd0)](_0x1c194b){const _0x3005f5=a0_0x13c1ac;this[_0x3005f5(0x119)][_0x3005f5(0xf3)](_0x4a4fe2=>_0x4a4fe2[_0x3005f5(0xd0)](_0x1c194b));}[a0_0x13c1ac(0xe3)](_0x153391,_0x1dc2e9){const _0x37c251=a0_0x13c1ac;this[_0x37c251(0x119)]['forEach'](_0x1dc928=>_0x1dc928['takeTurn'](_0x153391,_0x1dc2e9));}[a0_0x13c1ac(0x104)](_0x114bc2,_0x21ca29){const _0x497546=a0_0x13c1ac;return this[_0x497546(0x119)][_0x497546(0x120)](_0x4f7bd8=>_0x4f7bd8[_0x497546(0x10a)](_0x114bc2,_0x21ca29));}[a0_0x13c1ac(0xd7)](_0x5825a1){const _0x243fe4=a0_0x13c1ac;this[_0x243fe4(0x119)]=this[_0x243fe4(0x119)][_0x243fe4(0xe7)](_0x2ceff7=>_0x2ceff7!=_0x5825a1);}[a0_0x13c1ac(0x11f)](){const _0x53f2fb=a0_0x13c1ac;return this[_0x53f2fb(0x119)]['length'];}['toString'](){const _0x497d4b=a0_0x13c1ac;return this[_0x497d4b(0x119)][_0x497d4b(0xe6)](_0x435659=>_0x435659[_0x497d4b(0xce)]())[_0x497d4b(0xff)]('<br>');}}