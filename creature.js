const a0_0x468d61=a0_0x3990;function a0_0x3990(_0x2e4e68,_0x554a67){const _0xdf7c67=a0_0xdf7c();return a0_0x3990=function(_0x39903a,_0x54b796){_0x39903a=_0x39903a-0x185;let _0x5e6b26=_0xdf7c67[_0x39903a];return _0x5e6b26;},a0_0x3990(_0x2e4e68,_0x554a67);}(function(_0x115864,_0x5e180b){const _0x3c2767=a0_0x3990,_0x205447=_0x115864();while(!![]){try{const _0x161967=parseInt(_0x3c2767(0x1ba))/0x1+-parseInt(_0x3c2767(0x186))/0x2*(parseInt(_0x3c2767(0x19d))/0x3)+-parseInt(_0x3c2767(0x1b7))/0x4+parseInt(_0x3c2767(0x19f))/0x5+-parseInt(_0x3c2767(0x1d7))/0x6*(-parseInt(_0x3c2767(0x1db))/0x7)+parseInt(_0x3c2767(0x1a7))/0x8+-parseInt(_0x3c2767(0x1d5))/0x9;if(_0x161967===_0x5e180b)break;else _0x205447['push'](_0x205447['shift']());}catch(_0x349461){_0x205447['push'](_0x205447['shift']());}}}(a0_0xdf7c,0x733f4));import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x468d61(0x189)]=0x78;static [a0_0x468d61(0x1b3)]=0x5;constructor(){const _0x4dbd59=a0_0x468d61,_0x294a86={'canvas':document['getElementById']('main-canvas'),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x4dbd59(0x1bd)]=0x64,this[_0x4dbd59(0x188)]=new ConsoleGrid(_0x294a86);const _0x22cf84=document[_0x4dbd59(0x1c0)]('cout-lines');this[_0x4dbd59(0x18f)]=new Cout(_0x22cf84),this['playerRow']=0x5,this[_0x4dbd59(0x1df)]=0x5,this[_0x4dbd59(0x193)]=CreaturesApp[_0x4dbd59(0x189)],this['turnCount']=0x0,this[_0x4dbd59(0x199)]=![],this[_0x4dbd59(0x18e)]=new CreatureList(),this['creatureList'][_0x4dbd59(0x1c8)](),this[_0x4dbd59(0x18e)]['draw'](this['grid']),this['grid'][_0x4dbd59(0x1e1)](this[_0x4dbd59(0x1c3)],this[_0x4dbd59(0x1df)],'@','white'),this[_0x4dbd59(0x188)][_0x4dbd59(0x1ac)](this[_0x4dbd59(0x1c2)](this[_0x4dbd59(0x193)],'')),this[_0x4dbd59(0x18f)][_0x4dbd59(0x1cd)](this[_0x4dbd59(0x18e)][_0x4dbd59(0x1cc)]());}[a0_0x468d61(0x1c2)](_0x3cfcb9,_0xdb0890){const _0x139368=a0_0x468d61;return _0x139368(0x1e0)+this[_0x139368(0x1b1)]+_0x139368(0x1d6)+_0x3cfcb9+_0x139368(0x18b)+_0xdb0890;}[a0_0x468d61(0x1d4)](_0x565b45){const _0x5cec3b=a0_0x468d61;if(this[_0x5cec3b(0x199)])return;let _0x3f48ce=![],_0x556eee='';this['creatureList'][_0x5cec3b(0x19e)](this[_0x5cec3b(0x188)]),this[_0x5cec3b(0x188)][_0x5cec3b(0x1bb)](this[_0x5cec3b(0x1c3)],this['playerCol']);switch(_0x565b45){case _0x5cec3b(0x1b5):this[_0x5cec3b(0x1c3)]>0x0&&(_0x3f48ce=!![],this[_0x5cec3b(0x1c3)]--);break;case _0x5cec3b(0x192):this[_0x5cec3b(0x1c3)]+0x1<this[_0x5cec3b(0x188)][_0x5cec3b(0x1de)]&&(_0x3f48ce=!![],this[_0x5cec3b(0x1c3)]++);break;case'ArrowLeft':this['playerCol']>0x0&&(_0x3f48ce=!![],this[_0x5cec3b(0x1df)]--);break;case _0x5cec3b(0x1a5):this[_0x5cec3b(0x1df)]+0x1<this[_0x5cec3b(0x188)]['colCount']&&(_0x3f48ce=!![],this[_0x5cec3b(0x1df)]++);break;case'Q':case'q':this[_0x5cec3b(0x199)]=!![];break;default:break;}if(!this[_0x5cec3b(0x199)]){_0x3f48ce&&(this[_0x5cec3b(0x193)]-=CreaturesApp['kCaloriesConsumedPerMove']);this[_0x5cec3b(0x18e)]['takeTurns'](this[_0x5cec3b(0x188)][_0x5cec3b(0x1de)],this[_0x5cec3b(0x188)][_0x5cec3b(0x187)]);let _0x2becdb=this[_0x5cec3b(0x18e)]['creatureAtPosition'](this[_0x5cec3b(0x1c3)],this[_0x5cec3b(0x1df)]);_0x2becdb&&(_0x556eee=_0x5cec3b(0x1a0)+_0x2becdb['name'],this[_0x5cec3b(0x193)]+=_0x2becdb[_0x5cec3b(0x196)],this[_0x5cec3b(0x18e)][_0x5cec3b(0x1c7)](_0x2becdb),this['creatureList'][_0x5cec3b(0x1b6)]()==0x0&&(_0x556eee=_0x5cec3b(0x1d1),this[_0x5cec3b(0x199)]=!![])),this[_0x5cec3b(0x193)]<=0x0&&(_0x556eee=_0x5cec3b(0x1ad),this[_0x5cec3b(0x199)]=!![]),this[_0x5cec3b(0x1b1)]++;}this[_0x5cec3b(0x18e)]['draw'](this[_0x5cec3b(0x188)]),this[_0x5cec3b(0x188)][_0x5cec3b(0x1e1)](this[_0x5cec3b(0x1c3)],this[_0x5cec3b(0x1df)],'@','white'),this[_0x5cec3b(0x188)][_0x5cec3b(0x1ac)](this[_0x5cec3b(0x1c2)](this[_0x5cec3b(0x193)],_0x556eee)),this[_0x5cec3b(0x18f)]['writeLine'](this[_0x5cec3b(0x18e)][_0x5cec3b(0x1cc)]());}}class Creature{constructor(_0x2148ab){const _0xaee15=a0_0x468d61;Object[_0xaee15(0x190)](this,_0x2148ab),this[_0xaee15(0x1be)]=this[_0xaee15(0x196)];}static ['kCaloriesConsumedPerMove']=0x5;static [a0_0x468d61(0x1ae)]=0x3c;static [a0_0x468d61(0x1b2)]=0x5;[a0_0x468d61(0x19a)](_0x4c1648,_0xaf6341){const _0x379006=a0_0x468d61;return this['row']==_0x4c1648&&this[_0x379006(0x198)]==_0xaf6341;}['takeTurn'](_0x2c4c29,_0x551216){const _0x1b5fc9=a0_0x468d61;this[_0x1b5fc9(0x18d)]?this[_0x1b5fc9(0x1ca)]():this[_0x1b5fc9(0x191)](_0x2c4c29,_0x551216);}[a0_0x468d61(0x191)](_0x1d5965,_0x534d66){const _0x319938=a0_0x468d61;let _0x2dcc57=this[_0x319938(0x1b4)]+this[_0x319938(0x194)];(_0x2dcc57<0x0||_0x2dcc57>=_0x1d5965)&&(this[_0x319938(0x194)]*=-0x1,_0x2dcc57=this['row']+this['dRow']);let _0x5c5e17=this[_0x319938(0x198)]+this[_0x319938(0x18c)];(_0x5c5e17<0x0||_0x5c5e17>=_0x534d66)&&(this['dCol']*=-0x1,_0x5c5e17=this[_0x319938(0x198)]+this[_0x319938(0x18c)]),(this['row']!=_0x2dcc57||this[_0x319938(0x198)]!=_0x5c5e17)&&(this[_0x319938(0x1b4)]=_0x2dcc57,this[_0x319938(0x198)]=_0x5c5e17,this[_0x319938(0x196)]-=Creature[_0x319938(0x1b3)],this[_0x319938(0x196)]<=0x0&&(this['resting']=!![]));}[a0_0x468d61(0x1ca)](){const _0x3edc0b=a0_0x468d61;this['calories']+=Creature[_0x3edc0b(0x1b2)],this[_0x3edc0b(0x196)]>0.75*this[_0x3edc0b(0x1be)]&&(this['resting']=![]);}[a0_0x468d61(0x1e2)](_0x4fdcb1){const _0x4f191a=a0_0x468d61;_0x4fdcb1[_0x4f191a(0x1e1)](this['row'],this[_0x4f191a(0x198)],this[_0x4f191a(0x1dc)],this[_0x4f191a(0x1d0)]);}[a0_0x468d61(0x19e)](_0x5489e2){const _0x487028=a0_0x468d61;_0x5489e2[_0x487028(0x1bb)](this[_0x487028(0x1b4)],this['col']);}[a0_0x468d61(0x1cc)](){const _0x3e943f=a0_0x468d61;return this[_0x3e943f(0x185)][_0x3e943f(0x1b0)](0xa)+'\x20('+this[_0x3e943f(0x1dc)]+')\x20'+this[_0x3e943f(0x196)]['toString']()['padStart'](0x4);}}class CreatureList{constructor(){}[a0_0x468d61(0x1c8)](){const _0x564d91=a0_0x468d61,_0x1a0786=[{'name':'Mouse','glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':'aqua'},{'name':'Rabbit','glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x564d91(0x1c4)},{'name':_0x564d91(0x1a3),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x564d91(0x1d9)},{'name':_0x564d91(0x1c9),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x564d91(0x1c5)},{'name':_0x564d91(0x1c6),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x564d91(0x1ce)},{'name':'Fox','glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x564d91(0x1cf)},{'name':'Raccoon','glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x564d91(0x1dd)},{'name':_0x564d91(0x1d2),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x564d91(0x1d3)},{'name':_0x564d91(0x19b),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x564d91(0x1aa)},{'name':_0x564d91(0x1bc),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x564d91(0x197)},{'name':_0x564d91(0x1b9),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x564d91(0x1a2)},{'name':_0x564d91(0x1c1),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x564d91(0x1a1)},{'name':_0x564d91(0x1da),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':'dodgerblue'},{'name':_0x564d91(0x1a6),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x564d91(0x1bf)}];this['creatures']=_0x1a0786['map'](_0x3b2687=>new Creature(_0x3b2687));}[a0_0x468d61(0x1e2)](_0x558c6e){const _0x5b9239=a0_0x468d61;this['creatures'][_0x5b9239(0x1a4)](_0x388286=>_0x388286[_0x5b9239(0x1e2)](_0x558c6e));}[a0_0x468d61(0x19e)](_0x3e8d6f){const _0x5c78aa=a0_0x468d61;this['creatures']['forEach'](_0x180d4d=>_0x180d4d[_0x5c78aa(0x19e)](_0x3e8d6f));}[a0_0x468d61(0x19c)](_0x4e83ca,_0x46cc1e){const _0x2fc9c9=a0_0x468d61;this[_0x2fc9c9(0x1a9)][_0x2fc9c9(0x1a4)](_0x240dc1=>_0x240dc1[_0x2fc9c9(0x1a8)](_0x4e83ca,_0x46cc1e));}[a0_0x468d61(0x1af)](_0x59dbe2,_0x3473da){const _0x142e10=a0_0x468d61;return this[_0x142e10(0x1a9)][_0x142e10(0x1cb)](_0x5000ff=>_0x5000ff[_0x142e10(0x19a)](_0x59dbe2,_0x3473da));}[a0_0x468d61(0x1c7)](_0x30a845){const _0xbc3309=a0_0x468d61;this[_0xbc3309(0x1a9)]=this[_0xbc3309(0x1a9)][_0xbc3309(0x18a)](_0x4ec980=>_0x4ec980!=_0x30a845);}[a0_0x468d61(0x1b6)](){const _0x39ee95=a0_0x468d61;return this[_0x39ee95(0x1a9)][_0x39ee95(0x1b8)];}[a0_0x468d61(0x1cc)](){const _0x6c14c1=a0_0x468d61;return this[_0x6c14c1(0x1a9)][_0x6c14c1(0x1ab)](_0x2874df=>_0x2874df[_0x6c14c1(0x1cc)]())[_0x6c14c1(0x195)](_0x6c14c1(0x1d8));}}function a0_0xdf7c(){const _0x5abaab=['.\x20Player\x20has\x20','6obOyBp','<br>','yellow','Lynx','4870124yByxaH','glyph','crimson','rowCount','playerCol','Turn\x20','drawCharAt','draw','name','73362zQGgss','colCount','grid','kInitialPlayerCalories','filter','\x20cals.\x20','dCol','resting','creatureList','cout','assign','move','ArrowDown','playerCalories','dRow','join','calories','gold','col','gameOver','positionEquals','Hedgehog','takeTurns','39ZuldYb','erase','666410EIyJuA','Ate\x20the\x20','cyan','tomato','Boar','forEach','ArrowRight','Falcon','2310776WFZJZW','takeTurn','creatures','chartreuse','map','setStatusLine','Having\x20starved,\x20player\x20dies.','kCaloriesGainedPerMeal','creatureAtPosition','padEnd','turnCount','kCaloriesGainedPerRest','kCaloriesConsumedPerMove','row','ArrowUp','creatureCount','703004MuxKiN','length','Porcupine','803331yxkxtX','eraseCharAt','Badger','sleepTimeout','initialCalories','orangered','getElementById','Skunk','statusString','playerRow','green','violet','Deer','removeCreature','addCreaturesFromFile','Squirrel','rest','find','toString','writeLine','magenta','orange','color','Having\x20eaten\x20everything,\x20player\x20wins!','Owl','deepskyblue','keydown','7168824GJTnrm'];a0_0xdf7c=function(){return _0x5abaab;};return a0_0xdf7c();}