function a0_0x10d5(){const _0x38f976=['3052LYwTqp','\x20â†’\x20ERROR:\x20','clear','/list','application/json','getNamespace','2955764VcrAib','search','/delete','filter','2bNykRZ','/set','log','removeItem','1178886MsKJOa','list','6120caFTwR','getItem','getItemWithMetadata','1198261eLrTmG','GET','requestHeaders','toString','11073276QjcbqB','DELETE','some','endpoint','map','startsWith','setItem','keys','stringify','body','length','fetch','keysPaged','5ZBthnQ','10671110HZACML','4272786KUDUUi','/getWithMetadata','name','json','all'];a0_0x10d5=function(){return _0x38f976;};return a0_0x10d5();}const a0_0x494e89=a0_0x154a;(function(_0x4afc87,_0x2338d4){const _0x255520=a0_0x154a,_0x2bb29c=_0x4afc87();while(!![]){try{const _0xf64d04=-parseInt(_0x255520(0x170))/0x1*(-parseInt(_0x255520(0x167))/0x2)+-parseInt(_0x255520(0x158))/0x3+parseInt(_0x255520(0x163))/0x4*(parseInt(_0x255520(0x156))/0x5)+-parseInt(_0x255520(0x16b))/0x6+parseInt(_0x255520(0x15d))/0x7*(parseInt(_0x255520(0x16d))/0x8)+parseInt(_0x255520(0x174))/0x9+-parseInt(_0x255520(0x157))/0xa;if(_0xf64d04===_0x2338d4)break;else _0x2bb29c['push'](_0x2bb29c['shift']());}catch(_0x2e0f93){_0x2bb29c['push'](_0x2bb29c['shift']());}}}(a0_0x10d5,0xc68c4));function a0_0x154a(_0x13a4a1,_0xf49630){const _0x10d5b2=a0_0x10d5();return a0_0x154a=function(_0x154a0c,_0x182e9e){_0x154a0c=_0x154a0c-0x154;let _0x5d36cf=_0x10d5b2[_0x154a0c];return _0x5d36cf;},a0_0x154a(_0x13a4a1,_0xf49630);}export class RemoteStorage{constructor(_0x1fcbff,_0x34deeb){const _0x13d938=a0_0x154a;this['namespace']=_0x1fcbff,this[_0x13d938(0x177)]='https://remote-storage.dan-5d7.workers.dev/v1',this['requestHeaders']={'Authorization':_0x34deeb,'Content-Type':_0x13d938(0x161)};}async['keys'](){const _0x210fb9=a0_0x154a;let _0x429946=[],_0x388e42=null;while(!![]){const {keys:_0x45bf4a,cursor:_0x46892d,list_complete:_0x530b7f}=await this[_0x210fb9(0x155)]({'cursor':_0x388e42});_0x429946['push'](..._0x45bf4a);if(_0x530b7f)break;_0x388e42=_0x46892d;}return _0x429946;}async[a0_0x494e89(0x155)]({limit:limit=0x3e8,cursor:_0x513ad3=null}={}){const _0x110e5f=a0_0x494e89,{items:_0x45292f,cursor:_0x19ad34,list_complete:_0x808b3e}=await this[_0x110e5f(0x16c)]({'limit':limit,'cursor':_0x513ad3}),_0x2b67eb=_0x45292f[_0x110e5f(0x178)](_0x48810c=>_0x48810c['name']);return{'keys':_0x2b67eb,'cursor':_0x19ad34,'list_complete':_0x808b3e};}async[a0_0x494e89(0x162)](..._0x4fca4c){const _0x3b1f28=a0_0x494e89,_0x4e995c={};let _0x331007=null;while(!![]){const {items:_0x806a30,cursor:_0x5df691,list_complete:_0x547185}=await this[_0x3b1f28(0x16c)]({'cursor':_0x331007}),_0x8b83f2=_0x4fca4c[_0x3b1f28(0x17e)]?_0x806a30[_0x3b1f28(0x166)](_0x498afa=>_0x4fca4c[_0x3b1f28(0x176)](_0x3d2a35=>_0x498afa[_0x3b1f28(0x15a)][_0x3b1f28(0x179)](_0x3d2a35))):_0x806a30,_0x3e3531=_0x8b83f2[_0x3b1f28(0x178)](async({name:_0x3ab36e,metadata:_0x4bcbc6})=>{const _0x2bbf40=_0x3b1f28,_0x548542=await this[_0x2bbf40(0x16e)](_0x3ab36e);_0x4e995c[_0x3ab36e]={'value':_0x548542,'metadata':_0x4bcbc6};});await Promise[_0x3b1f28(0x15c)](_0x3e3531);if(_0x547185)break;_0x331007=_0x5df691;}return _0x4e995c;}async[a0_0x494e89(0x16c)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x35e745=a0_0x494e89;return this[_0x35e745(0x154)](_0x35e745(0x171),_0x35e745(0x160),null,{'limit':limit,'cursor':cursor});}async[a0_0x494e89(0x17a)](_0x235a6e,_0x33dee5){const _0x1c60c0=a0_0x494e89;return this['fetch']('POST',_0x1c60c0(0x168),{'key':_0x235a6e,'value':_0x33dee5});}async[a0_0x494e89(0x16e)](_0x2f447c){const _0x1874a1=a0_0x494e89;return this['fetch'](_0x1874a1(0x171),'/get',null,{'key':_0x2f447c});}async[a0_0x494e89(0x16f)](_0x55221e){const _0x406d4a=a0_0x494e89;return this[_0x406d4a(0x154)](_0x406d4a(0x171),_0x406d4a(0x159),null,{'key':_0x55221e});}async[a0_0x494e89(0x16a)](_0x3f8a0d){const _0x3cd4b8=a0_0x494e89;return this['fetch'](_0x3cd4b8(0x175),_0x3cd4b8(0x165),null,{'key':_0x3f8a0d});}async[a0_0x494e89(0x15f)](){const _0x51b247=a0_0x494e89,_0x191734=await this[_0x51b247(0x17b)](),_0x328271=_0x191734[_0x51b247(0x178)](_0x49f52f=>this[_0x51b247(0x16a)](_0x49f52f));return await Promise['all'](_0x328271),null;}async[a0_0x494e89(0x154)](_0x2a50fe,_0x136886,_0x22fd50=null,_0x175c45={}){const _0x333524=a0_0x494e89;_0x175c45={..._0x175c45,'namespace':this['namespace']};let _0x5d9480=new URL(''+this[_0x333524(0x177)]+_0x136886);const _0x35d635=new URLSearchParams();for(const [_0x49c16d,_0x1c24cc]of Object['entries'](_0x175c45)){_0x1c24cc!==undefined&&_0x1c24cc!==null&&_0x35d635['append'](_0x49c16d,_0x1c24cc);}_0x5d9480[_0x333524(0x164)]=_0x35d635[_0x333524(0x173)]();const _0x44055d={'method':_0x2a50fe,'headers':this[_0x333524(0x172)]};if(_0x22fd50)_0x44055d[_0x333524(0x17d)]=JSON[_0x333524(0x17c)](_0x22fd50);try{const _0x1a7487=await fetch(_0x5d9480,_0x44055d),_0x5cf7d0=await _0x1a7487[_0x333524(0x15b)]();if(!_0x1a7487['ok'])throw{'error':_0x5cf7d0};return _0x5cf7d0;}catch(_0x12cadd){console[_0x333524(0x169)](_0x2a50fe+'\x20'+_0x5d9480+_0x333524(0x15e)+_0x12cadd['message']);throw _0x12cadd;}}}