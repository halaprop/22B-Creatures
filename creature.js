const a0_0x4da005=a0_0x5b0c;(function(_0x2bcef8,_0x5618ad){const _0x292171=a0_0x5b0c,_0x22d3c2=_0x2bcef8();while(!![]){try{const _0x4a2288=parseInt(_0x292171(0xc8))/0x1*(-parseInt(_0x292171(0xbd))/0x2)+-parseInt(_0x292171(0xa3))/0x3+-parseInt(_0x292171(0xce))/0x4+parseInt(_0x292171(0xa5))/0x5+-parseInt(_0x292171(0xab))/0x6*(-parseInt(_0x292171(0xef))/0x7)+-parseInt(_0x292171(0xaf))/0x8*(parseInt(_0x292171(0xa4))/0x9)+-parseInt(_0x292171(0xd8))/0xa*(-parseInt(_0x292171(0xb3))/0xb);if(_0x4a2288===_0x5618ad)break;else _0x22d3c2['push'](_0x22d3c2['shift']());}catch(_0x37ffac){_0x22d3c2['push'](_0x22d3c2['shift']());}}}(a0_0x11fb,0xc33d1));function a0_0x5b0c(_0x19fd54,_0x15cd1f){const _0x11fb87=a0_0x11fb();return a0_0x5b0c=function(_0x5b0c23,_0x3a504b){_0x5b0c23=_0x5b0c23-0x9a;let _0x14e866=_0x11fb87[_0x5b0c23];return _0x14e866;},a0_0x5b0c(_0x19fd54,_0x15cd1f);}import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x4da005(0xd7)]=0x78;static [a0_0x4da005(0xb7)]=0x5;constructor(){const _0x28d26a=a0_0x4da005,_0x1b48fd={'canvas':document['getElementById'](_0x28d26a(0x9a)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x28d26a(0xc7)]=0x64,this['grid']=new ConsoleGrid(_0x1b48fd);const _0x4c4bb6=document['getElementById']('cout-lines');this[_0x28d26a(0xc0)]=new Cout(_0x4c4bb6),this[_0x28d26a(0xd5)]=0x5,this['playerCol']=0x5,this[_0x28d26a(0xcc)]=CreaturesApp[_0x28d26a(0xd7)],this[_0x28d26a(0xac)]=0x0,this['gameOver']=![],this[_0x28d26a(0xd0)]=new CreatureList(),this[_0x28d26a(0xd0)][_0x28d26a(0xb8)](),this[_0x28d26a(0xd0)][_0x28d26a(0xc4)](this[_0x28d26a(0xcf)]),this[_0x28d26a(0xcf)][_0x28d26a(0xbe)](this['playerRow'],this[_0x28d26a(0xbc)],'@',_0x28d26a(0xa9)),this[_0x28d26a(0xcf)][_0x28d26a(0xd3)](this[_0x28d26a(0xd6)](this[_0x28d26a(0xcc)],'')),this[_0x28d26a(0xc0)]['writeLine'](this[_0x28d26a(0xd0)][_0x28d26a(0xd2)]());}[a0_0x4da005(0xd6)](_0x578778,_0x344bb5){const _0x4ec3c2=a0_0x4da005;return'Turn\x20'+this[_0x4ec3c2(0xac)]+'.\x20Player\x20has\x20'+_0x578778+_0x4ec3c2(0xe1)+_0x344bb5;}[a0_0x4da005(0xeb)](_0x4a717b){const _0xccb11b=a0_0x4da005;if(this[_0xccb11b(0xb5)])return;let _0x4215ed=![],_0x1ae78d='';this[_0xccb11b(0xd0)]['erase'](this['grid']),this[_0xccb11b(0xcf)][_0xccb11b(0xe7)](this[_0xccb11b(0xd5)],this[_0xccb11b(0xbc)]);switch(_0x4a717b){case'ArrowUp':this[_0xccb11b(0xd5)]>0x0&&(_0x4215ed=!![],this[_0xccb11b(0xd5)]--);break;case'ArrowDown':this[_0xccb11b(0xd5)]+0x1<this[_0xccb11b(0xcf)][_0xccb11b(0xdb)]&&(_0x4215ed=!![],this[_0xccb11b(0xd5)]++);break;case _0xccb11b(0xdc):this[_0xccb11b(0xbc)]>0x0&&(_0x4215ed=!![],this[_0xccb11b(0xbc)]--);break;case _0xccb11b(0xa6):this[_0xccb11b(0xbc)]+0x1<this[_0xccb11b(0xcf)][_0xccb11b(0xa2)]&&(_0x4215ed=!![],this[_0xccb11b(0xbc)]++);break;case'Q':case'q':this[_0xccb11b(0xb5)]=!![];break;default:break;}if(!this[_0xccb11b(0xb5)]){_0x4215ed&&(this[_0xccb11b(0xcc)]-=CreaturesApp[_0xccb11b(0xb7)]);this[_0xccb11b(0xd0)]['takeTurns'](this[_0xccb11b(0xcf)][_0xccb11b(0xdb)],this[_0xccb11b(0xcf)]['colCount']);let _0x42da60=this[_0xccb11b(0xd0)][_0xccb11b(0xe2)](this['playerRow'],this[_0xccb11b(0xbc)]);_0x42da60&&(_0x1ae78d=_0xccb11b(0xf3)+_0x42da60['name'],this[_0xccb11b(0xcc)]+=_0x42da60[_0xccb11b(0xb1)],this[_0xccb11b(0xd0)][_0xccb11b(0xea)](_0x42da60),this[_0xccb11b(0xd0)]['creatureCount']()==0x0&&(_0x1ae78d=_0xccb11b(0xc6),this[_0xccb11b(0xb5)]=!![])),this['playerCalories']<=0x0&&(_0x1ae78d=_0xccb11b(0xd9),this[_0xccb11b(0xb5)]=!![]),this[_0xccb11b(0xac)]++;}this[_0xccb11b(0xd0)][_0xccb11b(0xc4)](this[_0xccb11b(0xcf)]),this['grid']['drawCharAt'](this[_0xccb11b(0xd5)],this[_0xccb11b(0xbc)],'@',_0xccb11b(0xa9)),this[_0xccb11b(0xcf)]['setStatusLine'](this[_0xccb11b(0xd6)](this[_0xccb11b(0xcc)],_0x1ae78d)),this[_0xccb11b(0xc0)][_0xccb11b(0xc2)](this[_0xccb11b(0xd0)][_0xccb11b(0xd2)]());}['contestStatus'](){const _0x5668b3=a0_0x4da005,_0x4009ba=this[_0x5668b3(0xac)],_0x1cc9c0=this[_0x5668b3(0xcc)],_0x4d1681=this['creatureList']['creatureCount']();return{'turnCount':_0x4009ba,'calories':_0x1cc9c0,'creatureCount':_0x4d1681};}}class Creature{constructor(_0x50b81e){const _0x14555e=a0_0x4da005;Object[_0x14555e(0xb9)](this,_0x50b81e),this['initialCalories']=this[_0x14555e(0xb1)];}static [a0_0x4da005(0xb7)]=0x5;static ['kCaloriesGainedPerMeal']=0x3c;static [a0_0x4da005(0xb6)]=0x5;[a0_0x4da005(0xe4)](_0x259435,_0x41b809){const _0x2333e=a0_0x4da005;return this['row']==_0x259435&&this[_0x2333e(0xd4)]==_0x41b809;}[a0_0x4da005(0xf1)](_0x1de9e5,_0x44e057){const _0x46b2ce=a0_0x4da005;this[_0x46b2ce(0xec)]?this[_0x46b2ce(0xa1)]():this['move'](_0x1de9e5,_0x44e057);}['move'](_0x16f8d2,_0x23c5f8){const _0x30e868=a0_0x4da005;let _0x155b0f=this[_0x30e868(0xe9)]+this[_0x30e868(0x9b)];(_0x155b0f<0x0||_0x155b0f>=_0x16f8d2)&&(this[_0x30e868(0x9b)]*=-0x1,_0x155b0f=this[_0x30e868(0xe9)]+this[_0x30e868(0x9b)]);let _0x3a3743=this[_0x30e868(0xd4)]+this[_0x30e868(0xb0)];(_0x3a3743<0x0||_0x3a3743>=_0x23c5f8)&&(this['dCol']*=-0x1,_0x3a3743=this[_0x30e868(0xd4)]+this[_0x30e868(0xb0)]),(this[_0x30e868(0xe9)]!=_0x155b0f||this[_0x30e868(0xd4)]!=_0x3a3743)&&(this[_0x30e868(0xe9)]=_0x155b0f,this[_0x30e868(0xd4)]=_0x3a3743,this[_0x30e868(0xb1)]-=Creature['kCaloriesConsumedPerMove'],this[_0x30e868(0xb1)]<=0x0&&(this[_0x30e868(0xec)]=!![]));}[a0_0x4da005(0xa1)](){const _0x4cc951=a0_0x4da005;this[_0x4cc951(0xb1)]+=Creature[_0x4cc951(0xb6)],this[_0x4cc951(0xb1)]>0.75*this[_0x4cc951(0xe3)]&&(this['resting']=![]);}['draw'](_0x3679d6){const _0x253307=a0_0x4da005;_0x3679d6[_0x253307(0xbe)](this[_0x253307(0xe9)],this['col'],this['glyph'],this['color']);}[a0_0x4da005(0xcd)](_0x30593c){const _0x2f1e7a=a0_0x4da005;_0x30593c[_0x2f1e7a(0xe7)](this[_0x2f1e7a(0xe9)],this[_0x2f1e7a(0xd4)]);}['toString'](){const _0x82da44=a0_0x4da005;return this['name'][_0x82da44(0xcb)](0xa)+'\x20('+this['glyph']+')\x20'+this['calories'][_0x82da44(0xd2)]()[_0x82da44(0xb2)](0x4);}}class CreatureList{constructor(){}[a0_0x4da005(0xb8)](){const _0x3cc852=a0_0x4da005,_0x298cc0=[{'name':_0x3cc852(0xdf),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x3cc852(0x9f)},{'name':'Rabbit','glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x3cc852(0xad)},{'name':_0x3cc852(0x9c),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x3cc852(0xda)},{'name':_0x3cc852(0xd1),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x3cc852(0xf2)},{'name':_0x3cc852(0xe6),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x3cc852(0x9d)},{'name':_0x3cc852(0xbf),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x3cc852(0xbb)},{'name':_0x3cc852(0xae),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x3cc852(0xdd)},{'name':_0x3cc852(0xc5),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x3cc852(0xba)},{'name':_0x3cc852(0xf0),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x3cc852(0xed)},{'name':_0x3cc852(0xe8),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x3cc852(0xca)},{'name':_0x3cc852(0xaa),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x3cc852(0xa8)},{'name':_0x3cc852(0xde),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x3cc852(0xe0)},{'name':_0x3cc852(0xc3),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x3cc852(0x9e)},{'name':'Falcon','glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':'orangered'}];this[_0x3cc852(0xe5)]=_0x298cc0[_0x3cc852(0xc9)](_0x469cda=>new Creature(_0x469cda));}[a0_0x4da005(0xc4)](_0x4624e7){const _0xf1223a=a0_0x4da005;this[_0xf1223a(0xe5)]['forEach'](_0x2a427c=>_0x2a427c[_0xf1223a(0xc4)](_0x4624e7));}[a0_0x4da005(0xcd)](_0x78aac5){const _0x424e5d=a0_0x4da005;this['creatures'][_0x424e5d(0xee)](_0x2314aa=>_0x2314aa[_0x424e5d(0xcd)](_0x78aac5));}[a0_0x4da005(0xa7)](_0x1cbaa8,_0x51c6e5){const _0x5c3ef2=a0_0x4da005;this[_0x5c3ef2(0xe5)]['forEach'](_0x4ba881=>_0x4ba881[_0x5c3ef2(0xf1)](_0x1cbaa8,_0x51c6e5));}[a0_0x4da005(0xe2)](_0x405386,_0x27d011){return this['creatures']['find'](_0x4ac01c=>_0x4ac01c['positionEquals'](_0x405386,_0x27d011));}[a0_0x4da005(0xea)](_0x2140fb){const _0x51c44e=a0_0x4da005;this[_0x51c44e(0xe5)]=this[_0x51c44e(0xe5)][_0x51c44e(0xf4)](_0x40ae87=>_0x40ae87!=_0x2140fb);}[a0_0x4da005(0xb4)](){const _0x458fe1=a0_0x4da005;return this['creatures'][_0x458fe1(0xc1)];}['toString'](){const _0x145f8b=a0_0x4da005;return this[_0x145f8b(0xe5)][_0x145f8b(0xc9)](_0x39ec83=>_0x39ec83[_0x145f8b(0xd2)]())[_0x145f8b(0xa0)]('<br>');}}function a0_0x11fb(){const _0x15e663=['crimson','Skunk','Mouse','cyan','\x20cals.\x20','creatureAtPosition','initialCalories','positionEquals','creatures','Deer','eraseCharAt','Badger','row','removeCreature','keydown','resting','chartreuse','forEach','7ydCHzi','Hedgehog','takeTurn','violet','Ate\x20the\x20','filter','main-canvas','dRow','Boar','magenta','dodgerblue','aqua','join','rest','colCount','1666218FfaWnz','13533957gOhLAu','5759765jueruz','ArrowRight','takeTurns','tomato','white','Porcupine','6638694lRZWUF','turnCount','green','Raccoon','8pfQhyQ','dCol','calories','padStart','915893irvtco','creatureCount','gameOver','kCaloriesGainedPerRest','kCaloriesConsumedPerMove','addCreaturesFromFile','assign','deepskyblue','orange','playerCol','6qhWTcZ','drawCharAt','Fox','cout','length','writeLine','Lynx','draw','Owl','Having\x20eaten\x20everything,\x20player\x20wins!','sleepTimeout','419197opGQQq','map','gold','padEnd','playerCalories','erase','4890664HMRals','grid','creatureList','Squirrel','toString','setStatusLine','col','playerRow','statusString','kInitialPlayerCalories','370CYISsx','Having\x20starved,\x20player\x20dies.','yellow','rowCount','ArrowLeft'];a0_0x11fb=function(){return _0x15e663;};return a0_0x11fb();}