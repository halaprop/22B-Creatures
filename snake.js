const a0_0x3966d8=a0_0x38f5;(function(_0x29582d,_0x2c9614){const _0x5f2701=a0_0x38f5,_0x437b9a=_0x29582d();while(!![]){try{const _0x5ee126=-parseInt(_0x5f2701(0x21c))/0x1*(parseInt(_0x5f2701(0x23f))/0x2)+parseInt(_0x5f2701(0x208))/0x3*(-parseInt(_0x5f2701(0x205))/0x4)+parseInt(_0x5f2701(0x228))/0x5+parseInt(_0x5f2701(0x218))/0x6*(-parseInt(_0x5f2701(0x200))/0x7)+-parseInt(_0x5f2701(0x20b))/0x8+-parseInt(_0x5f2701(0x223))/0x9+-parseInt(_0x5f2701(0x20f))/0xa*(-parseInt(_0x5f2701(0x236))/0xb);if(_0x5ee126===_0x2c9614)break;else _0x437b9a['push'](_0x437b9a['shift']());}catch(_0x301209){_0x437b9a['push'](_0x437b9a['shift']());}}}(a0_0x2d4a,0x5965d));import{ConsoleGrid,Cout}from'./console-grid.js';export class SnakeApp{constructor(){const _0x37b1fe=a0_0x38f5,_0x100139={'canvas':document['getElementById'](_0x37b1fe(0x23c)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x37b1fe(0x239)]=0x64,this[_0x37b1fe(0x1fe)]=new ConsoleGrid(_0x100139);const _0x1efe32=document[_0x37b1fe(0x227)](_0x37b1fe(0x1f8));this[_0x37b1fe(0x22a)]=new Cout(_0x1efe32),this[_0x37b1fe(0x1fa)]=0x0,this[_0x37b1fe(0x235)]=![],this['snake']=new Snake(),this['snake'][_0x37b1fe(0x222)](this[_0x37b1fe(0x1fe)]),Candy[_0x37b1fe(0x1f5)](),this[_0x37b1fe(0x203)]=Candy[_0x37b1fe(0x230)](this[_0x37b1fe(0x1f0)],this[_0x37b1fe(0x1fe)][_0x37b1fe(0x237)],this[_0x37b1fe(0x1fe)][_0x37b1fe(0x20c)]),this['candy'][_0x37b1fe(0x20d)](this[_0x37b1fe(0x1fe)]),this[_0x37b1fe(0x1fe)][_0x37b1fe(0x216)](this[_0x37b1fe(0x219)]());}['metric'](){const _0x23fa63=a0_0x38f5,_0x458687=this[_0x23fa63(0x1fa)],_0x22cb97=this[_0x23fa63(0x1f0)][_0x23fa63(0x226)]();return _0x458687==0x0?0x0:0x1*_0x22cb97*_0x22cb97/_0x458687;}[a0_0x3966d8(0x219)](_0x85d07c){const _0x2519d2=a0_0x3966d8;let _0x2d7b2c=_0x2519d2(0x22c)+this['snake'][_0x2519d2(0x226)]()+_0x2519d2(0x212)+this[_0x2519d2(0x1fa)]+_0x2519d2(0x213)+this[_0x2519d2(0x207)]()[_0x2519d2(0x21e)](0x3);if(_0x85d07c)_0x2d7b2c+='.\x20'+_0x85d07c;return _0x2d7b2c;}[a0_0x3966d8(0x1f4)](_0x5ccad7){const _0x40a34a=a0_0x3966d8;let _0x33af7a='';switch(_0x5ccad7){case _0x40a34a(0x233):case'ArrowRight':case'ArrowUp':case _0x40a34a(0x22b):this[_0x40a34a(0x1f0)]['steer'](_0x5ccad7,this[_0x40a34a(0x1fe)],this['candy'][_0x40a34a(0x210)],this[_0x40a34a(0x203)]['col']);break;case'Q':case'q':this[_0x40a34a(0x235)]=!![],_0x33af7a=_0x40a34a(0x217);break;default:break;}!this[_0x40a34a(0x235)]&&(this[_0x40a34a(0x1f0)][_0x40a34a(0x229)](this[_0x40a34a(0x1fe)])?(this[_0x40a34a(0x235)]=!![],_0x33af7a='Ouch,\x20my\x20nose!'):(this[_0x40a34a(0x1f0)][_0x40a34a(0x1ff)](this[_0x40a34a(0x1fe)]),this[_0x40a34a(0x1fa)]++,this[_0x40a34a(0x1f0)][_0x40a34a(0x21a)](this['candy'][_0x40a34a(0x210)],this['candy'][_0x40a34a(0x20e)])&&(this[_0x40a34a(0x1f0)][_0x40a34a(0x206)](this[_0x40a34a(0x203)][_0x40a34a(0x22d)]),this[_0x40a34a(0x1f0)][_0x40a34a(0x224)]=this[_0x40a34a(0x203)][_0x40a34a(0x224)],this[_0x40a34a(0x1f0)]['drawChars'](this[_0x40a34a(0x1fe)]),this[_0x40a34a(0x1f0)]['length']()<this[_0x40a34a(0x1fe)][_0x40a34a(0x237)]*this['grid'][_0x40a34a(0x20c)]?(this[_0x40a34a(0x203)]=Candy['randomCandy'](this[_0x40a34a(0x1f0)],this['grid'][_0x40a34a(0x237)],this[_0x40a34a(0x1fe)]['colCount']),this[_0x40a34a(0x203)][_0x40a34a(0x20d)](this[_0x40a34a(0x1fe)])):(this['gameOver']=!![],_0x33af7a=_0x40a34a(0x238))))),this[_0x40a34a(0x1fe)][_0x40a34a(0x216)](this['statusString'](_0x33af7a));}[a0_0x3966d8(0x22f)](){const _0x72ac43=a0_0x3966d8,_0x35517a=this['turnCount'],_0x14b002=this['snake'][_0x72ac43(0x226)](),_0x3330a3=this[_0x72ac43(0x207)]();return{'turnCount':_0x35517a,'length':_0x14b002,'metric':_0x3330a3};}}class ListNode{constructor(_0x202feb,_0x682532=null){const _0x500efc=a0_0x3966d8;this[_0x500efc(0x220)]=_0x202feb,this['next']=_0x682532;}}function a0_0x38f5(_0x4fed12,_0x315d06){const _0x2d4ad8=a0_0x2d4a();return a0_0x38f5=function(_0x38f5be,_0x214d63){_0x38f5be=_0x38f5be-0x1f0;let _0x2514b2=_0x2d4ad8[_0x38f5be];return _0x2514b2;},a0_0x38f5(_0x4fed12,_0x315d06);}class LinkedList{constructor(){const _0x41b663=a0_0x3966d8;this[_0x41b663(0x209)]=null;}['pushFront'](_0x40fc90){const _0x4ededb=a0_0x3966d8;this['head']=new ListNode(_0x40fc90,this[_0x4ededb(0x209)]);}[a0_0x3966d8(0x23e)](){const _0xf679af=a0_0x3966d8;this[_0xf679af(0x209)]&&(this[_0xf679af(0x209)]=this[_0xf679af(0x209)][_0xf679af(0x23b)]);}[a0_0x3966d8(0x225)](_0x1690e2){const _0x2cc92a=a0_0x3966d8,_0x1ed92b=this['tail'](),_0x2dc46c=new ListNode(_0x1690e2);_0x1ed92b?_0x1ed92b[_0x2cc92a(0x23b)]=_0x2dc46c:this[_0x2cc92a(0x209)]=_0x2dc46c;}[a0_0x3966d8(0x215)](){const _0x4b9ca0=a0_0x3966d8,_0x5e2193=this['tail']();if(_0x5e2193){if(this[_0x4b9ca0(0x209)]==_0x5e2193)this[_0x4b9ca0(0x209)]=null;else{let _0x4f8a9b=this[_0x4b9ca0(0x209)];while(_0x4f8a9b[_0x4b9ca0(0x23b)]!=_0x5e2193)_0x4f8a9b=_0x4f8a9b[_0x4b9ca0(0x23b)];_0x4f8a9b[_0x4b9ca0(0x23b)]=null;}}}[a0_0x3966d8(0x231)](){const _0x57b1fd=a0_0x3966d8;let _0x59f8a8=null;for(let _0xa142b1=this[_0x57b1fd(0x209)];_0xa142b1;_0xa142b1=_0xa142b1[_0x57b1fd(0x23b)]){_0x59f8a8=_0xa142b1;}return _0x59f8a8;}[a0_0x3966d8(0x226)](){const _0x390293=a0_0x3966d8;let _0x83e79c=0x0;for(let _0x55a585=this[_0x390293(0x209)];_0x55a585;_0x55a585=_0x55a585['next']){_0x83e79c++;}return _0x83e79c;}}function a0_0x2d4a(){const _0x302277=['steer','\x20Turns:\x20','.\x20Metric:\x20','randomPosition','popBack','setStatusLine','Player\x20quit','132ZVgCNd','statusString','headIntersects','drawCharAt','1cgzDsE','dRow','toFixed','randomColor','value','rand','drawChars','5904360HULnRY','color','pushBack','length','getElementById','2110315ZVyXzm','willCrash','cout','ArrowDown','Length:\x20','calories','headGlyph','contestStatus','randomCandy','tail','orange','ArrowLeft','intersects','gameOver','1063623Hadmtr','rowCount','Board\x20is\x20full!','sleepTimeout','randBetween','next','main-canvas','pushFront','popFront','750826zUoAFI','snake','pink','cyan','magenta','keydown','seedRandom','red','yellow','cout-lines','white','turnCount','glyph','eraseCharAt','lime','grid','step','194789kglOVi','Random','seed','candy','ArrowRight','161912nLOzpg','eat','metric','12nPTime','head','dCol','3020616cqmRyY','colCount','draw','col','220SSGgGd','row'];a0_0x2d4a=function(){return _0x302277;};return a0_0x2d4a();}class Snake extends LinkedList{constructor(){const _0x391eb2=a0_0x3966d8;super(),this[_0x391eb2(0x22d)]=0x0,this[_0x391eb2(0x224)]=_0x391eb2(0x1f9),this[_0x391eb2(0x1fb)]='o',this[_0x391eb2(0x22e)]='@',this[_0x391eb2(0x21d)]=0x0,this['dCol']=0x1,this['pushBack']({'row':0x5,'col':0x5}),this[_0x391eb2(0x225)]({'row':0x5,'col':0x4}),this[_0x391eb2(0x225)]({'row':0x5,'col':0x3});}['willCrash'](_0x168c14){const _0x218d37=a0_0x3966d8,_0x3cd915=this[_0x218d37(0x209)][_0x218d37(0x220)][_0x218d37(0x210)]+this[_0x218d37(0x21d)],_0x11cc5e=this[_0x218d37(0x209)][_0x218d37(0x220)][_0x218d37(0x20e)]+this[_0x218d37(0x20a)],_0x4547e0=_0x3cd915>=0x0&&_0x3cd915<_0x168c14['rowCount']&&_0x11cc5e>=0x0&&_0x11cc5e<_0x168c14[_0x218d37(0x20c)];return!_0x4547e0||this[_0x218d37(0x234)](_0x3cd915,_0x11cc5e);}['headIntersects'](_0x3ea598,_0x493733){const _0x35ac42=a0_0x3966d8;return this[_0x35ac42(0x209)][_0x35ac42(0x220)][_0x35ac42(0x210)]==_0x3ea598&&this['head'][_0x35ac42(0x220)][_0x35ac42(0x20e)]==_0x493733;}['intersects'](_0x2f624e,_0x323132){const _0x41b985=a0_0x3966d8;let _0x4129c7=![],_0x14540a=this['head'];while(_0x14540a){if(_0x14540a[_0x41b985(0x220)]['row']==_0x2f624e&&_0x14540a[_0x41b985(0x220)][_0x41b985(0x20e)]==_0x323132){_0x4129c7=!![];break;}_0x14540a=_0x14540a[_0x41b985(0x23b)];}return _0x4129c7;}[a0_0x3966d8(0x222)](_0x2611e2){const _0x3c9e51=a0_0x3966d8;let _0x1430b9=this[_0x3c9e51(0x22e)];for(let _0x2e3f3c=this[_0x3c9e51(0x209)];_0x2e3f3c;_0x2e3f3c=_0x2e3f3c['next']){_0x2611e2[_0x3c9e51(0x21b)](_0x2e3f3c['value'][_0x3c9e51(0x210)],_0x2e3f3c[_0x3c9e51(0x220)][_0x3c9e51(0x20e)],_0x1430b9,this[_0x3c9e51(0x224)]),_0x1430b9=this[_0x3c9e51(0x1fb)];}}[a0_0x3966d8(0x211)](_0x13c4d4,_0x26e6c3,_0x1de150,_0x37b9f2){const _0x470142=a0_0x3966d8;this[_0x470142(0x21d)]=0x0,this['dCol']=0x0;switch(_0x13c4d4){case _0x470142(0x233):this[_0x470142(0x20a)]=-0x1;break;case _0x470142(0x204):this[_0x470142(0x20a)]=0x1;break;case'ArrowUp':this['dRow']=-0x1;break;case _0x470142(0x22b):this[_0x470142(0x21d)]=0x1;break;default:break;}}[a0_0x3966d8(0x1ff)](_0x640481){const _0x431d10=a0_0x3966d8;let _0x376e65=this['head'][_0x431d10(0x220)][_0x431d10(0x210)]+this['dRow'],_0x25b27d=this[_0x431d10(0x209)][_0x431d10(0x220)][_0x431d10(0x20e)]+this[_0x431d10(0x20a)];_0x640481['drawCharAt'](this[_0x431d10(0x209)]['value']['row'],this[_0x431d10(0x209)][_0x431d10(0x220)]['col'],this['glyph'],this[_0x431d10(0x224)]),this[_0x431d10(0x23d)]({'row':_0x376e65,'col':_0x25b27d}),_0x640481['drawCharAt'](_0x376e65,_0x25b27d,this['headGlyph'],this[_0x431d10(0x224)]);if(this[_0x431d10(0x22d)]>0x0)this[_0x431d10(0x22d)]--;else{const _0x161455=this[_0x431d10(0x231)]();_0x640481[_0x431d10(0x1fc)](_0x161455[_0x431d10(0x220)]['row'],_0x161455['value'][_0x431d10(0x20e)]),this['popBack']();}}['eat'](_0x5e3898){const _0xdd3628=a0_0x3966d8;this[_0xdd3628(0x22d)]+=_0x5e3898;}}class Candy{static[a0_0x3966d8(0x1f5)](){const _0x1eb0ce=a0_0x3966d8;this[_0x1eb0ce(0x201)]=new RandANSI();}constructor(_0x17ad1b){Object['assign'](this,_0x17ad1b);}static[a0_0x3966d8(0x230)](_0x9eeee7,_0x1cf9b1,_0x5a6ff9){const _0x52afd3=a0_0x3966d8,{row:_0x5383f5,col:_0x1fa102}=this[_0x52afd3(0x214)](_0x9eeee7,_0x1cf9b1,_0x5a6ff9),_0x131765=this['randomColor'](),_0x343cbe=Candy[_0x52afd3(0x201)][_0x52afd3(0x23a)](0x1,0xa),_0x53b74a=''+_0x343cbe;return new Candy({'row':_0x5383f5,'col':_0x1fa102,'calories':_0x343cbe,'glyph':_0x53b74a,'color':_0x131765});}static[a0_0x3966d8(0x214)](_0x3a1f5e,_0x12cca5,_0x3af8a1){const _0x3ed603=a0_0x3966d8;let _0x3caa3f,_0x397e39;do{_0x3caa3f=Candy[_0x3ed603(0x201)][_0x3ed603(0x23a)](0x0,_0x12cca5),_0x397e39=Candy['Random'][_0x3ed603(0x23a)](0x0,_0x3af8a1);}while(_0x3a1f5e[_0x3ed603(0x234)](_0x3caa3f,_0x397e39));return{'row':_0x3caa3f,'col':_0x397e39};}static[a0_0x3966d8(0x21f)](){const _0x3cf39a=a0_0x3966d8,_0x44551d=[_0x3cf39a(0x1f6),_0x3cf39a(0x1fd),_0x3cf39a(0x1f7),_0x3cf39a(0x1f2),_0x3cf39a(0x1f3),_0x3cf39a(0x232),_0x3cf39a(0x1f1)];return _0x44551d[Candy[_0x3cf39a(0x201)][_0x3cf39a(0x23a)](0x0,_0x44551d['length'])];}['draw'](_0x40f017){const _0x317909=a0_0x3966d8;_0x40f017[_0x317909(0x21b)](this[_0x317909(0x210)],this[_0x317909(0x20e)],this[_0x317909(0x1fb)],this[_0x317909(0x224)]);}}class RandANSI{constructor(_0x2bce56=0x1){this['seed']=_0x2bce56;}['setSeed'](_0x3b97b8){const _0x2357a7=a0_0x3966d8;this[_0x2357a7(0x202)]=_0x3b97b8;}[a0_0x3966d8(0x221)](){const _0x1473b6=a0_0x3966d8;return(this[_0x1473b6(0x202)]=Number((BigInt(this[_0x1473b6(0x202)])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}[a0_0x3966d8(0x23a)](_0x299591,_0xe8a5ce){const _0x484de7=a0_0x3966d8;return _0x299591+this[_0x484de7(0x221)]()%(_0xe8a5ce-_0x299591);}}