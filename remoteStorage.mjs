const a0_0x4bb82d=a0_0x47dd;function a0_0x1f64(){const _0x3cc189=['DELETE','map','keys','10PXJpys','303444ZKXgau','2XQYzXP','\x20â†’\x20ERROR:\x20','https://remote-storage.dan-5d7.workers.dev/v1','/getWithMetadata','push','/get','896898JWqnpo','entries','name','getItem','stringify','some','3289985XDmBOW','removeItem','all','filter','clear','/set','body','/delete','list','keysPaged','search','fetch','length','toString','message','startsWith','1854870FgjKoN','70aerIpO','119776RllmVV','247322VZGSmL','append','/list','application/json','GET','endpoint','6262722yOKavx'];a0_0x1f64=function(){return _0x3cc189;};return a0_0x1f64();}(function(_0x42afe7,_0x1ec035){const _0x1f072d=a0_0x47dd,_0x3767eb=_0x42afe7();while(!![]){try{const _0x4b6364=parseInt(_0x1f072d(0xbd))/0x1+-parseInt(_0x1f072d(0xc9))/0x2*(-parseInt(_0x1f072d(0xcf))/0x3)+parseInt(_0x1f072d(0xc8))/0x4+parseInt(_0x1f072d(0xd5))/0x5+-parseInt(_0x1f072d(0xba))/0x6+parseInt(_0x1f072d(0xbb))/0x7*(parseInt(_0x1f072d(0xbc))/0x8)+-parseInt(_0x1f072d(0xc3))/0x9*(parseInt(_0x1f072d(0xc7))/0xa);if(_0x4b6364===_0x1ec035)break;else _0x3767eb['push'](_0x3767eb['shift']());}catch(_0x262287){_0x3767eb['push'](_0x3767eb['shift']());}}}(a0_0x1f64,0x67b9f));function a0_0x47dd(_0x15b0de,_0x492732){const _0x1f644e=a0_0x1f64();return a0_0x47dd=function(_0x47dd0c,_0x5cfeaa){_0x47dd0c=_0x47dd0c-0xb6;let _0x5bf5c1=_0x1f644e[_0x47dd0c];return _0x5bf5c1;},a0_0x47dd(_0x15b0de,_0x492732);}export class RemoteStorage{constructor(_0x293530,_0x557cda){const _0xe80434=a0_0x47dd;this['namespace']=_0x293530,this[_0xe80434(0xc2)]=_0xe80434(0xcb),this['requestHeaders']={'Authorization':_0x557cda,'Content-Type':_0xe80434(0xc0)};}async['keys'](){const _0x28ecff=a0_0x47dd;let _0x2eacec=[],_0x829d82=null;while(!![]){const {keys:_0x543643,cursor:_0x4aa757,list_complete:_0x2a368a}=await this['keysPaged']({'cursor':_0x829d82});_0x2eacec[_0x28ecff(0xcd)](..._0x543643);if(_0x2a368a)break;_0x829d82=_0x4aa757;}return _0x2eacec;}async[a0_0x4bb82d(0xde)]({limit:limit=0x3e8,cursor:_0x1d19c5=null}={}){const _0x464af8=a0_0x4bb82d,{items:_0x4cd967,cursor:_0x4af7be,list_complete:_0x199b0a}=await this[_0x464af8(0xdd)]({'limit':limit,'cursor':_0x1d19c5}),_0x17156d=_0x4cd967[_0x464af8(0xc5)](_0x3da042=>_0x3da042[_0x464af8(0xd1)]);return{'keys':_0x17156d,'cursor':_0x4af7be,'list_complete':_0x199b0a};}async['getNamespace'](..._0x4ccf9d){const _0x1f069b=a0_0x4bb82d,_0x17d590={};let _0x596a8e=null;while(!![]){const {items:_0x325c11,cursor:_0x414b85,list_complete:_0x4d5bc0}=await this[_0x1f069b(0xdd)]({'cursor':_0x596a8e}),_0x30c9c3=_0x4ccf9d[_0x1f069b(0xb6)]?_0x325c11[_0x1f069b(0xd8)](_0x526756=>_0x4ccf9d[_0x1f069b(0xd4)](_0x155308=>_0x526756[_0x1f069b(0xd1)][_0x1f069b(0xb9)](_0x155308))):_0x325c11,_0xd0674f=_0x30c9c3[_0x1f069b(0xc5)](async({name:_0x5c16dd,metadata:_0xc7e9ed})=>{const _0x35b5da=await this['getItem'](_0x5c16dd);_0x17d590[_0x5c16dd]={'value':_0x35b5da,'metadata':_0xc7e9ed};});await Promise[_0x1f069b(0xd7)](_0xd0674f);if(_0x4d5bc0)break;_0x596a8e=_0x414b85;}return _0x17d590;}async[a0_0x4bb82d(0xdd)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x229c88=a0_0x4bb82d;return this[_0x229c88(0xe0)](_0x229c88(0xc1),_0x229c88(0xbf),null,{'limit':limit,'cursor':cursor});}async['setItem'](_0x212b98,_0x2447cb){const _0x30e55d=a0_0x4bb82d;return this[_0x30e55d(0xe0)]('POST',_0x30e55d(0xda),{'key':_0x212b98,'value':_0x2447cb});}async[a0_0x4bb82d(0xd2)](_0x154fe5){const _0x527574=a0_0x4bb82d;return this[_0x527574(0xe0)](_0x527574(0xc1),_0x527574(0xce),null,{'key':_0x154fe5});}async['getItemWithMetadata'](_0x448977){const _0x23f178=a0_0x4bb82d;return this[_0x23f178(0xe0)](_0x23f178(0xc1),_0x23f178(0xcc),null,{'key':_0x448977});}async['removeItem'](_0x4331fa){const _0x2c2cc5=a0_0x4bb82d;return this[_0x2c2cc5(0xe0)](_0x2c2cc5(0xc4),_0x2c2cc5(0xdc),null,{'key':_0x4331fa});}async[a0_0x4bb82d(0xd9)](){const _0xc25cc3=a0_0x4bb82d,_0x2c97ef=await this[_0xc25cc3(0xc6)](),_0x4bd5c4=_0x2c97ef['map'](_0x43220c=>this[_0xc25cc3(0xd6)](_0x43220c));return await Promise[_0xc25cc3(0xd7)](_0x4bd5c4),null;}async[a0_0x4bb82d(0xe0)](_0x1864d,_0x8231fa,_0xa3d452=null,_0x418628={}){const _0x144b31=a0_0x4bb82d;_0x418628={..._0x418628,'namespace':this['namespace']};let _0x3574e9=new URL(''+this['endpoint']+_0x8231fa);const _0x58e7e1=new URLSearchParams();for(const [_0x145724,_0x17e67a]of Object[_0x144b31(0xd0)](_0x418628)){_0x17e67a!==undefined&&_0x17e67a!==null&&_0x58e7e1[_0x144b31(0xbe)](_0x145724,_0x17e67a);}_0x3574e9[_0x144b31(0xdf)]=_0x58e7e1[_0x144b31(0xb7)]();const _0x2cf04b={'method':_0x1864d,'headers':this['requestHeaders']};if(_0xa3d452)_0x2cf04b[_0x144b31(0xdb)]=JSON[_0x144b31(0xd3)](_0xa3d452);try{const _0x2eece6=await fetch(_0x3574e9,_0x2cf04b),_0x395470=await _0x2eece6['json']();if(!_0x2eece6['ok'])throw{'error':_0x395470};return _0x395470;}catch(_0x56a671){console['log'](_0x1864d+'\x20'+_0x3574e9+_0x144b31(0xca)+_0x56a671[_0x144b31(0xb8)]);throw _0x56a671;}}}