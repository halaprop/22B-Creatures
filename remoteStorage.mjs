function a0_0x37c6(_0x55a98b,_0x2994f3){const _0x2b2799=a0_0x2b27();return a0_0x37c6=function(_0x37c6dd,_0x37a2c5){_0x37c6dd=_0x37c6dd-0x1b4;let _0x4f4457=_0x2b2799[_0x37c6dd];return _0x4f4457;},a0_0x37c6(_0x55a98b,_0x2994f3);}const a0_0x3965d0=a0_0x37c6;(function(_0x4f5118,_0x834ab4){const _0x435101=a0_0x37c6,_0x488b35=_0x4f5118();while(!![]){try{const _0x303688=-parseInt(_0x435101(0x1b6))/0x1*(parseInt(_0x435101(0x1e5))/0x2)+-parseInt(_0x435101(0x1e1))/0x3+parseInt(_0x435101(0x1d6))/0x4+-parseInt(_0x435101(0x1dc))/0x5+parseInt(_0x435101(0x1c5))/0x6*(parseInt(_0x435101(0x1c7))/0x7)+-parseInt(_0x435101(0x1d7))/0x8*(-parseInt(_0x435101(0x1cb))/0x9)+-parseInt(_0x435101(0x1d5))/0xa;if(_0x303688===_0x834ab4)break;else _0x488b35['push'](_0x488b35['shift']());}catch(_0xa8eaf0){_0x488b35['push'](_0x488b35['shift']());}}}(a0_0x2b27,0x83624));export class RemoteStorage{constructor(_0xf505f6,_0x2d064f){const _0x591e4c=a0_0x37c6;this[_0x591e4c(0x1c4)]=_0xf505f6,this[_0x591e4c(0x1e3)]='https://remote-storage.dan-5d7.workers.dev/v1',this[_0x591e4c(0x1e2)]={'Content-Type':_0x591e4c(0x1da)};if(_0x2d064f)this[_0x591e4c(0x1e2)][_0x591e4c(0x1ce)]=_0x2d064f;}async[a0_0x3965d0(0x1e6)](_0x59c14d,_0x31ac35){const _0x223d41=a0_0x3965d0,_0x1fe385=await fetch(this['endpoint']+_0x223d41(0x1e0),{'method':_0x223d41(0x1d1),'headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'userID':_0x59c14d,'password':_0x31ac35})}),_0x27766c=await _0x1fe385[_0x223d41(0x1bb)]()[_0x223d41(0x1d2)](()=>({}));if(!_0x1fe385['ok'])throw{'status':_0x1fe385[_0x223d41(0x1b5)],'body':_0x27766c};return{'status':_0x1fe385['status'],'json':_0x27766c};}async[a0_0x3965d0(0x1d4)](_0x1d2b8f,_0x1ccf9a){const _0x5f3a4e=a0_0x3965d0,_0x680ca=await fetch(this['endpoint']+_0x5f3a4e(0x1d9),{'method':_0x5f3a4e(0x1d1),'headers':{'Content-Type':_0x5f3a4e(0x1da)},'body':JSON[_0x5f3a4e(0x1d8)]({'namespace':this[_0x5f3a4e(0x1c4)],'userID':_0x1d2b8f,'password':_0x1ccf9a})}),_0x5c52dc=await _0x680ca[_0x5f3a4e(0x1bb)]()[_0x5f3a4e(0x1d2)](()=>({}));if(!_0x680ca['ok'])throw{'status':_0x680ca['status'],'body':_0x5c52dc};const _0xa12e3b=_0x5c52dc['token'];return this['requestHeaders'][_0x5f3a4e(0x1ce)]=_0xa12e3b,_0xa12e3b;}async['keys'](){let _0x3b325f=[],_0x5845fe=null;while(!![]){const {keys:_0x477959,cursor:_0xd16d14,list_complete:_0x5bb3ca}=await this['keysPaged']({'cursor':_0x5845fe});_0x3b325f['push'](..._0x477959);if(_0x5bb3ca)break;_0x5845fe=_0xd16d14;}return _0x3b325f;}async[a0_0x3965d0(0x1c1)]({limit:limit=0x3e8,cursor:_0x2d16e6=null}={}){const _0x581b95=a0_0x3965d0,{items:_0x36eb49,cursor:_0x3446c2,list_complete:_0x1dcb63}=await this['list']({'limit':limit,'cursor':_0x2d16e6}),_0x441ee8=_0x36eb49[_0x581b95(0x1db)](_0x59bc8b=>_0x59bc8b[_0x581b95(0x1cc)]);return{'keys':_0x441ee8,'cursor':_0x3446c2,'list_complete':_0x1dcb63};}async[a0_0x3965d0(0x1c6)](..._0x1c2838){const _0x4fd3c6=a0_0x3965d0,_0x5c3518={};let _0x24ed7c=null;while(!![]){const {items:_0x437233,cursor:_0x1e4704,list_complete:_0x54d052}=await this['list']({'cursor':_0x24ed7c}),_0x30239e=_0x1c2838['length']?_0x437233[_0x4fd3c6(0x1bd)](_0x5cf1d0=>_0x1c2838[_0x4fd3c6(0x1be)](_0x3d6b37=>_0x5cf1d0[_0x4fd3c6(0x1cc)][_0x4fd3c6(0x1bf)](_0x3d6b37))):_0x437233;await Promise['all'](_0x30239e[_0x4fd3c6(0x1db)](async({name:_0x134cc7,metadata:_0x57646b})=>{const _0x299d80=_0x4fd3c6,_0x32d72a=await this[_0x299d80(0x1c8)](_0x134cc7);_0x5c3518[_0x134cc7]={'value':_0x32d72a,'metadata':_0x57646b};}));if(_0x54d052)break;_0x24ed7c=_0x1e4704;}return _0x5c3518;}async[a0_0x3965d0(0x1c9)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x27ab01=a0_0x3965d0;return this[_0x27ab01(0x1df)](_0x27ab01(0x1e4),_0x27ab01(0x1de),null,{'limit':limit,'cursor':cursor});}async['setItem'](_0x3ebdd2,_0x12fd63){const _0x400f3d=a0_0x3965d0;return this[_0x400f3d(0x1df)](_0x400f3d(0x1d1),_0x400f3d(0x1bc),{'key':_0x3ebdd2,'value':_0x12fd63});}async[a0_0x3965d0(0x1c8)](_0x45e796){const _0x156052=a0_0x3965d0;return this[_0x156052(0x1df)](_0x156052(0x1e4),_0x156052(0x1b4),null,{'key':_0x45e796});}async[a0_0x3965d0(0x1b9)](_0x4ab3b5){return this['apiFetch']('GET','/getWithMetadata',null,{'key':_0x4ab3b5});}async[a0_0x3965d0(0x1ca)](_0xcf8ceb){const _0x20390c=a0_0x3965d0;return this[_0x20390c(0x1df)]('DELETE',_0x20390c(0x1dd),null,{'key':_0xcf8ceb});}async[a0_0x3965d0(0x1b8)](){const _0xc3cfeb=a0_0x3965d0,_0x1945f6=await this['keys']();return await Promise[_0xc3cfeb(0x1cf)](_0x1945f6['map'](_0x26305c=>this['removeItem'](_0x26305c))),null;}async['apiFetch'](_0x42e157,_0x86006e,_0x2ff837=null,_0x583701={}){const _0x2e174b=a0_0x3965d0;_0x583701={..._0x583701,'namespace':this[_0x2e174b(0x1c4)]};const _0x5eabc8=new URL(''+this[_0x2e174b(0x1e3)]+_0x86006e);_0x5eabc8[_0x2e174b(0x1d3)]=new URLSearchParams(Object[_0x2e174b(0x1d0)](_0x583701)[_0x2e174b(0x1bd)](([_0x172e15,_0x5784b1])=>_0x5784b1!==undefined&&_0x5784b1!==null))[_0x2e174b(0x1cd)]();const _0xba69b5={'method':_0x42e157,'headers':this[_0x2e174b(0x1e2)]};if(_0x2ff837)_0xba69b5[_0x2e174b(0x1c3)]=JSON[_0x2e174b(0x1d8)](_0x2ff837);try{const _0x4844c7=await fetch(_0x5eabc8,_0xba69b5),_0x27a7f9=await _0x4844c7[_0x2e174b(0x1bb)]()[_0x2e174b(0x1d2)](()=>({}));if(!_0x4844c7['ok'])throw{'type':_0x2e174b(0x1b7),'status':_0x4844c7[_0x2e174b(0x1b5)],'body':_0x27a7f9};return _0x27a7f9;}catch(_0x9bf314){if(_0x9bf314?.[_0x2e174b(0x1c2)]===_0x2e174b(0x1b7))throw _0x9bf314;const _0x43cc31=_0x9bf314?.['message']||_0x9bf314?.['name']||_0x9bf314?.[_0x2e174b(0x1c0)]||'Unknown\x20network\x20error';throw{'type':_0x2e174b(0x1ba),'detail':_0x43cc31};}}}function a0_0x2b27(){const _0x294483=['apiFetch','/register','207858wkwMWz','requestHeaders','endpoint','GET','16TNSvJz','register','/get','status','33207pxknrZ','http-error','clear','getItemWithMetadata','network-error','json','/set','filter','some','startsWith','code','keysPaged','type','body','namespace','6yrwVCb','getNamespace','636118rfmOrR','getItem','list','removeItem','3114taDWgv','name','toString','Authorization','all','entries','POST','catch','search','login','45110wXytNq','3379460rFipaD','4456uqtpQW','stringify','/login','application/json','map','1254300onZzvf','/delete','/list'];a0_0x2b27=function(){return _0x294483;};return a0_0x2b27();}