const a0_0x22c74d=a0_0x25b4;(function(_0x416fff,_0x46dfaf){const _0x5e8810=a0_0x25b4,_0x47284b=_0x416fff();while(!![]){try{const _0x13df0c=parseInt(_0x5e8810(0x211))/0x1+parseInt(_0x5e8810(0x22c))/0x2*(-parseInt(_0x5e8810(0x22b))/0x3)+-parseInt(_0x5e8810(0x20c))/0x4*(-parseInt(_0x5e8810(0x209))/0x5)+parseInt(_0x5e8810(0x233))/0x6+parseInt(_0x5e8810(0x21c))/0x7*(parseInt(_0x5e8810(0x1fc))/0x8)+-parseInt(_0x5e8810(0x21b))/0x9+-parseInt(_0x5e8810(0x212))/0xa*(parseInt(_0x5e8810(0x216))/0xb);if(_0x13df0c===_0x46dfaf)break;else _0x47284b['push'](_0x47284b['shift']());}catch(_0x18dc23){_0x47284b['push'](_0x47284b['shift']());}}}(a0_0x3e45,0x89869));import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static ['kInitialPlayerCalories']=0x78;static [a0_0x22c74d(0x218)]=0x5;constructor(){const _0x53b84d=a0_0x22c74d,_0x5850e7={'canvas':document[_0x53b84d(0x201)](_0x53b84d(0x225)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x53b84d(0x205)]=0x64,this[_0x53b84d(0x232)]=new ConsoleGrid(_0x5850e7);const _0x3559eb=document['getElementById'](_0x53b84d(0x1f6));this['cout']=new Cout(_0x3559eb),this[_0x53b84d(0x1e2)]=0x5,this['playerCol']=0x5,this[_0x53b84d(0x220)]=CreaturesApp[_0x53b84d(0x1d7)],this[_0x53b84d(0x1da)]=0x0,this[_0x53b84d(0x1fe)]=![],this['creatureList']=new CreatureList(),this['creatureList']['addCreaturesFromFile'](),this[_0x53b84d(0x1f0)][_0x53b84d(0x1d8)](this[_0x53b84d(0x232)]),this[_0x53b84d(0x232)]['drawCharAt'](this['playerRow'],this[_0x53b84d(0x1e5)],'@',_0x53b84d(0x206)),this['grid'][_0x53b84d(0x21e)](this[_0x53b84d(0x1eb)](this[_0x53b84d(0x220)],'')),this[_0x53b84d(0x1d9)][_0x53b84d(0x1ee)](this[_0x53b84d(0x1f0)][_0x53b84d(0x22f)]());}['statusString'](_0x1c473f,_0x3c79bd){const _0x412d8c=a0_0x22c74d;return _0x412d8c(0x228)+this[_0x412d8c(0x1da)]+'.\x20Player\x20has\x20'+_0x1c473f+_0x412d8c(0x1de)+_0x3c79bd;}[a0_0x22c74d(0x224)](_0x5c96ad){const _0xfe79f8=a0_0x22c74d;if(this[_0xfe79f8(0x1fe)])return;let _0x3becec=![],_0x1c4041='';this[_0xfe79f8(0x1f0)][_0xfe79f8(0x1e7)](this[_0xfe79f8(0x232)]),this[_0xfe79f8(0x232)]['eraseCharAt'](this['playerRow'],this[_0xfe79f8(0x1e5)]);switch(_0x5c96ad){case'ArrowUp':this[_0xfe79f8(0x1e2)]>0x0&&(_0x3becec=!![],this[_0xfe79f8(0x1e2)]--);break;case'ArrowDown':this['playerRow']+0x1<this[_0xfe79f8(0x232)][_0xfe79f8(0x1dc)]&&(_0x3becec=!![],this[_0xfe79f8(0x1e2)]++);break;case _0xfe79f8(0x1e9):this[_0xfe79f8(0x1e5)]>0x0&&(_0x3becec=!![],this['playerCol']--);break;case _0xfe79f8(0x1ea):this[_0xfe79f8(0x1e5)]+0x1<this['grid'][_0xfe79f8(0x20f)]&&(_0x3becec=!![],this[_0xfe79f8(0x1e5)]++);break;case'Q':case'q':this[_0xfe79f8(0x1fe)]=!![];break;default:break;}if(!this['gameOver']){_0x3becec&&(this[_0xfe79f8(0x220)]-=CreaturesApp[_0xfe79f8(0x218)]);this[_0xfe79f8(0x1f0)][_0xfe79f8(0x1db)](this['grid']['rowCount'],this[_0xfe79f8(0x232)][_0xfe79f8(0x20f)]);let _0x319913=this[_0xfe79f8(0x1f0)][_0xfe79f8(0x20d)](this[_0xfe79f8(0x1e2)],this[_0xfe79f8(0x1e5)]);_0x319913&&(_0x1c4041=_0xfe79f8(0x237)+_0x319913['name'],this[_0xfe79f8(0x220)]+=_0x319913[_0xfe79f8(0x1fb)],this[_0xfe79f8(0x1f0)]['removeCreature'](_0x319913),this[_0xfe79f8(0x1f0)]['creatureCount']()==0x0&&(_0x1c4041=_0xfe79f8(0x1dd),this['gameOver']=!![])),this[_0xfe79f8(0x220)]<=0x0&&(_0x1c4041=_0xfe79f8(0x1e3),this[_0xfe79f8(0x1fe)]=!![]),this[_0xfe79f8(0x1da)]++;}this['creatureList'][_0xfe79f8(0x1d8)](this[_0xfe79f8(0x232)]),this['grid'][_0xfe79f8(0x229)](this[_0xfe79f8(0x1e2)],this[_0xfe79f8(0x1e5)],'@',_0xfe79f8(0x206)),this[_0xfe79f8(0x232)][_0xfe79f8(0x21e)](this[_0xfe79f8(0x1eb)](this[_0xfe79f8(0x220)],_0x1c4041)),this[_0xfe79f8(0x1d9)][_0xfe79f8(0x1ee)](this['creatureList']['toString']());}[a0_0x22c74d(0x1e0)](){const _0x43e79c=a0_0x22c74d,_0x149f12=this[_0x43e79c(0x1da)],_0x164ea7=this[_0x43e79c(0x220)],_0x42bf73=this[_0x43e79c(0x1f0)][_0x43e79c(0x221)]();return{'turnCount':_0x149f12,'calories':_0x164ea7,'creatureCount':_0x42bf73};}}class Creature{constructor(_0x5402bd){const _0x5647a5=a0_0x22c74d;Object[_0x5647a5(0x234)](this,_0x5402bd),this[_0x5647a5(0x203)]=this['calories'];}static [a0_0x22c74d(0x218)]=0x5;static ['kCaloriesGainedPerMeal']=0x3c;static [a0_0x22c74d(0x217)]=0x5;['positionEquals'](_0x9ac246,_0x36e74d){return this['row']==_0x9ac246&&this['col']==_0x36e74d;}['takeTurn'](_0x57b584,_0x535598){const _0x1f29cd=a0_0x22c74d;this[_0x1f29cd(0x1ec)]?this['rest']():this[_0x1f29cd(0x1ff)](_0x57b584,_0x535598);}[a0_0x22c74d(0x1ff)](_0x378481,_0x10eb72){const _0x2a6b34=a0_0x22c74d;let _0x1201f6=this[_0x2a6b34(0x1f5)]+this[_0x2a6b34(0x22e)];(_0x1201f6<0x0||_0x1201f6>=_0x378481)&&(this[_0x2a6b34(0x22e)]*=-0x1,_0x1201f6=this[_0x2a6b34(0x1f5)]+this[_0x2a6b34(0x22e)]);let _0x4f009d=this[_0x2a6b34(0x22a)]+this['dCol'];(_0x4f009d<0x0||_0x4f009d>=_0x10eb72)&&(this[_0x2a6b34(0x213)]*=-0x1,_0x4f009d=this['col']+this[_0x2a6b34(0x213)]),(this['row']!=_0x1201f6||this[_0x2a6b34(0x22a)]!=_0x4f009d)&&(this[_0x2a6b34(0x1f5)]=_0x1201f6,this[_0x2a6b34(0x22a)]=_0x4f009d,this[_0x2a6b34(0x1fb)]-=Creature['kCaloriesConsumedPerMove'],this[_0x2a6b34(0x1fb)]<=0x0&&(this[_0x2a6b34(0x1ec)]=!![]));}[a0_0x22c74d(0x1e4)](){const _0xcaa179=a0_0x22c74d;this['calories']+=Creature[_0xcaa179(0x217)],this[_0xcaa179(0x1fb)]>0.75*this[_0xcaa179(0x203)]&&(this[_0xcaa179(0x1ec)]=![]);}[a0_0x22c74d(0x1d8)](_0xda8b59){const _0x32fa6a=a0_0x22c74d;_0xda8b59[_0x32fa6a(0x229)](this[_0x32fa6a(0x1f5)],this[_0x32fa6a(0x22a)],this['glyph'],this[_0x32fa6a(0x208)]);}[a0_0x22c74d(0x1e7)](_0x90baac){const _0x5f3c6d=a0_0x22c74d;_0x90baac[_0x5f3c6d(0x20b)](this[_0x5f3c6d(0x1f5)],this['col']);}[a0_0x22c74d(0x22f)](){const _0x3af47a=a0_0x22c74d;return this[_0x3af47a(0x231)][_0x3af47a(0x214)](0xa)+'\x20('+this[_0x3af47a(0x223)]+')\x20'+this[_0x3af47a(0x1fb)]['toString']()['padStart'](0x4);}}function a0_0x3e45(){const _0x203b69=['colCount','creatures','721453cbTqpm','710ecgzFc','dCol','padEnd','Porcupine','318868oxSUGM','kCaloriesGainedPerRest','kCaloriesConsumedPerMove','forEach','orangered','1067148wDgkni','7VxjNwJ','Rabbit','setStatusLine','green','playerCalories','creatureCount','orange','glyph','keydown','main-canvas','Owl','dodgerblue','Turn\x20','drawCharAt','col','17295eFTqsB','258rkBVLA','Squirrel','dRow','toString','Raccoon','name','grid','5419098ffruMe','assign','join','filter','Ate\x20the\x20','kInitialPlayerCalories','draw','cout','turnCount','takeTurns','rowCount','Having\x20eaten\x20everything,\x20player\x20wins!','\x20cals.\x20','removeCreature','contestStatus','crimson','playerRow','Having\x20starved,\x20player\x20dies.','rest','playerCol','cyan','erase','deepskyblue','ArrowLeft','ArrowRight','statusString','resting','magenta','writeLine','Lynx','creatureList','positionEquals','Mouse','Boar','takeTurn','row','cout-lines','Skunk','violet','Falcon','gold','calories','6871232AiCReg','chartreuse','gameOver','move','Fox','getElementById','Hedgehog','initialCalories','aqua','sleepTimeout','white','<br>','color','15SDLsdV','Badger','eraseCharAt','1333560EylLoh','creatureAtPosition','addCreaturesFromFile'];a0_0x3e45=function(){return _0x203b69;};return a0_0x3e45();}function a0_0x25b4(_0x39ed4c,_0x1576f4){const _0x3e4535=a0_0x3e45();return a0_0x25b4=function(_0x25b474,_0x4cb893){_0x25b474=_0x25b474-0x1d7;let _0x44b0b9=_0x3e4535[_0x25b474];return _0x44b0b9;},a0_0x25b4(_0x39ed4c,_0x1576f4);}class CreatureList{constructor(){}[a0_0x22c74d(0x20e)](){const _0x43a0b5=a0_0x22c74d,_0x4d434b=[{'name':_0x43a0b5(0x1f2),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x43a0b5(0x204)},{'name':_0x43a0b5(0x21d),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x43a0b5(0x21f)},{'name':_0x43a0b5(0x1f3),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':'yellow'},{'name':_0x43a0b5(0x22d),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x43a0b5(0x1f8)},{'name':'Deer','glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x43a0b5(0x1ed)},{'name':_0x43a0b5(0x200),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x43a0b5(0x222)},{'name':_0x43a0b5(0x230),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x43a0b5(0x1e1)},{'name':_0x43a0b5(0x226),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x43a0b5(0x1e8)},{'name':_0x43a0b5(0x202),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x43a0b5(0x1fd)},{'name':_0x43a0b5(0x20a),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x43a0b5(0x1fa)},{'name':_0x43a0b5(0x215),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':'tomato'},{'name':_0x43a0b5(0x1f7),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x43a0b5(0x1e6)},{'name':_0x43a0b5(0x1ef),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x43a0b5(0x227)},{'name':_0x43a0b5(0x1f9),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x43a0b5(0x21a)}];this[_0x43a0b5(0x210)]=_0x4d434b['map'](_0x1c55f0=>new Creature(_0x1c55f0));}[a0_0x22c74d(0x1d8)](_0x4e7b05){const _0x15cee9=a0_0x22c74d;this[_0x15cee9(0x210)][_0x15cee9(0x219)](_0x57a7c4=>_0x57a7c4['draw'](_0x4e7b05));}[a0_0x22c74d(0x1e7)](_0x20383e){const _0x4a8710=a0_0x22c74d;this[_0x4a8710(0x210)][_0x4a8710(0x219)](_0x26957a=>_0x26957a[_0x4a8710(0x1e7)](_0x20383e));}['takeTurns'](_0x7c05d,_0x44dc3d){const _0x16234c=a0_0x22c74d;this[_0x16234c(0x210)][_0x16234c(0x219)](_0x4d883f=>_0x4d883f[_0x16234c(0x1f4)](_0x7c05d,_0x44dc3d));}[a0_0x22c74d(0x20d)](_0xe8c455,_0x15ad59){const _0x910693=a0_0x22c74d;return this[_0x910693(0x210)]['find'](_0x1496e8=>_0x1496e8[_0x910693(0x1f1)](_0xe8c455,_0x15ad59));}[a0_0x22c74d(0x1df)](_0x52f0d6){const _0x5b5a0f=a0_0x22c74d;this[_0x5b5a0f(0x210)]=this[_0x5b5a0f(0x210)][_0x5b5a0f(0x236)](_0xd71131=>_0xd71131!=_0x52f0d6);}['creatureCount'](){const _0x811460=a0_0x22c74d;return this[_0x811460(0x210)]['length'];}[a0_0x22c74d(0x22f)](){const _0x3d710f=a0_0x22c74d;return this[_0x3d710f(0x210)]['map'](_0x362a20=>_0x362a20[_0x3d710f(0x22f)]())[_0x3d710f(0x235)](_0x3d710f(0x207));}}