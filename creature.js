const a0_0x4c9934=a0_0x264a;(function(_0x42ecfa,_0x530fe4){const _0x2163b5=a0_0x264a,_0x4b6dbb=_0x42ecfa();while(!![]){try{const _0xd7dde=parseInt(_0x2163b5(0x1dc))/0x1+-parseInt(_0x2163b5(0x1ee))/0x2+parseInt(_0x2163b5(0x1bc))/0x3*(parseInt(_0x2163b5(0x1b0))/0x4)+parseInt(_0x2163b5(0x1f9))/0x5+parseInt(_0x2163b5(0x1ba))/0x6+parseInt(_0x2163b5(0x1e3))/0x7*(parseInt(_0x2163b5(0x1cc))/0x8)+parseInt(_0x2163b5(0x1fb))/0x9*(-parseInt(_0x2163b5(0x1e1))/0xa);if(_0xd7dde===_0x530fe4)break;else _0x4b6dbb['push'](_0x4b6dbb['shift']());}catch(_0x161c92){_0x4b6dbb['push'](_0x4b6dbb['shift']());}}}(a0_0x11e0,0xcc883));function a0_0x264a(_0x14ea0c,_0x375c43){const _0x11e0bf=a0_0x11e0();return a0_0x264a=function(_0x264a3c,_0x1826b9){_0x264a3c=_0x264a3c-0x1a7;let _0x4f132b=_0x11e0bf[_0x264a3c];return _0x4f132b;},a0_0x264a(_0x14ea0c,_0x375c43);}import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x4c9934(0x1aa)]=0x78;static [a0_0x4c9934(0x201)]=0x5;constructor(){const _0x46b23d=a0_0x4c9934,_0x51de5d={'canvas':document[_0x46b23d(0x1ca)](_0x46b23d(0x1c6)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this['sleepTimeout']=0x64,this[_0x46b23d(0x1b4)]=new ConsoleGrid(_0x51de5d);const _0x4d785f=document[_0x46b23d(0x1ca)]('cout-lines');this[_0x46b23d(0x1e7)]=new Cout(_0x4d785f),this[_0x46b23d(0x1eb)]=0x5,this[_0x46b23d(0x1f0)]=0x5,this[_0x46b23d(0x1ab)]=CreaturesApp[_0x46b23d(0x1aa)],this[_0x46b23d(0x1e6)]=0x0,this['gameOver']=![],this[_0x46b23d(0x1ed)]=new CreatureList(),this[_0x46b23d(0x1ed)][_0x46b23d(0x1d0)](),this['creatureList'][_0x46b23d(0x1e2)](this[_0x46b23d(0x1b4)]),this[_0x46b23d(0x1b4)][_0x46b23d(0x1e5)](this[_0x46b23d(0x1eb)],this[_0x46b23d(0x1f0)],'@',_0x46b23d(0x1e9)),this[_0x46b23d(0x1b4)][_0x46b23d(0x1ac)](this[_0x46b23d(0x203)](this['playerCalories'],'')),this['cout'][_0x46b23d(0x1f7)](this[_0x46b23d(0x1ed)][_0x46b23d(0x1fc)]());}[a0_0x4c9934(0x203)](_0x11514e,_0xbefdd2){const _0x15b005=a0_0x4c9934;return _0x15b005(0x1c5)+this[_0x15b005(0x1e6)]+_0x15b005(0x1c3)+_0x11514e+_0x15b005(0x1d6)+_0xbefdd2;}['keydown'](_0x1e0abe){const _0x20c611=a0_0x4c9934;if(this['gameOver'])return;let _0x8a3c6f=![],_0x15ab64='';this[_0x20c611(0x1ed)]['erase'](this[_0x20c611(0x1b4)]),this[_0x20c611(0x1b4)][_0x20c611(0x1c2)](this[_0x20c611(0x1eb)],this[_0x20c611(0x1f0)]);switch(_0x1e0abe){case'ArrowUp':this['playerRow']>0x0&&(_0x8a3c6f=!![],this['playerRow']--);break;case _0x20c611(0x1da):this[_0x20c611(0x1eb)]+0x1<this[_0x20c611(0x1b4)][_0x20c611(0x1ff)]&&(_0x8a3c6f=!![],this['playerRow']++);break;case _0x20c611(0x1ad):this[_0x20c611(0x1f0)]>0x0&&(_0x8a3c6f=!![],this[_0x20c611(0x1f0)]--);break;case _0x20c611(0x1cb):this[_0x20c611(0x1f0)]+0x1<this[_0x20c611(0x1b4)][_0x20c611(0x1e4)]&&(_0x8a3c6f=!![],this[_0x20c611(0x1f0)]++);break;case'Q':case'q':this[_0x20c611(0x1a9)]=!![];break;default:break;}if(!this[_0x20c611(0x1a9)]){_0x8a3c6f&&(this[_0x20c611(0x1ab)]-=CreaturesApp[_0x20c611(0x201)]);this['creatureList']['takeTurns'](this[_0x20c611(0x1b4)][_0x20c611(0x1ff)],this[_0x20c611(0x1b4)]['colCount']);let _0x26232c=this['creatureList'][_0x20c611(0x1bf)](this[_0x20c611(0x1eb)],this[_0x20c611(0x1f0)]);_0x26232c&&(_0x15ab64='Ate\x20the\x20'+_0x26232c[_0x20c611(0x1db)],this[_0x20c611(0x1ab)]+=_0x26232c[_0x20c611(0x1d7)],this[_0x20c611(0x1ed)][_0x20c611(0x1bd)](_0x26232c),this[_0x20c611(0x1ed)][_0x20c611(0x204)]()==0x0&&(_0x15ab64=_0x20c611(0x1b2),this[_0x20c611(0x1a9)]=!![])),this['playerCalories']<=0x0&&(_0x15ab64=_0x20c611(0x1d2),this[_0x20c611(0x1a9)]=!![]),this[_0x20c611(0x1e6)]++;}this[_0x20c611(0x1ed)]['draw'](this[_0x20c611(0x1b4)]),this[_0x20c611(0x1b4)][_0x20c611(0x1e5)](this[_0x20c611(0x1eb)],this[_0x20c611(0x1f0)],'@',_0x20c611(0x1e9)),this[_0x20c611(0x1b4)][_0x20c611(0x1ac)](this[_0x20c611(0x203)](this[_0x20c611(0x1ab)],_0x15ab64)),this[_0x20c611(0x1e7)][_0x20c611(0x1f7)](this['creatureList'][_0x20c611(0x1fc)]());}[a0_0x4c9934(0x1f4)](){const _0x216231=a0_0x4c9934,_0x44a985=this['turnCount'],_0x4b563=this[_0x216231(0x1ab)],_0x10b6ed=this[_0x216231(0x1ed)][_0x216231(0x204)]();return{'turnCount':_0x44a985,'calories':_0x4b563,'creatureCount':_0x10b6ed};}}class Creature{constructor(_0x7901c3){const _0x3977c4=a0_0x4c9934;Object[_0x3977c4(0x1ae)](this,_0x7901c3),this[_0x3977c4(0x1d1)]=this['calories'];}static [a0_0x4c9934(0x201)]=0x5;static [a0_0x4c9934(0x1fd)]=0x3c;static ['kCaloriesGainedPerRest']=0x5;['positionEquals'](_0x2e477d,_0x555a30){const _0x1d8620=a0_0x4c9934;return this[_0x1d8620(0x1b6)]==_0x2e477d&&this[_0x1d8620(0x1b5)]==_0x555a30;}[a0_0x4c9934(0x1b9)](_0x3759ff,_0x34d1f0){const _0x56e4bd=a0_0x4c9934;this[_0x56e4bd(0x1f5)]?this[_0x56e4bd(0x1be)]():this[_0x56e4bd(0x1af)](_0x3759ff,_0x34d1f0);}[a0_0x4c9934(0x1af)](_0x480101,_0x48f706){const _0x904dd9=a0_0x4c9934;let _0x137fb3=this['row']+this[_0x904dd9(0x1f1)];(_0x137fb3<0x0||_0x137fb3>=_0x480101)&&(this[_0x904dd9(0x1f1)]*=-0x1,_0x137fb3=this[_0x904dd9(0x1b6)]+this[_0x904dd9(0x1f1)]);let _0x57677f=this['col']+this[_0x904dd9(0x1fe)];(_0x57677f<0x0||_0x57677f>=_0x48f706)&&(this[_0x904dd9(0x1fe)]*=-0x1,_0x57677f=this[_0x904dd9(0x1b5)]+this[_0x904dd9(0x1fe)]),(this[_0x904dd9(0x1b6)]!=_0x137fb3||this['col']!=_0x57677f)&&(this[_0x904dd9(0x1b6)]=_0x137fb3,this[_0x904dd9(0x1b5)]=_0x57677f,this[_0x904dd9(0x1d7)]-=Creature['kCaloriesConsumedPerMove'],this[_0x904dd9(0x1d7)]<=0x0&&(this['resting']=!![]));}['rest'](){const _0xb79827=a0_0x4c9934;this[_0xb79827(0x1d7)]+=Creature[_0xb79827(0x1ef)],this[_0xb79827(0x1d7)]>0.75*this[_0xb79827(0x1d1)]&&(this['resting']=![]);}['draw'](_0x17261d){const _0x145b09=a0_0x4c9934;_0x17261d[_0x145b09(0x1e5)](this['row'],this[_0x145b09(0x1b5)],this['glyph'],this[_0x145b09(0x1c9)]);}[a0_0x4c9934(0x1b8)](_0xcd3e19){const _0x208f46=a0_0x4c9934;_0xcd3e19[_0x208f46(0x1c2)](this['row'],this[_0x208f46(0x1b5)]);}[a0_0x4c9934(0x1fc)](){const _0x7052a3=a0_0x4c9934;return this[_0x7052a3(0x1db)][_0x7052a3(0x1dd)](0xa)+'\x20('+this[_0x7052a3(0x1c0)]+')\x20'+this[_0x7052a3(0x1d7)][_0x7052a3(0x1fc)]()[_0x7052a3(0x200)](0x4);}}function a0_0x11e0(){const _0xe4d19c=['ArrowDown','name','1377536uURTRg','padEnd','length','Rabbit','tomato','10YCkXUe','draw','3038dSQdhj','colCount','drawCharAt','turnCount','cout','Falcon','white','map','playerRow','chartreuse','creatureList','2223746fHicWr','kCaloriesGainedPerRest','playerCol','dRow','Porcupine','aqua','contestStatus','resting','orangered','writeLine','green','1241495EQeHSS','orange','23224329GNFdIx','toString','kCaloriesGainedPerMeal','dCol','rowCount','padStart','kCaloriesConsumedPerMove','positionEquals','statusString','creatureCount','Squirrel','filter','deepskyblue','gameOver','kInitialPlayerCalories','playerCalories','setStatusLine','ArrowLeft','assign','move','252Exipeg','yellow','Having\x20eaten\x20everything,\x20player\x20wins!','takeTurns','grid','col','row','Boar','erase','takeTurn','7963638wEurhG','Fox','45501rzyKTY','removeCreature','rest','creatureAtPosition','glyph','Raccoon','eraseCharAt','.\x20Player\x20has\x20','crimson','Turn\x20','main-canvas','violet','Badger','color','getElementById','ArrowRight','11456jjCgrt','Hedgehog','gold','<br>','addCreaturesFromFile','initialCalories','Having\x20starved,\x20player\x20dies.','magenta','Owl','forEach','\x20cals.\x20','calories','creatures','Mouse'];a0_0x11e0=function(){return _0xe4d19c;};return a0_0x11e0();}class CreatureList{constructor(){}[a0_0x4c9934(0x1d0)](){const _0x1785e5=a0_0x4c9934,_0x4a7223=[{'name':_0x1785e5(0x1d9),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x1785e5(0x1f3)},{'name':_0x1785e5(0x1df),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x1785e5(0x1f8)},{'name':_0x1785e5(0x1b7),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x1785e5(0x1b1)},{'name':_0x1785e5(0x205),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x1785e5(0x1c7)},{'name':'Deer','glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x1785e5(0x1d3)},{'name':_0x1785e5(0x1bb),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x1785e5(0x1fa)},{'name':_0x1785e5(0x1c1),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x1785e5(0x1c4)},{'name':_0x1785e5(0x1d4),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x1785e5(0x1a8)},{'name':_0x1785e5(0x1cd),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x1785e5(0x1ec)},{'name':_0x1785e5(0x1c8),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x1785e5(0x1ce)},{'name':_0x1785e5(0x1f2),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x1785e5(0x1e0)},{'name':'Skunk','glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':'cyan'},{'name':'Lynx','glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':'dodgerblue'},{'name':_0x1785e5(0x1e8),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x1785e5(0x1f6)}];this[_0x1785e5(0x1d8)]=_0x4a7223[_0x1785e5(0x1ea)](_0x362565=>new Creature(_0x362565));}[a0_0x4c9934(0x1e2)](_0x114d0b){const _0xef3397=a0_0x4c9934;this[_0xef3397(0x1d8)][_0xef3397(0x1d5)](_0x4cc88e=>_0x4cc88e[_0xef3397(0x1e2)](_0x114d0b));}[a0_0x4c9934(0x1b8)](_0xf0a346){const _0x3c98f7=a0_0x4c9934;this[_0x3c98f7(0x1d8)]['forEach'](_0x83af8d=>_0x83af8d[_0x3c98f7(0x1b8)](_0xf0a346));}[a0_0x4c9934(0x1b3)](_0x3d440f,_0x3ae359){const _0x562f3d=a0_0x4c9934;this[_0x562f3d(0x1d8)]['forEach'](_0x9a0fde=>_0x9a0fde[_0x562f3d(0x1b9)](_0x3d440f,_0x3ae359));}[a0_0x4c9934(0x1bf)](_0x3074a4,_0x5d1926){const _0x5722ec=a0_0x4c9934;return this[_0x5722ec(0x1d8)]['find'](_0x2a80ed=>_0x2a80ed[_0x5722ec(0x202)](_0x3074a4,_0x5d1926));}[a0_0x4c9934(0x1bd)](_0x4c4507){const _0x4d08b2=a0_0x4c9934;this['creatures']=this[_0x4d08b2(0x1d8)][_0x4d08b2(0x1a7)](_0x359613=>_0x359613!=_0x4c4507);}[a0_0x4c9934(0x204)](){const _0x4e818d=a0_0x4c9934;return this[_0x4e818d(0x1d8)][_0x4e818d(0x1de)];}[a0_0x4c9934(0x1fc)](){const _0x484b09=a0_0x4c9934;return this[_0x484b09(0x1d8)][_0x484b09(0x1ea)](_0x46e0a9=>_0x46e0a9[_0x484b09(0x1fc)]())['join'](_0x484b09(0x1cf));}}