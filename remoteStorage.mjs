function a0_0x37ba(_0x198eec,_0x3c737a){const _0x3a0529=a0_0x3a05();return a0_0x37ba=function(_0x37ba34,_0x13b2c2){_0x37ba34=_0x37ba34-0x104;let _0x257381=_0x3a0529[_0x37ba34];return _0x257381;},a0_0x37ba(_0x198eec,_0x3c737a);}const a0_0x9b6cee=a0_0x37ba;(function(_0x366e29,_0x952478){const _0x58af1e=a0_0x37ba,_0xd33ca5=_0x366e29();while(!![]){try{const _0x458c77=parseInt(_0x58af1e(0x105))/0x1*(parseInt(_0x58af1e(0x119))/0x2)+-parseInt(_0x58af1e(0x121))/0x3+-parseInt(_0x58af1e(0x12d))/0x4+parseInt(_0x58af1e(0x10c))/0x5*(parseInt(_0x58af1e(0x11d))/0x6)+-parseInt(_0x58af1e(0x12a))/0x7*(-parseInt(_0x58af1e(0x11b))/0x8)+parseInt(_0x58af1e(0x104))/0x9+-parseInt(_0x58af1e(0x125))/0xa;if(_0x458c77===_0x952478)break;else _0xd33ca5['push'](_0xd33ca5['shift']());}catch(_0x315c73){_0xd33ca5['push'](_0xd33ca5['shift']());}}}(a0_0x3a05,0x97cb9));export class RemoteStorage{constructor(_0x59808e,_0x40aa9e){const _0x518d57=a0_0x37ba;this[_0x518d57(0x114)]=_0x59808e,this['endpoint']=_0x518d57(0x12e),this[_0x518d57(0x10b)]={'Content-Type':_0x518d57(0x126)};if(_0x40aa9e)this[_0x518d57(0x10b)][_0x518d57(0x124)]=_0x40aa9e;}async[a0_0x9b6cee(0x113)](_0x138407,_0x518b32){const _0x5672d3=a0_0x9b6cee,_0x3c644a=await fetch(this[_0x5672d3(0x112)]+_0x5672d3(0x12c),{'method':_0x5672d3(0x11a),'headers':{'Content-Type':_0x5672d3(0x126)},'body':JSON['stringify']({'userID':_0x138407,'password':_0x518b32})}),_0x20933b=await _0x3c644a[_0x5672d3(0x131)]()[_0x5672d3(0x108)](()=>({}));if(!_0x3c644a['ok'])throw{'status':_0x3c644a['status'],'body':_0x20933b};return{'status':_0x3c644a[_0x5672d3(0x110)],'json':_0x20933b};}async['login'](_0x4c0754,_0x59dea3){const _0x2ef85b=a0_0x9b6cee,_0x467e7c=await fetch(this[_0x2ef85b(0x112)]+'/login',{'method':_0x2ef85b(0x11a),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2ef85b(0x129)]({'namespace':this[_0x2ef85b(0x114)],'userID':_0x4c0754,'password':_0x59dea3})}),_0x31a731=await _0x467e7c[_0x2ef85b(0x131)]()[_0x2ef85b(0x108)](()=>({}));if(!_0x467e7c['ok'])throw{'status':_0x467e7c['status'],'body':_0x31a731};const _0x5d27f6=_0x31a731['token'];return this['requestHeaders'][_0x2ef85b(0x124)]=_0x5d27f6,_0x5d27f6;}async[a0_0x9b6cee(0x11e)](){const _0x2f90d6=a0_0x9b6cee;let _0x5509a6=[],_0x3c5fb8=null;while(!![]){const {keys:_0x56a787,cursor:_0x524e75,list_complete:_0x300d36}=await this[_0x2f90d6(0x11f)]({'cursor':_0x3c5fb8});_0x5509a6['push'](..._0x56a787);if(_0x300d36)break;_0x3c5fb8=_0x524e75;}return _0x5509a6;}async[a0_0x9b6cee(0x11f)]({limit:limit=0x3e8,cursor:_0x3ba2d4=null}={}){const _0x30ea70=a0_0x9b6cee,{items:_0x281604,cursor:_0x4733cd,list_complete:_0x5e239d}=await this[_0x30ea70(0x111)]({'limit':limit,'cursor':_0x3ba2d4}),_0x38abdc=_0x281604[_0x30ea70(0x12b)](_0x340239=>_0x340239[_0x30ea70(0x120)]);return{'keys':_0x38abdc,'cursor':_0x4733cd,'list_complete':_0x5e239d};}async[a0_0x9b6cee(0x109)](..._0x3995f3){const _0x4ed9e4=a0_0x9b6cee,_0x37c80b={};let _0xdeb468=null;while(!![]){const {items:_0x591519,cursor:_0x185777,list_complete:_0x4bf63b}=await this[_0x4ed9e4(0x111)]({'cursor':_0xdeb468}),_0x3e9bc4=_0x3995f3['length']?_0x591519[_0x4ed9e4(0x134)](_0x5853ff=>_0x3995f3[_0x4ed9e4(0x115)](_0x18ab53=>_0x5853ff[_0x4ed9e4(0x120)][_0x4ed9e4(0x107)](_0x18ab53))):_0x591519;await Promise[_0x4ed9e4(0x12f)](_0x3e9bc4[_0x4ed9e4(0x12b)](async({name:_0x14f5ed,metadata:_0x48ca0b})=>{const _0x4c3449=_0x4ed9e4,_0x3037bc=await this[_0x4c3449(0x136)](_0x14f5ed);_0x37c80b[_0x14f5ed]={'value':_0x3037bc,'metadata':_0x48ca0b};}));if(_0x4bf63b)break;_0xdeb468=_0x185777;}return _0x37c80b;}async['list']({limit:limit=0x3e8,cursor:cursor=null}={}){const _0xbb1664=a0_0x9b6cee;return this[_0xbb1664(0x137)](_0xbb1664(0x117),_0xbb1664(0x123),null,{'limit':limit,'cursor':cursor});}async[a0_0x9b6cee(0x128)](_0x3cbadf,_0x2619fc){const _0x1234ac=a0_0x9b6cee;return this[_0x1234ac(0x137)](_0x1234ac(0x11a),_0x1234ac(0x116),{'key':_0x3cbadf,'value':_0x2619fc});}async[a0_0x9b6cee(0x136)](_0x776ff1){const _0x210c94=a0_0x9b6cee;return this[_0x210c94(0x137)](_0x210c94(0x117),_0x210c94(0x11c),null,{'key':_0x776ff1});}async[a0_0x9b6cee(0x122)](_0x24c828){const _0x134ad5=a0_0x9b6cee;return this[_0x134ad5(0x137)]('GET',_0x134ad5(0x10a),null,{'key':_0x24c828});}async[a0_0x9b6cee(0x10f)](_0x369b89){return this['apiFetch']('DELETE','/delete',null,{'key':_0x369b89});}async[a0_0x9b6cee(0x133)](){const _0x2dca00=a0_0x9b6cee,_0x2ec30a=await this[_0x2dca00(0x11e)]();return await Promise['all'](_0x2ec30a[_0x2dca00(0x12b)](_0x541788=>this[_0x2dca00(0x10f)](_0x541788))),null;}async[a0_0x9b6cee(0x137)](_0x50ebc5,_0x4a06dd,_0x189c4e=null,_0x3d740d={}){const _0x4a05e6=a0_0x9b6cee;_0x3d740d={..._0x3d740d,'namespace':this[_0x4a05e6(0x114)]};const _0x27d0a8=new URL(''+this[_0x4a05e6(0x112)]+_0x4a06dd);_0x27d0a8[_0x4a05e6(0x135)]=new URLSearchParams(Object[_0x4a05e6(0x106)](_0x3d740d)[_0x4a05e6(0x134)](([_0x43915f,_0x4c310b])=>_0x4c310b!==undefined&&_0x4c310b!==null))['toString']();const _0x27b68d={'method':_0x50ebc5,'headers':this[_0x4a05e6(0x10b)]};if(_0x189c4e)_0x27b68d[_0x4a05e6(0x127)]=JSON[_0x4a05e6(0x129)](_0x189c4e);try{const _0x17985e=await fetch(_0x27d0a8,_0x27b68d),_0x516def=await _0x17985e[_0x4a05e6(0x131)]()['catch'](()=>({}));if(!_0x17985e['ok'])throw{'type':_0x4a05e6(0x130),'status':_0x17985e[_0x4a05e6(0x110)],'body':_0x516def};return _0x516def;}catch(_0xf30198){if(_0xf30198?.[_0x4a05e6(0x10e)]==='http-error')throw _0xf30198;const _0x37e79a=_0xf30198?.[_0x4a05e6(0x10d)]||_0xf30198?.[_0x4a05e6(0x120)]||_0xf30198?.['code']||_0x4a05e6(0x118);throw{'type':_0x4a05e6(0x132),'detail':_0x37e79a};}}}function a0_0x3a05(){const _0x49e711=['stringify','14HeVNac','map','/register','4970944oUqmUA','https://remote-storage.dan-5d7.workers.dev/v1','all','http-error','json','network-error','clear','filter','search','getItem','apiFetch','5028741zUUPuP','2hoyCgX','entries','startsWith','catch','getNamespace','/getWithMetadata','requestHeaders','5848925jYTnwO','message','type','removeItem','status','list','endpoint','register','namespace','some','/set','GET','Unknown\x20network\x20error','814084GyKikt','POST','3854056EtGptq','/get','6CSyItT','keys','keysPaged','name','823734kBGpvv','getItemWithMetadata','/list','Authorization','13670650jZFNEo','application/json','body','setItem'];a0_0x3a05=function(){return _0x49e711;};return a0_0x3a05();}