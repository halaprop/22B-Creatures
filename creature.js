const a0_0x242bc7=a0_0x1352;(function(_0x2fd6ad,_0x24cefe){const _0x569732=a0_0x1352,_0x2f255e=_0x2fd6ad();while(!![]){try{const _0x37b6ca=-parseInt(_0x569732(0x19e))/0x1*(parseInt(_0x569732(0x192))/0x2)+parseInt(_0x569732(0x1d9))/0x3*(-parseInt(_0x569732(0x1bb))/0x4)+-parseInt(_0x569732(0x1b2))/0x5+-parseInt(_0x569732(0x18e))/0x6*(-parseInt(_0x569732(0x1b3))/0x7)+parseInt(_0x569732(0x1b6))/0x8+parseInt(_0x569732(0x1a0))/0x9+parseInt(_0x569732(0x1d4))/0xa;if(_0x37b6ca===_0x24cefe)break;else _0x2f255e['push'](_0x2f255e['shift']());}catch(_0x248262){_0x2f255e['push'](_0x2f255e['shift']());}}}(a0_0x431d,0xe02f5));function a0_0x1352(_0x24c054,_0x3ccc90){const _0x431dbc=a0_0x431d();return a0_0x1352=function(_0x135205,_0x230b5a){_0x135205=_0x135205-0x187;let _0x24ef9b=_0x431dbc[_0x135205];return _0x24ef9b;},a0_0x1352(_0x24c054,_0x3ccc90);}import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static ['kInitialPlayerCalories']=0x78;static [a0_0x242bc7(0x1d7)]=0x5;constructor(){const _0x1a9400=a0_0x242bc7,_0x33044b={'canvas':document['getElementById'](_0x1a9400(0x194)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x1a9400(0x199)]=0x64,this['grid']=new ConsoleGrid(_0x33044b);const _0xcfa6d1=document[_0x1a9400(0x1b4)]('cout-lines');this[_0x1a9400(0x1a7)]=new Cout(_0xcfa6d1),this[_0x1a9400(0x1aa)]=0x5,this[_0x1a9400(0x19d)]=0x5,this['playerCalories']=CreaturesApp['kInitialPlayerCalories'],this[_0x1a9400(0x1ac)]=0x0,this[_0x1a9400(0x1d6)]=![],this['creatureList']=new CreatureList(),this['creatureList'][_0x1a9400(0x1c2)](),this[_0x1a9400(0x1d2)][_0x1a9400(0x191)](this['grid']),this['grid']['drawCharAt'](this[_0x1a9400(0x1aa)],this['playerCol'],'@',_0x1a9400(0x1b7)),this['grid'][_0x1a9400(0x1af)](this[_0x1a9400(0x1c4)](this[_0x1a9400(0x1d5)],'')),this[_0x1a9400(0x1a7)]['writeLine'](this[_0x1a9400(0x1d2)][_0x1a9400(0x19f)]());}[a0_0x242bc7(0x1c4)](_0x526c24,_0x22490f){const _0x2b825f=a0_0x242bc7;return _0x2b825f(0x1c5)+this['turnCount']+_0x2b825f(0x1a4)+_0x526c24+'\x20cals.\x20'+_0x22490f;}['keydown'](_0x42228b){const _0x36419d=a0_0x242bc7;if(this[_0x36419d(0x1d6)])return;let _0x7006f6=![],_0x4664a4='';this[_0x36419d(0x1d2)][_0x36419d(0x195)](this[_0x36419d(0x1b1)]),this[_0x36419d(0x1b1)][_0x36419d(0x198)](this[_0x36419d(0x1aa)],this['playerCol']);switch(_0x42228b){case'ArrowUp':this[_0x36419d(0x1aa)]>0x0&&(_0x7006f6=!![],this[_0x36419d(0x1aa)]--);break;case _0x36419d(0x1c9):this['playerRow']+0x1<this[_0x36419d(0x1b1)][_0x36419d(0x1ba)]&&(_0x7006f6=!![],this[_0x36419d(0x1aa)]++);break;case _0x36419d(0x1b0):this[_0x36419d(0x19d)]>0x0&&(_0x7006f6=!![],this[_0x36419d(0x19d)]--);break;case _0x36419d(0x1dc):this[_0x36419d(0x19d)]+0x1<this['grid'][_0x36419d(0x1cb)]&&(_0x7006f6=!![],this[_0x36419d(0x19d)]++);break;case'Q':case'q':this[_0x36419d(0x1d6)]=!![];break;default:break;}if(!this[_0x36419d(0x1d6)]){_0x7006f6&&(this['playerCalories']-=CreaturesApp['kCaloriesConsumedPerMove']);this[_0x36419d(0x1d2)][_0x36419d(0x1ce)](this['grid'][_0x36419d(0x1ba)],this['grid'][_0x36419d(0x1cb)]);let _0x4a63be=this[_0x36419d(0x1d2)]['creatureAtPosition'](this[_0x36419d(0x1aa)],this['playerCol']);_0x4a63be&&(_0x4664a4=_0x36419d(0x1b5)+_0x4a63be[_0x36419d(0x18f)],this[_0x36419d(0x1d5)]+=_0x4a63be[_0x36419d(0x1d3)],this[_0x36419d(0x1d2)]['removeCreature'](_0x4a63be),this[_0x36419d(0x1d2)][_0x36419d(0x190)]()==0x0&&(_0x4664a4='Having\x20eaten\x20everything,\x20player\x20wins!',this[_0x36419d(0x1d6)]=!![])),this[_0x36419d(0x1d5)]<=0x0&&(_0x4664a4=_0x36419d(0x1bc),this[_0x36419d(0x1d6)]=!![]),this[_0x36419d(0x1ac)]++;}this['creatureList'][_0x36419d(0x191)](this[_0x36419d(0x1b1)]),this[_0x36419d(0x1b1)]['drawCharAt'](this[_0x36419d(0x1aa)],this[_0x36419d(0x19d)],'@',_0x36419d(0x1b7)),this['grid'][_0x36419d(0x1af)](this[_0x36419d(0x1c4)](this['playerCalories'],_0x4664a4)),this['cout']['writeLine'](this[_0x36419d(0x1d2)][_0x36419d(0x19f)]());}}class Creature{constructor(_0x2519b6){Object['assign'](this,_0x2519b6),this['initialCalories']=this['calories'];}static [a0_0x242bc7(0x1d7)]=0x5;static [a0_0x242bc7(0x1dd)]=0x3c;static [a0_0x242bc7(0x193)]=0x5;[a0_0x242bc7(0x1a2)](_0x516c9d,_0x57a602){const _0x4dff1b=a0_0x242bc7;return this[_0x4dff1b(0x1cc)]==_0x516c9d&&this[_0x4dff1b(0x196)]==_0x57a602;}[a0_0x242bc7(0x1c6)](_0x3fc18a,_0x2f5e9c){const _0x47ac21=a0_0x242bc7;this[_0x47ac21(0x18b)]?this[_0x47ac21(0x1d1)]():this[_0x47ac21(0x19b)](_0x3fc18a,_0x2f5e9c);}['move'](_0xc1c62f,_0x37cb8f){const _0x501009=a0_0x242bc7;let _0x20a187=this['row']+this[_0x501009(0x1ad)];(_0x20a187<0x0||_0x20a187>=_0xc1c62f)&&(this[_0x501009(0x1ad)]*=-0x1,_0x20a187=this[_0x501009(0x1cc)]+this[_0x501009(0x1ad)]);let _0x46e5e9=this[_0x501009(0x196)]+this[_0x501009(0x1c3)];(_0x46e5e9<0x0||_0x46e5e9>=_0x37cb8f)&&(this['dCol']*=-0x1,_0x46e5e9=this[_0x501009(0x196)]+this['dCol']),(this[_0x501009(0x1cc)]!=_0x20a187||this[_0x501009(0x196)]!=_0x46e5e9)&&(this['row']=_0x20a187,this['col']=_0x46e5e9,this[_0x501009(0x1d3)]-=Creature['kCaloriesConsumedPerMove'],this[_0x501009(0x1d3)]<=0x0&&(this[_0x501009(0x18b)]=!![]));}[a0_0x242bc7(0x1d1)](){const _0x3657ef=a0_0x242bc7;this[_0x3657ef(0x1d3)]+=Creature[_0x3657ef(0x193)],this['calories']>0.75*this[_0x3657ef(0x1c0)]&&(this['resting']=![]);}[a0_0x242bc7(0x191)](_0xa29356){const _0x56d60b=a0_0x242bc7;_0xa29356['drawCharAt'](this[_0x56d60b(0x1cc)],this[_0x56d60b(0x196)],this[_0x56d60b(0x1ae)],this[_0x56d60b(0x1ca)]);}[a0_0x242bc7(0x195)](_0x2ce25b){const _0x3691a5=a0_0x242bc7;_0x2ce25b[_0x3691a5(0x198)](this[_0x3691a5(0x1cc)],this[_0x3691a5(0x196)]);}['toString'](){const _0x3a3e84=a0_0x242bc7;return this[_0x3a3e84(0x18f)][_0x3a3e84(0x1b9)](0xa)+'\x20('+this['glyph']+')\x20'+this[_0x3a3e84(0x1d3)]['toString']()[_0x3a3e84(0x189)](0x4);}}function a0_0x431d(){const _0x2c67e1=['9433791gYcurJ','Deer','positionEquals','length','.\x20Player\x20has\x20','deepskyblue','magenta','cout','Rabbit','aqua','playerRow','Squirrel','turnCount','dRow','glyph','setStatusLine','ArrowLeft','grid','3428225SnXfHe','1939IWlQKV','getElementById','Ate\x20the\x20','2441360cCfyxR','white','find','padEnd','rowCount','338824TXQEzj','Having\x20starved,\x20player\x20dies.','Lynx','join','green','initialCalories','Raccoon','addCreaturesFromFile','dCol','statusString','Turn\x20','takeTurn','Mouse','Owl','ArrowDown','color','colCount','row','creatures','takeTurns','orangered','Falcon','rest','creatureList','calories','9208540iRogUV','playerCalories','gameOver','kCaloriesConsumedPerMove','Badger','42wvgFkH','violet','gold','ArrowRight','kCaloriesGainedPerMeal','Porcupine','crimson','tomato','Skunk','padStart','dodgerblue','resting','creatureAtPosition','orange','21876gkldqv','name','creatureCount','draw','70EYKwTV','kCaloriesGainedPerRest','main-canvas','erase','col','forEach','eraseCharAt','sleepTimeout','Fox','move','map','playerCol','14125PVwDSK','toString'];a0_0x431d=function(){return _0x2c67e1;};return a0_0x431d();}class CreatureList{constructor(){}[a0_0x242bc7(0x1c2)](){const _0x25797b=a0_0x242bc7,_0x1ea5d7=[{'name':_0x25797b(0x1c7),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x25797b(0x1a9)},{'name':_0x25797b(0x1a8),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x25797b(0x1bf)},{'name':'Boar','glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':'yellow'},{'name':_0x25797b(0x1ab),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x25797b(0x1da)},{'name':_0x25797b(0x1a1),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x25797b(0x1a6)},{'name':_0x25797b(0x19a),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x25797b(0x18d)},{'name':_0x25797b(0x1c1),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x25797b(0x1df)},{'name':_0x25797b(0x1c8),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x25797b(0x1a5)},{'name':'Hedgehog','glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':'chartreuse'},{'name':_0x25797b(0x1d8),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x25797b(0x1db)},{'name':_0x25797b(0x1de),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x25797b(0x187)},{'name':_0x25797b(0x188),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':'cyan'},{'name':_0x25797b(0x1bd),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x25797b(0x18a)},{'name':_0x25797b(0x1d0),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x25797b(0x1cf)}];this[_0x25797b(0x1cd)]=_0x1ea5d7['map'](_0x4db8f8=>new Creature(_0x4db8f8));}['draw'](_0x2ff534){const _0x3dfc8a=a0_0x242bc7;this[_0x3dfc8a(0x1cd)][_0x3dfc8a(0x197)](_0xdd7684=>_0xdd7684[_0x3dfc8a(0x191)](_0x2ff534));}['erase'](_0x237649){const _0x1846d2=a0_0x242bc7;this['creatures'][_0x1846d2(0x197)](_0x3817a6=>_0x3817a6[_0x1846d2(0x195)](_0x237649));}[a0_0x242bc7(0x1ce)](_0x3af118,_0x26f658){const _0x24ee77=a0_0x242bc7;this[_0x24ee77(0x1cd)][_0x24ee77(0x197)](_0x210778=>_0x210778[_0x24ee77(0x1c6)](_0x3af118,_0x26f658));}[a0_0x242bc7(0x18c)](_0x6fda09,_0x4b4a61){const _0xe19f08=a0_0x242bc7;return this['creatures'][_0xe19f08(0x1b8)](_0x31ad3c=>_0x31ad3c[_0xe19f08(0x1a2)](_0x6fda09,_0x4b4a61));}['removeCreature'](_0xfc7878){const _0x51e79c=a0_0x242bc7;this[_0x51e79c(0x1cd)]=this[_0x51e79c(0x1cd)]['filter'](_0x4000c6=>_0x4000c6!=_0xfc7878);}[a0_0x242bc7(0x190)](){const _0x121dcc=a0_0x242bc7;return this[_0x121dcc(0x1cd)][_0x121dcc(0x1a3)];}[a0_0x242bc7(0x19f)](){const _0x46e069=a0_0x242bc7;return this['creatures'][_0x46e069(0x19c)](_0x31f6e0=>_0x31f6e0[_0x46e069(0x19f)]())[_0x46e069(0x1be)]('<br>');}}