const a0_0x520b01=a0_0x4fbc;(function(_0x59b89c,_0x442954){const _0x432c00=a0_0x4fbc,_0x1d8fc9=_0x59b89c();while(!![]){try{const _0x2bc9d4=parseInt(_0x432c00(0x203))/0x1*(parseInt(_0x432c00(0x1b9))/0x2)+-parseInt(_0x432c00(0x1ff))/0x3+-parseInt(_0x432c00(0x209))/0x4+parseInt(_0x432c00(0x1fa))/0x5*(-parseInt(_0x432c00(0x21d))/0x6)+parseInt(_0x432c00(0x1b1))/0x7+parseInt(_0x432c00(0x1bd))/0x8*(parseInt(_0x432c00(0x1e7))/0x9)+-parseInt(_0x432c00(0x1f0))/0xa;if(_0x2bc9d4===_0x442954)break;else _0x1d8fc9['push'](_0x1d8fc9['shift']());}catch(_0x268ddb){_0x1d8fc9['push'](_0x1d8fc9['shift']());}}}(a0_0x2c0f,0x3b8a2));import{readKeys,rleCompress,decompressAsKeys}from'./key-file-reader.js';import{RemoteStorage}from'./remoteStorage.mjs';import{CreaturesApp}from'./creature.js';let appName;function a0_0x4fbc(_0x4eb0c9,_0x2a4c84){const _0x2c0fa9=a0_0x2c0f();return a0_0x4fbc=function(_0x4fbcdd,_0x42a3ac){_0x4fbcdd=_0x4fbcdd-0x1a4;let _0x3f5d88=_0x2c0fa9[_0x4fbcdd];return _0x3f5d88;},a0_0x4fbc(_0x4eb0c9,_0x2a4c84);}appName=a0_0x520b01(0x1c6);let appKlass,namespace,SUBMISSIONS_WRITE;appKlass=CreaturesApp,namespace='CREATURES_SUBMISSIONS',SUBMISSIONS_WRITE=a0_0x520b01(0x1c2),window['addEventListener'](a0_0x520b01(0x1f7),()=>{const _0xb6d3f5=a0_0x520b01;document[_0xb6d3f5(0x1e9)]=appName,App['el'](_0xb6d3f5(0x1d5))[_0xb6d3f5(0x1f2)]=appName,App['el'](_0xb6d3f5(0x1c7))[_0xb6d3f5(0x1e6)]=appName==_0xb6d3f5(0x1de);});const localStorageKey=a0_0x520b01(0x1be)+namespace,remoteStorage=new RemoteStorage(namespace,SUBMISSIONS_WRITE);class App{static['el'](_0x5901fa){const _0x580532=a0_0x520b01;return document[_0x580532(0x1ed)](_0x5901fa);}constructor(){const _0x11b587=a0_0x520b01,_0x42d638=App['el'](_0x11b587(0x216)),_0x50d07e=App['el'](_0x11b587(0x1ec));this['submitBtn']=App['el'](_0x11b587(0x218)),this[_0x11b587(0x1d4)]=App['el']('playback-btn'),this['speedBtn']=App['el']('speed-btn'),this[_0x11b587(0x20a)]=App['el'](_0x11b587(0x204)),this['adminSubmissionsToggle']=App['el'](_0x11b587(0x220)),this['studentApp']=new appKlass(),App['el'](_0x11b587(0x1cb))[_0x11b587(0x222)](_0x11b587(0x221),()=>{_0x42d638['click']();}),_0x42d638[_0x11b587(0x222)]('change',async()=>{const _0x383c50=_0x11b587,_0x58eb9e=_0x42d638['files']?.[0x0];_0x42d638[_0x383c50(0x1bb)]='',_0x58eb9e&&await this[_0x383c50(0x1c1)](_0x58eb9e);}),this[_0x11b587(0x1d4)]['addEventListener']('click',()=>{const _0xd174f6=_0x11b587;this[_0xd174f6(0x1fe)]=!this['isPaused'],!this[_0xd174f6(0x1fe)]&&(this['studentApp'][_0xd174f6(0x20c)]?this['startPlayback']():this[_0xd174f6(0x1cc)]());}),this[_0x11b587(0x217)](),this['submitBtn'][_0x11b587(0x222)](_0x11b587(0x221),()=>{const _0x567314=_0x11b587;UIkit[_0x567314(0x1a5)](_0x567314(0x1c0))['show'](),this[_0x567314(0x217)]();});const _0x2de0f7=App['el'](_0x11b587(0x1dc));_0x2de0f7[_0x11b587(0x222)](_0x11b587(0x1a4),_0x2471a9=>this[_0x11b587(0x1f9)](_0x2471a9)),App['el'](_0x11b587(0x1db))[_0x11b587(0x222)](_0x11b587(0x221),_0x387694=>{const _0x4f9147=_0x11b587;UIkit[_0x4f9147(0x1a5)](_0x4f9147(0x1c0))[_0x4f9147(0x1b6)]();}),_0x50d07e[_0x11b587(0x1d1)](_0x11b587(0x1d2))[_0x11b587(0x1d9)](_0x350a24=>{const _0x36d179=_0x11b587;_0x350a24[_0x36d179(0x222)](_0x36d179(0x221),_0x59fa70=>{const _0x21b759=_0x36d179;_0x59fa70[_0x21b759(0x206)](),UIkit[_0x21b759(0x1aa)](_0x21b759(0x1e0))[_0x21b759(0x1b6)](),_0x50d07e['querySelectorAll'](_0x21b759(0x1d7))['forEach'](_0x5cefc4=>_0x5cefc4['classList'][_0x21b759(0x1f3)]('uk-active')),_0x350a24[_0x21b759(0x1ee)]['add'](_0x21b759(0x219)),App['el'](_0x21b759(0x212))['innerHTML']=_0x350a24[_0x21b759(0x1c3)];});}),document[_0x11b587(0x222)](_0x11b587(0x1d8),_0x1b6a71=>{const _0x4424cd=_0x11b587,_0x15db92=document[_0x4424cd(0x1af)](_0x4424cd(0x1dd));if(_0x15db92)return;!this[_0x4424cd(0x20c)]&&(_0x1b6a71['preventDefault'](),_0x1b6a71[_0x4424cd(0x1b4)](),this[_0x4424cd(0x1f1)][_0x4424cd(0x1d8)](_0x1b6a71[_0x4424cd(0x1e8)]));}),this[_0x11b587(0x20a)]['addEventListener'](_0x11b587(0x221),async()=>this['onClickedLogin']()),this['adminSubmissionsToggle'][_0x11b587(0x222)](_0x11b587(0x221),async()=>this['onClickedAdminSubmissions']()),this[_0x11b587(0x1fc)]=localStorage[_0x11b587(0x1e3)](localStorageKey),this['atKey']?(this[_0x11b587(0x210)]=new RemoteStorage(namespace,this[_0x11b587(0x1fc)]),this[_0x11b587(0x20a)][_0x11b587(0x1e6)]=!![],this[_0x11b587(0x21c)][_0x11b587(0x1e6)]=![]):(this[_0x11b587(0x20a)]['hidden']=![],this[_0x11b587(0x21c)][_0x11b587(0x1e6)]=!![]);}async[a0_0x520b01(0x1c1)](_0xb33276){const _0x73b64c=a0_0x520b01;try{const {keys:_0x189f04,text:_0x85dbf6}=await readKeys(_0xb33276);return this[_0x73b64c(0x20d)]=_0x189f04,this[_0x73b64c(0x1fb)]=_0x85dbf6,this['startPlayback'](),!![];}catch(_0x5c00f9){return UIkit['modal'][_0x73b64c(0x1c5)](_0x5c00f9[_0x73b64c(0x20f)]),![];}}[a0_0x520b01(0x1f8)](){const _0x3d9101=a0_0x520b01;this['playBtn'][_0x3d9101(0x1fd)]=![],this[_0x3d9101(0x202)][_0x3d9101(0x1fd)]=![],this['isPaused']=![],this[_0x3d9101(0x1b3)]=0x0,this[_0x3d9101(0x1f1)]=new appKlass(),this[_0x3d9101(0x1cc)]();}async['continuePlayback'](){const _0x1b3128=a0_0x520b01,_0x213047=_0x1e0855=>new Promise(_0x3f2b09=>setTimeout(_0x3f2b09,_0x1e0855));while(!this[_0x1b3128(0x1fe)]&&this['playbackIndex']<this[_0x1b3128(0x20d)][_0x1b3128(0x214)]){await _0x213047(this[_0x1b3128(0x1d0)]);const _0x27ec28=this[_0x1b3128(0x20d)][this[_0x1b3128(0x1b3)]++];this['studentApp']['keydown'](_0x27ec28);}this[_0x1b3128(0x1b3)]>=this['keys'][_0x1b3128(0x214)]&&(this[_0x1b3128(0x1e2)][_0x1b3128(0x1fd)]=![],this['isPaused']=!![]);}get[a0_0x520b01(0x1fe)](){const _0x1e39ac=a0_0x520b01;return this[_0x1e39ac(0x1b0)];}set['isPaused'](_0x4f153d){const _0x248d6d=a0_0x520b01;this[_0x248d6d(0x1b0)]=_0x4f153d;const _0x321d83=App['el'](_0x248d6d(0x207))[_0x248d6d(0x1af)]('i'),_0x468781=[..._0x321d83['classList']][_0x248d6d(0x1d6)](_0x42ea87=>_0x42ea87[_0x248d6d(0x1b7)](_0x248d6d(0x20b)));_0x321d83[_0x248d6d(0x1ee)][_0x248d6d(0x1f3)](..._0x468781),_0x321d83[_0x248d6d(0x1ee)][_0x248d6d(0x1c8)](_0x4f153d?'fa-play':_0x248d6d(0x1b8));}get[a0_0x520b01(0x1d0)](){const _0x2cfac9=a0_0x520b01,_0xbcaac7=App['el'](_0x2cfac9(0x1ec))[_0x2cfac9(0x1af)](_0x2cfac9(0x1a6));return _0xbcaac7?parseInt(_0xbcaac7[_0x2cfac9(0x1c4)](_0x2cfac9(0x1a9)),0xa):null;}async[a0_0x520b01(0x1f9)](_0x288d44){const _0x19903a=a0_0x520b01;_0x288d44['preventDefault'](),this[_0x19903a(0x1df)](_0x19903a(0x205));const _0x977490=App['el'](_0x19903a(0x1bf))[_0x19903a(0x1bb)],_0x5ee6f9=App['el'](_0x19903a(0x1ea))[_0x19903a(0x1bb)],_0x7173a3=App['el'](_0x19903a(0x1ab))[_0x19903a(0x1bb)],_0xac756a=_0x19903a(0x1bc)+_0x7173a3,_0x53a5cf=rleCompress(this['text']),_0x16dd77=this[_0x19903a(0x1f1)][_0x19903a(0x1ca)](),_0x186a6c={'firstName':_0x977490,'lastName':_0x5ee6f9,'studentID':_0x7173a3,'keystrokesKey':_0xac756a,'contestStatus':_0x16dd77},_0x55b5e9=_0x19903a(0x1c9)+_0x7173a3;try{await remoteStorage[_0x19903a(0x1ce)](_0xac756a,_0x53a5cf),await remoteStorage[_0x19903a(0x1ce)](_0x55b5e9,_0x186a6c);}catch(_0x29786d){this[_0x19903a(0x208)](_0x29786d[_0x19903a(0x20f)]);}finally{this[_0x19903a(0x208)](_0x19903a(0x1ad));}}[a0_0x520b01(0x217)](){const _0x5b2cd7=a0_0x520b01;App['el'](_0x5b2cd7(0x1e4))[_0x5b2cd7(0x1e6)]=!![],App['el'](_0x5b2cd7(0x21f))[_0x5b2cd7(0x1e6)]=!![],App['el']('modal-submit-btn')[_0x5b2cd7(0x1fd)]=![],App['el'](_0x5b2cd7(0x1e1))[_0x5b2cd7(0x1e6)]=![],App['el'](_0x5b2cd7(0x1e1))[_0x5b2cd7(0x1fd)]=![],App['el'](_0x5b2cd7(0x213))[_0x5b2cd7(0x1e6)]=![],App['el'](_0x5b2cd7(0x1db))[_0x5b2cd7(0x1e6)]=!![];}['submitStateBusy'](_0x47068b){const _0xb8204c=a0_0x520b01;App['el'](_0xb8204c(0x1e4))[_0xb8204c(0x1e6)]=![],App['el'](_0xb8204c(0x1e4))[_0xb8204c(0x1f2)]=_0x47068b,App['el'](_0xb8204c(0x21f))[_0xb8204c(0x1e6)]=![],App['el']('modal-submit-btn')[_0xb8204c(0x1fd)]=!![],App['el'](_0xb8204c(0x1e1))[_0xb8204c(0x1fd)]=!![];}[a0_0x520b01(0x208)](_0x28c7d8){const _0x360111=a0_0x520b01;App['el']('status-msg')[_0x360111(0x1e6)]=![],App['el']('status-msg')[_0x360111(0x1f2)]=_0x28c7d8,App['el'](_0x360111(0x21f))[_0x360111(0x1e6)]=!![],App['el'](_0x360111(0x213))[_0x360111(0x1e6)]=!![],App['el']('cancel-btn')[_0x360111(0x1e6)]=!![],App['el'](_0x360111(0x1db))[_0x360111(0x1e6)]=![];}async['onClickedLogin'](){const _0x1b3ae3=a0_0x520b01,_0x542dcc='Enter\x20the\x20admin\x20key\x20for\x20'+appName,_0x578e2e=await UIkit[_0x1b3ae3(0x1a5)][_0x1b3ae3(0x1cf)](_0x542dcc);_0x578e2e&&(this[_0x1b3ae3(0x210)]=new RemoteStorage(namespace,this[_0x1b3ae3(0x1fc)]),localStorage[_0x1b3ae3(0x1ce)](localStorageKey,_0x578e2e),this['adminSubmissionsToggle'][_0x1b3ae3(0x1e6)]=![],this[_0x1b3ae3(0x21c)][_0x1b3ae3(0x221)]());}async[a0_0x520b01(0x1b2)](){const _0x4fa15d=a0_0x520b01;try{const _0x3fa488=await this[_0x4fa15d(0x210)]['getNamespace'](_0x4fa15d(0x1e5));console[_0x4fa15d(0x1ef)](_0x3fa488);const _0x98868b=Object['values'](_0x3fa488)[_0x4fa15d(0x21b)](_0x2e0747=>_0x2e0747[_0x4fa15d(0x1bb)]);this[_0x4fa15d(0x21a)](_0x98868b);}catch(_0x282753){console['log']('error'+_0x282753),console[_0x4fa15d(0x1ef)]('it\x20is\x20probably\x20a\x20good\x20idea\x20to\x20erase\x20local\x20storage\x20key\x20here');}}['renderSubmissions'](_0x585e9d){const _0x564470=a0_0x520b01,_0x383745=document[_0x564470(0x1af)](_0x564470(0x1d3)),_0xabb296=document[_0x564470(0x1af)](_0x564470(0x1ba)),_0x277fc0=document['querySelector'](_0x564470(0x1ac))[_0x564470(0x1f5)];_0x383745[_0x564470(0x1c3)]=_0x564470(0x1da)+(appName===_0x564470(0x1c6)?'Cals':_0x564470(0x20e))+'</th>\x0a\x20\x20\x20\x20<th></th>\x0a\x20\x20',_0xabb296[_0x564470(0x1c3)]='';for(const _0x270d53 of _0x585e9d){const _0x42ed22=_0x270d53['contestStatus'],_0x29b92c=document['importNode'](_0x277fc0,!![]);_0x29b92c['querySelector'](_0x564470(0x1f6))['textContent']=_0x270d53[_0x564470(0x1a8)]+'\x20'+_0x270d53['lastName'],_0x29b92c[_0x564470(0x1af)](_0x564470(0x1cd))[_0x564470(0x1a7)]=_0x42ed22[_0x564470(0x215)];const _0x51dc79=_0x29b92c[_0x564470(0x1af)](_0x564470(0x1ae));_0x51dc79[_0x564470(0x1a7)]=appName===_0x564470(0x1c6)?_0x42ed22[_0x564470(0x1eb)]:_0x42ed22[_0x564470(0x21e)][_0x564470(0x211)](0x4);const _0x1d94a7=_0x29b92c[_0x564470(0x1af)]('.uk-checkbox');appName===_0x564470(0x1c6)?_0x1d94a7[_0x564470(0x201)]=_0x42ed22['creatureCount']===0x0:_0x1d94a7['closest']('td')[_0x564470(0x1c3)]='';const _0x460592=_0x29b92c[_0x564470(0x1af)](_0x564470(0x1b5));_0x460592[_0x564470(0x222)]('click',async()=>{const _0x31af46=_0x564470;await this[_0x31af46(0x200)](_0x270d53);}),_0xabb296['appendChild'](_0x29b92c);}}async[a0_0x520b01(0x200)](_0x57d546){const _0x2f83f8=a0_0x520b01;try{const _0x4995a8=_0x57d546[_0x2f83f8(0x1f4)],_0x381886=await this[_0x2f83f8(0x210)][_0x2f83f8(0x1e3)](_0x4995a8);this[_0x2f83f8(0x20d)]=decompressAsKeys(_0x381886),this['startPlayback']();}catch(_0x2846ca){console[_0x2f83f8(0x1ef)]('error'+_0x2846ca);}}}function a0_0x2c0f(){const _0x16140f=['querySelector','_isPaused','3011736oSmhNI','onClickedAdminSubmissions','playbackIndex','stopPropagation','button','hide','startsWith','fa-pause','2dSlgjz','#submissions-table\x20tbody','value','keys-','2178232EOXnVt','admin-key-','first-name','#submit-modal','selectedFile','x0R7wwi9cY2cvaGX.KKB7rARXvjKno43OdWwEUJESEOzBu30i3rtCwk69zrKKy6oaMQTTkEJmp2F4e3rkQz7XETmy6ByXdyHjPviDrxwMigIE4+PbP4FZeVY=','innerHTML','getAttribute','alert','Creatures','cout-lines','add','submission-','contestStatus','upload-btn','continuePlayback','.turns','setItem','prompt','sleepTimeout','querySelectorAll','a[data-sleep]','#submissions-header','playBtn','title-bar-title','filter','a.uk-active','keydown','forEach','\x0a\x20\x20\x20\x20<th>Name</th><th></th><th>Turns</th><th>','okay-btn','submission-form','.uk-modal.uk-open','Snake','submitStateBusy','#speed-select','cancel-btn','submitBtn','getItem','status-msg','submission','hidden','9usrXqM','key','title','last-name','calories','speed-select','getElementById','classList','log','576540NmAkpX','studentApp','innerText','remove','keystrokesKey','content','.name','DOMContentLoaded','startPlayback','submitted','369470nlvggI','text','atKey','disabled','isPaused','273225IwVYJP','playSubmission','checked','speedBtn','101649OeepPf','admin-btn','Saving','preventDefault','playback-btn','submitStateDone','1350716OTEore','loginButton','fa-','gameOver','keys','Metc','message','adminRemoteStorage','toFixed','speed-btn','modal-submit-btn','length','turnCount','key-file-input','submitStateReady','submit-btn','uk-active','renderSubmissions','map','adminSubmissionsToggle','6ttneBY','metric','spinner','submissions-toggle','click','addEventListener','submit','modal','a.uk-active[data-sleep]','textContent','firstName','data-sleep','dropdown','student-id','#submission-row-template','Success','.value'];a0_0x2c0f=function(){return _0x16140f;};return a0_0x2c0f();}const app=new App();