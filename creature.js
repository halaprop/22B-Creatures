function a0_0x19fe(_0x5875f9,_0x22318c){const _0x34e40f=a0_0x34e4();return a0_0x19fe=function(_0x19feba,_0xdc5d2b){_0x19feba=_0x19feba-0x1c6;let _0x56aca6=_0x34e40f[_0x19feba];return _0x56aca6;},a0_0x19fe(_0x5875f9,_0x22318c);}const a0_0x3a6b28=a0_0x19fe;(function(_0x639d32,_0x8988ca){const _0x3d6d43=a0_0x19fe,_0x424cf5=_0x639d32();while(!![]){try{const _0x5c4200=parseInt(_0x3d6d43(0x1ee))/0x1*(parseInt(_0x3d6d43(0x21b))/0x2)+parseInt(_0x3d6d43(0x1f2))/0x3*(-parseInt(_0x3d6d43(0x212))/0x4)+-parseInt(_0x3d6d43(0x1d0))/0x5+parseInt(_0x3d6d43(0x1ec))/0x6*(parseInt(_0x3d6d43(0x209))/0x7)+parseInt(_0x3d6d43(0x1e8))/0x8+-parseInt(_0x3d6d43(0x221))/0x9*(parseInt(_0x3d6d43(0x1cd))/0xa)+parseInt(_0x3d6d43(0x1da))/0xb*(-parseInt(_0x3d6d43(0x1c9))/0xc);if(_0x5c4200===_0x8988ca)break;else _0x424cf5['push'](_0x424cf5['shift']());}catch(_0x1f1b1f){_0x424cf5['push'](_0x424cf5['shift']());}}}(a0_0x34e4,0x2b8f3));function a0_0x34e4(){const _0x468deb=['statusString','colCount','1754484QBYgKj','writeLine','kCaloriesGainedPerMeal','Hedgehog','7010GGiwUT','positionEquals','addCreaturesFromFile','691160FupHPO','forEach','Turn\x20','Falcon','move','ArrowDown','dCol','Having\x20eaten\x20everything,\x20player\x20wins!','creatures','kCaloriesGainedPerRest','11nQNfaC','yellow','Skunk','ArrowUp','initialCalories','gameOver','draw','deepskyblue','aqua','length','join','creatureCount','playerCalories','kCaloriesConsumedPerMove','1452600EglQFf','rowCount','dRow','cyan','6Urgezt','playerRow','279736DnfXzx','main-canvas','takeTurns','green','586455cqVVcP','removeCreature','Mouse','toString','getElementById','Lynx','\x20cals.\x20','magenta','violet','tomato','col','Porcupine','Boar','color','cout','assign','rest','playerCol','drawCharAt','Squirrel','creatureList','ArrowLeft','chartreuse','2031855jpUQqA','calories','<br>','turnCount','resting','padStart','Fox','erase','orange','4bbAYiu','glyph','row','creatureAtPosition','gold','Badger','filter','map','Owl','2MTvtwv','orangered','white','grid','ArrowRight','kInitialPlayerCalories','1197GGWcCg','sleepTimeout','takeTurn','padEnd'];a0_0x34e4=function(){return _0x468deb;};return a0_0x34e4();}import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x3a6b28(0x220)]=0x78;static [a0_0x3a6b28(0x1e7)]=0x5;constructor(){const _0x1a5593=a0_0x3a6b28,_0x1caf4a={'canvas':document[_0x1a5593(0x1f6)](_0x1a5593(0x1ef)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x1a5593(0x222)]=0x64,this['grid']=new ConsoleGrid(_0x1caf4a);const _0x1c09f8=document[_0x1a5593(0x1f6)]('cout-lines');this[_0x1a5593(0x200)]=new Cout(_0x1c09f8),this[_0x1a5593(0x1ed)]=0x5,this[_0x1a5593(0x203)]=0x5,this[_0x1a5593(0x1e6)]=CreaturesApp[_0x1a5593(0x220)],this[_0x1a5593(0x20c)]=0x0,this[_0x1a5593(0x1df)]=![],this[_0x1a5593(0x206)]=new CreatureList(),this[_0x1a5593(0x206)][_0x1a5593(0x1cf)](),this[_0x1a5593(0x206)][_0x1a5593(0x1e0)](this['grid']),this[_0x1a5593(0x21e)]['drawCharAt'](this['playerRow'],this[_0x1a5593(0x203)],'@',_0x1a5593(0x21d)),this[_0x1a5593(0x21e)]['setStatusLine'](this['statusString'](this[_0x1a5593(0x1e6)],'')),this['cout'][_0x1a5593(0x1ca)](this[_0x1a5593(0x206)][_0x1a5593(0x1f5)]());}[a0_0x3a6b28(0x1c7)](_0x3e53fa,_0x30451c){const _0x1465ee=a0_0x3a6b28;return _0x1465ee(0x1d2)+this[_0x1465ee(0x20c)]+'.\x20Player\x20has\x20'+_0x3e53fa+_0x1465ee(0x1f8)+_0x30451c;}['keydown'](_0x2ea0b5){const _0x58e41f=a0_0x3a6b28;if(this[_0x58e41f(0x1df)])return;let _0x1680f6=![],_0x171b30='';this['creatureList'][_0x58e41f(0x210)](this[_0x58e41f(0x21e)]),this['grid']['eraseCharAt'](this[_0x58e41f(0x1ed)],this[_0x58e41f(0x203)]);switch(_0x2ea0b5){case _0x58e41f(0x1dd):this['playerRow']>0x0&&(_0x1680f6=!![],this[_0x58e41f(0x1ed)]--);break;case _0x58e41f(0x1d5):this[_0x58e41f(0x1ed)]+0x1<this['grid'][_0x58e41f(0x1e9)]&&(_0x1680f6=!![],this[_0x58e41f(0x1ed)]++);break;case _0x58e41f(0x207):this[_0x58e41f(0x203)]>0x0&&(_0x1680f6=!![],this[_0x58e41f(0x203)]--);break;case _0x58e41f(0x21f):this[_0x58e41f(0x203)]+0x1<this['grid'][_0x58e41f(0x1c8)]&&(_0x1680f6=!![],this['playerCol']++);break;case'Q':case'q':this[_0x58e41f(0x1df)]=!![];break;default:break;}if(!this[_0x58e41f(0x1df)]){_0x1680f6&&(this[_0x58e41f(0x1e6)]-=CreaturesApp['kCaloriesConsumedPerMove']);this[_0x58e41f(0x206)]['takeTurns'](this[_0x58e41f(0x21e)][_0x58e41f(0x1e9)],this[_0x58e41f(0x21e)][_0x58e41f(0x1c8)]);let _0x3c57d0=this[_0x58e41f(0x206)][_0x58e41f(0x215)](this[_0x58e41f(0x1ed)],this[_0x58e41f(0x203)]);_0x3c57d0&&(_0x171b30='Ate\x20the\x20'+_0x3c57d0['name'],this[_0x58e41f(0x1e6)]+=_0x3c57d0[_0x58e41f(0x20a)],this['creatureList']['removeCreature'](_0x3c57d0),this['creatureList'][_0x58e41f(0x1e5)]()==0x0&&(_0x171b30=_0x58e41f(0x1d7),this[_0x58e41f(0x1df)]=!![])),this[_0x58e41f(0x1e6)]<=0x0&&(_0x171b30='Having\x20starved,\x20player\x20dies.',this['gameOver']=!![]),this[_0x58e41f(0x20c)]++;}this['creatureList']['draw'](this[_0x58e41f(0x21e)]),this[_0x58e41f(0x21e)][_0x58e41f(0x204)](this[_0x58e41f(0x1ed)],this[_0x58e41f(0x203)],'@','white'),this[_0x58e41f(0x21e)]['setStatusLine'](this[_0x58e41f(0x1c7)](this[_0x58e41f(0x1e6)],_0x171b30)),this[_0x58e41f(0x200)]['writeLine'](this[_0x58e41f(0x206)][_0x58e41f(0x1f5)]());}}class Creature{constructor(_0x4b01c5){const _0x5d6eee=a0_0x3a6b28;Object[_0x5d6eee(0x201)](this,_0x4b01c5),this[_0x5d6eee(0x1de)]=this['calories'];}static [a0_0x3a6b28(0x1e7)]=0x5;static [a0_0x3a6b28(0x1cb)]=0x3c;static [a0_0x3a6b28(0x1d9)]=0x5;[a0_0x3a6b28(0x1ce)](_0x4e95ec,_0x4edde0){const _0x4dc37c=a0_0x3a6b28;return this['row']==_0x4e95ec&&this[_0x4dc37c(0x1fc)]==_0x4edde0;}[a0_0x3a6b28(0x223)](_0x388d9a,_0x2c29b6){const _0x31ed95=a0_0x3a6b28;this['resting']?this[_0x31ed95(0x202)]():this[_0x31ed95(0x1d4)](_0x388d9a,_0x2c29b6);}[a0_0x3a6b28(0x1d4)](_0xd004f,_0x1e318a){const _0x325368=a0_0x3a6b28;let _0x15a3ad=this[_0x325368(0x214)]+this[_0x325368(0x1ea)];(_0x15a3ad<0x0||_0x15a3ad>=_0xd004f)&&(this[_0x325368(0x1ea)]*=-0x1,_0x15a3ad=this[_0x325368(0x214)]+this['dRow']);let _0x2f6a82=this[_0x325368(0x1fc)]+this[_0x325368(0x1d6)];(_0x2f6a82<0x0||_0x2f6a82>=_0x1e318a)&&(this[_0x325368(0x1d6)]*=-0x1,_0x2f6a82=this['col']+this[_0x325368(0x1d6)]),(this['row']!=_0x15a3ad||this['col']!=_0x2f6a82)&&(this[_0x325368(0x214)]=_0x15a3ad,this[_0x325368(0x1fc)]=_0x2f6a82,this[_0x325368(0x20a)]-=Creature[_0x325368(0x1e7)],this[_0x325368(0x20a)]<=0x0&&(this[_0x325368(0x20d)]=!![]));}[a0_0x3a6b28(0x202)](){const _0x305468=a0_0x3a6b28;this[_0x305468(0x20a)]+=Creature['kCaloriesGainedPerRest'],this['calories']>0.75*this[_0x305468(0x1de)]&&(this[_0x305468(0x20d)]=![]);}[a0_0x3a6b28(0x1e0)](_0x2db8bf){const _0x4031bb=a0_0x3a6b28;_0x2db8bf[_0x4031bb(0x204)](this['row'],this[_0x4031bb(0x1fc)],this['glyph'],this[_0x4031bb(0x1ff)]);}[a0_0x3a6b28(0x210)](_0x2a1343){const _0x1a5fad=a0_0x3a6b28;_0x2a1343['eraseCharAt'](this[_0x1a5fad(0x214)],this[_0x1a5fad(0x1fc)]);}['toString'](){const _0x18946b=a0_0x3a6b28;return this['name'][_0x18946b(0x1c6)](0xa)+'\x20('+this[_0x18946b(0x213)]+')\x20'+this['calories']['toString']()[_0x18946b(0x20e)](0x4);}}class CreatureList{constructor(){}[a0_0x3a6b28(0x1cf)](){const _0x425b78=a0_0x3a6b28,_0x33800b=[{'name':_0x425b78(0x1f4),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x425b78(0x1e2)},{'name':'Rabbit','glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x425b78(0x1f1)},{'name':_0x425b78(0x1fe),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x425b78(0x1db)},{'name':_0x425b78(0x205),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x425b78(0x1fa)},{'name':'Deer','glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x425b78(0x1f9)},{'name':_0x425b78(0x20f),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x425b78(0x211)},{'name':'Raccoon','glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':'crimson'},{'name':_0x425b78(0x21a),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x425b78(0x1e1)},{'name':_0x425b78(0x1cc),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x425b78(0x208)},{'name':_0x425b78(0x217),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x425b78(0x216)},{'name':_0x425b78(0x1fd),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x425b78(0x1fb)},{'name':_0x425b78(0x1dc),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x425b78(0x1eb)},{'name':_0x425b78(0x1f7),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':'dodgerblue'},{'name':_0x425b78(0x1d3),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x425b78(0x21c)}];this['creatures']=_0x33800b[_0x425b78(0x219)](_0x24886a=>new Creature(_0x24886a));}[a0_0x3a6b28(0x1e0)](_0x1e5e55){const _0xe68e9a=a0_0x3a6b28;this[_0xe68e9a(0x1d8)][_0xe68e9a(0x1d1)](_0x17b8c4=>_0x17b8c4[_0xe68e9a(0x1e0)](_0x1e5e55));}[a0_0x3a6b28(0x210)](_0x4782db){const _0x23bc89=a0_0x3a6b28;this[_0x23bc89(0x1d8)][_0x23bc89(0x1d1)](_0x1733e9=>_0x1733e9[_0x23bc89(0x210)](_0x4782db));}[a0_0x3a6b28(0x1f0)](_0xd584de,_0x11fdbf){const _0x1a5be2=a0_0x3a6b28;this['creatures'][_0x1a5be2(0x1d1)](_0x2d2f79=>_0x2d2f79[_0x1a5be2(0x223)](_0xd584de,_0x11fdbf));}['creatureAtPosition'](_0x4937ed,_0x46d372){const _0x4e6bd0=a0_0x3a6b28;return this[_0x4e6bd0(0x1d8)]['find'](_0x1b2d59=>_0x1b2d59[_0x4e6bd0(0x1ce)](_0x4937ed,_0x46d372));}[a0_0x3a6b28(0x1f3)](_0x588ab4){const _0x37c570=a0_0x3a6b28;this[_0x37c570(0x1d8)]=this['creatures'][_0x37c570(0x218)](_0x20f2e2=>_0x20f2e2!=_0x588ab4);}[a0_0x3a6b28(0x1e5)](){const _0x11bf6a=a0_0x3a6b28;return this[_0x11bf6a(0x1d8)][_0x11bf6a(0x1e3)];}[a0_0x3a6b28(0x1f5)](){const _0x34fca6=a0_0x3a6b28;return this[_0x34fca6(0x1d8)][_0x34fca6(0x219)](_0x4b823f=>_0x4b823f[_0x34fca6(0x1f5)]())[_0x34fca6(0x1e4)](_0x34fca6(0x20b));}}