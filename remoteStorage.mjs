function a0_0x2224(){const _0x4e6a0e=['https://remote-storage.dan-5d7.workers.dev/v1','keysPaged','/getWithMetadata','network-error','GET','all','/get','type','catch','keys','6480936SGzxeG','/delete','35362370tYslMp','status','POST','http-error','32PDoKNu','clear','235075iPAYeL','name','12pmPWFC','application/json','some','search','stringify','toString','removeItem','namespace','startsWith','495080wIPHav','Authorization','list','map','3753380pUAmqj','apiFetch','getItemWithMetadata','code','filter','setItem','/login','2324266vqSCog','token','requestHeaders','endpoint','entries','1828878meyOvb','message','7SKwmbe','/list','login','register','/register','json','push','getItem','Unknown\x20network\x20error'];a0_0x2224=function(){return _0x4e6a0e;};return a0_0x2224();}function a0_0x4d6d(_0xc145be,_0x480983){const _0x222497=a0_0x2224();return a0_0x4d6d=function(_0x4d6d0d,_0x33bffd){_0x4d6d0d=_0x4d6d0d-0x13c;let _0x2e82b5=_0x222497[_0x4d6d0d];return _0x2e82b5;},a0_0x4d6d(_0xc145be,_0x480983);}const a0_0xaeafa3=a0_0x4d6d;(function(_0x112e6b,_0x4a1732){const _0xea7151=a0_0x4d6d,_0x5a5273=_0x112e6b();while(!![]){try{const _0x448038=parseInt(_0xea7151(0x168))/0x1*(-parseInt(_0xea7151(0x156))/0x2)+-parseInt(_0xea7151(0x166))/0x3+-parseInt(_0xea7151(0x15a))/0x4+parseInt(_0xea7151(0x14b))/0x5*(parseInt(_0xea7151(0x14d))/0x6)+parseInt(_0xea7151(0x161))/0x7*(parseInt(_0xea7151(0x149))/0x8)+-parseInt(_0xea7151(0x143))/0x9+parseInt(_0xea7151(0x145))/0xa;if(_0x448038===_0x4a1732)break;else _0x5a5273['push'](_0x5a5273['shift']());}catch(_0x137583){_0x5a5273['push'](_0x5a5273['shift']());}}}(a0_0x2224,0xe9c7c));export class RemoteStorage{constructor(_0x4a858b,_0x812bb5){const _0x3ab017=a0_0x4d6d;this[_0x3ab017(0x154)]=_0x4a858b,this[_0x3ab017(0x164)]=_0x3ab017(0x171),this['requestHeaders']={'Content-Type':'application/json'};if(_0x812bb5)this['requestHeaders']['Authorization']=_0x812bb5;}async[a0_0xaeafa3(0x16b)](_0x1b083e,_0x35a03d){const _0x592870=a0_0xaeafa3,_0x34089f=await fetch(this['endpoint']+_0x592870(0x16c),{'method':_0x592870(0x147),'headers':{'Content-Type':_0x592870(0x14e)},'body':JSON[_0x592870(0x151)]({'userID':_0x1b083e,'password':_0x35a03d})}),_0x90e809=await _0x34089f[_0x592870(0x16d)]()['catch'](()=>({}));if(!_0x34089f['ok'])throw{'status':_0x34089f[_0x592870(0x146)],'body':_0x90e809};return{'status':_0x34089f['status'],'json':_0x90e809};}async[a0_0xaeafa3(0x16a)](_0x34ac9e,_0x483494){const _0xa90e76=a0_0xaeafa3,_0x29489d=await fetch(this[_0xa90e76(0x164)]+_0xa90e76(0x160),{'method':_0xa90e76(0x147),'headers':{'Content-Type':_0xa90e76(0x14e)},'body':JSON['stringify']({'namespace':this[_0xa90e76(0x154)],'userID':_0x34ac9e,'password':_0x483494})}),_0x4ff5ad=await _0x29489d[_0xa90e76(0x16d)]()[_0xa90e76(0x141)](()=>({}));if(!_0x29489d['ok'])throw{'status':_0x29489d[_0xa90e76(0x146)],'body':_0x4ff5ad};const _0x240547=_0x4ff5ad[_0xa90e76(0x162)];return this['requestHeaders'][_0xa90e76(0x157)]=_0x240547,_0x240547;}async[a0_0xaeafa3(0x142)](){const _0x515ddf=a0_0xaeafa3;let _0x3a35d5=[],_0x5f3650=null;while(!![]){const {keys:_0x2789f4,cursor:_0x4adc5a,list_complete:_0x17863e}=await this[_0x515ddf(0x172)]({'cursor':_0x5f3650});_0x3a35d5[_0x515ddf(0x16e)](..._0x2789f4);if(_0x17863e)break;_0x5f3650=_0x4adc5a;}return _0x3a35d5;}async[a0_0xaeafa3(0x172)]({limit:limit=0x3e8,cursor:_0x51f629=null}={}){const _0x541491=a0_0xaeafa3,{items:_0x5807d8,cursor:_0x37beeb,list_complete:_0x467e11}=await this['list']({'limit':limit,'cursor':_0x51f629}),_0x47a031=_0x5807d8[_0x541491(0x159)](_0x533eeb=>_0x533eeb[_0x541491(0x14c)]);return{'keys':_0x47a031,'cursor':_0x37beeb,'list_complete':_0x467e11};}async['getNamespace'](..._0x84691f){const _0x65a0b3=a0_0xaeafa3,_0x251167={};let _0x5317e4=null;while(!![]){const {items:_0x1c9892,cursor:_0x5db6d2,list_complete:_0x55901f}=await this[_0x65a0b3(0x158)]({'cursor':_0x5317e4}),_0x4addd4=_0x84691f['length']?_0x1c9892[_0x65a0b3(0x15e)](_0x2d1f6a=>_0x84691f[_0x65a0b3(0x14f)](_0x20ce6f=>_0x2d1f6a[_0x65a0b3(0x14c)][_0x65a0b3(0x155)](_0x20ce6f))):_0x1c9892;await Promise['all'](_0x4addd4[_0x65a0b3(0x159)](async({name:_0x40676c,metadata:_0x31e344})=>{const _0x5cc9b1=_0x65a0b3,_0x5d359a=await this[_0x5cc9b1(0x16f)](_0x40676c);_0x251167[_0x40676c]={'value':_0x5d359a,'metadata':_0x31e344};}));if(_0x55901f)break;_0x5317e4=_0x5db6d2;}return _0x251167;}async[a0_0xaeafa3(0x158)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x313af5=a0_0xaeafa3;return this['apiFetch'](_0x313af5(0x13d),_0x313af5(0x169),null,{'limit':limit,'cursor':cursor});}async[a0_0xaeafa3(0x15f)](_0x443f1c,_0x2b1a09){const _0x305aeb=a0_0xaeafa3;return this[_0x305aeb(0x15b)](_0x305aeb(0x147),'/set',{'key':_0x443f1c,'value':_0x2b1a09});}async[a0_0xaeafa3(0x16f)](_0x1130cc){const _0x421ef3=a0_0xaeafa3;return this['apiFetch'](_0x421ef3(0x13d),_0x421ef3(0x13f),null,{'key':_0x1130cc});}async[a0_0xaeafa3(0x15c)](_0x1626d8){const _0x1eca19=a0_0xaeafa3;return this[_0x1eca19(0x15b)](_0x1eca19(0x13d),_0x1eca19(0x173),null,{'key':_0x1626d8});}async['removeItem'](_0x1c7c86){const _0x4da823=a0_0xaeafa3;return this['apiFetch']('DELETE',_0x4da823(0x144),null,{'key':_0x1c7c86});}async[a0_0xaeafa3(0x14a)](){const _0x349f12=a0_0xaeafa3,_0x2d884b=await this[_0x349f12(0x142)]();return await Promise[_0x349f12(0x13e)](_0x2d884b[_0x349f12(0x159)](_0xdf0314=>this[_0x349f12(0x153)](_0xdf0314))),null;}async[a0_0xaeafa3(0x15b)](_0x333511,_0x578e09,_0x156c2c=null,_0x14f457={}){const _0x3eb6fa=a0_0xaeafa3;_0x14f457={..._0x14f457,'namespace':this[_0x3eb6fa(0x154)]};const _0x5d3adc=new URL(''+this[_0x3eb6fa(0x164)]+_0x578e09);_0x5d3adc[_0x3eb6fa(0x150)]=new URLSearchParams(Object[_0x3eb6fa(0x165)](_0x14f457)[_0x3eb6fa(0x15e)](([_0x18f950,_0x55faaa])=>_0x55faaa!==undefined&&_0x55faaa!==null))[_0x3eb6fa(0x152)]();const _0x3a4ab2={'method':_0x333511,'headers':this[_0x3eb6fa(0x163)]};if(_0x156c2c)_0x3a4ab2['body']=JSON['stringify'](_0x156c2c);try{const _0x512925=await fetch(_0x5d3adc,_0x3a4ab2),_0x1448b1=await _0x512925[_0x3eb6fa(0x16d)]()[_0x3eb6fa(0x141)](()=>({}));if(!_0x512925['ok'])throw{'type':_0x3eb6fa(0x148),'status':_0x512925[_0x3eb6fa(0x146)],'body':_0x1448b1};return _0x1448b1;}catch(_0x28f2b2){if(_0x28f2b2?.[_0x3eb6fa(0x140)]==='http-error')throw _0x28f2b2;const _0x26e32e=_0x28f2b2?.[_0x3eb6fa(0x167)]||_0x28f2b2?.[_0x3eb6fa(0x14c)]||_0x28f2b2?.[_0x3eb6fa(0x15d)]||_0x3eb6fa(0x170);throw{'type':_0x3eb6fa(0x13c),'detail':_0x26e32e};}}}