function a0_0x5aa9(){const _0x4ba5bb=['.\x20Metric:\x20','candy','grid','getElementById','eat','value','dRow','cout','ArrowRight','ArrowUp','seed','pushBack','keydown','rand','main-canvas','magenta','gameOver','tail','3953365XOSFVJ','pink','snake','head','glyph','popBack','414453TTEcwf','setSeed','2514204QsiCJd','rowCount','toFixed','11881305sQuPrv','1561582VLgbjR','4NqPjkd','ArrowLeft','dCol','red','1475761JcADUG','randomColor','8TiiRct','cyan','cout-lines','intersects','popFront','setStatusLine','ArrowDown','colCount','Length:\x20','row','yellow','randomCandy','step','col','draw','color','willCrash','randomPosition','drawChars','statusString','10552157plZYTr','orange','next','calories','randBetween','length','drawCharAt','headIntersects','steer','turnCount','pushFront','metric','eraseCharAt'];a0_0x5aa9=function(){return _0x4ba5bb;};return a0_0x5aa9();}const a0_0xa8ab87=a0_0x2ad2;(function(_0x24af51,_0x24c866){const _0xa5f014=a0_0x2ad2,_0x525741=_0x24af51();while(!![]){try{const _0x451113=parseInt(_0xa5f014(0x101))/0x1+parseInt(_0xa5f014(0xfc))/0x2+parseInt(_0xa5f014(0x13c))/0x3+parseInt(_0xa5f014(0xfd))/0x4*(parseInt(_0xa5f014(0x136))/0x5)+parseInt(_0xa5f014(0x13e))/0x6+-parseInt(_0xa5f014(0x117))/0x7+parseInt(_0xa5f014(0x103))/0x8*(-parseInt(_0xa5f014(0xfb))/0x9);if(_0x451113===_0x24c866)break;else _0x525741['push'](_0x525741['shift']());}catch(_0x597a75){_0x525741['push'](_0x525741['shift']());}}}(a0_0x5aa9,0xbda6e));import{ConsoleGrid,Cout}from'./console-grid.js';function a0_0x2ad2(_0x36baf6,_0xaad7e5){const _0x5aa9f7=a0_0x5aa9();return a0_0x2ad2=function(_0x2ad26e,_0x5472f5){_0x2ad26e=_0x2ad26e-0xfa;let _0x254bef=_0x5aa9f7[_0x2ad26e];return _0x254bef;},a0_0x2ad2(_0x36baf6,_0xaad7e5);}export class SnakeApp{constructor(){const _0x548603=a0_0x2ad2,_0xb8983d={'canvas':document[_0x548603(0x127)](_0x548603(0x132)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this['sleepTimeout']=0x64,this[_0x548603(0x126)]=new ConsoleGrid(_0xb8983d);const _0x4ff18c=document['getElementById'](_0x548603(0x105));this[_0x548603(0x12b)]=new Cout(_0x4ff18c),this[_0x548603(0x120)]=0x0,this['gameOver']=![],this['snake']=new Snake(),this[_0x548603(0x138)][_0x548603(0x115)](this['grid']),this[_0x548603(0x125)]=Candy[_0x548603(0x10e)](this['snake'],this[_0x548603(0x126)][_0x548603(0x13f)],this[_0x548603(0x126)][_0x548603(0x10a)]),this['candy'][_0x548603(0x111)](this['grid']),this['grid']['setStatusLine'](this['statusString']());}[a0_0xa8ab87(0x122)](){const _0x233a11=a0_0xa8ab87,_0x36becb=this[_0x233a11(0x120)],_0x2383cc=this['snake'][_0x233a11(0x11c)]();return _0x36becb==0x0?0x0:0x1*_0x2383cc*_0x2383cc/_0x36becb;}[a0_0xa8ab87(0x116)](_0x56a53a){const _0x2edb84=a0_0xa8ab87;let _0x444645=_0x2edb84(0x10b)+this[_0x2edb84(0x138)]['length']()+'\x20Turns:\x20'+this[_0x2edb84(0x120)]+_0x2edb84(0x124)+this[_0x2edb84(0x122)]()[_0x2edb84(0xfa)](0x3);if(_0x56a53a)_0x444645+='.\x20'+_0x56a53a;return _0x444645;}[a0_0xa8ab87(0x130)](_0x1bcc9c){const _0x247c09=a0_0xa8ab87;let _0x23ff2a='';switch(_0x1bcc9c){case _0x247c09(0xfe):case _0x247c09(0x12c):case _0x247c09(0x12d):case _0x247c09(0x109):this[_0x247c09(0x138)][_0x247c09(0x11f)](_0x1bcc9c,this[_0x247c09(0x126)],this[_0x247c09(0x125)][_0x247c09(0x10c)],this[_0x247c09(0x125)][_0x247c09(0x110)]);break;case'Q':case'q':this[_0x247c09(0x134)]=!![];default:break;}!this['gameOver']&&(this[_0x247c09(0x138)][_0x247c09(0x113)](this[_0x247c09(0x126)])?(this[_0x247c09(0x134)]=!![],_0x23ff2a='Ouch,\x20my\x20nose!'):(this[_0x247c09(0x138)][_0x247c09(0x10f)](this[_0x247c09(0x126)]),this[_0x247c09(0x138)][_0x247c09(0x11e)](this[_0x247c09(0x125)]['row'],this[_0x247c09(0x125)][_0x247c09(0x110)])&&(this[_0x247c09(0x138)][_0x247c09(0x128)](this[_0x247c09(0x125)][_0x247c09(0x11a)]),this[_0x247c09(0x138)][_0x247c09(0x112)]=this['candy']['color'],this[_0x247c09(0x138)][_0x247c09(0x115)](this['grid']),this[_0x247c09(0x125)]=Candy[_0x247c09(0x10e)](this[_0x247c09(0x138)],this['grid'][_0x247c09(0x13f)],this[_0x247c09(0x126)][_0x247c09(0x10a)]),this[_0x247c09(0x125)][_0x247c09(0x111)](this[_0x247c09(0x126)]))),this['turnCount']++,this[_0x247c09(0x126)][_0x247c09(0x108)](this[_0x247c09(0x116)](_0x23ff2a))),this[_0x247c09(0x126)][_0x247c09(0x108)](this['statusString'](_0x23ff2a));}}class ListNode{constructor(_0x5a9a66,_0x3dd134=null){const _0x546f13=a0_0xa8ab87;this[_0x546f13(0x129)]=_0x5a9a66,this[_0x546f13(0x119)]=_0x3dd134;}}class LinkedList{constructor(){const _0x5e8c9e=a0_0xa8ab87;this[_0x5e8c9e(0x139)]=null;}[a0_0xa8ab87(0x121)](_0x1e4fd5){const _0x582155=a0_0xa8ab87;this[_0x582155(0x139)]=new ListNode(_0x1e4fd5,this['head']);}[a0_0xa8ab87(0x107)](){const _0x2900f8=a0_0xa8ab87;this[_0x2900f8(0x139)]&&(this[_0x2900f8(0x139)]=this[_0x2900f8(0x139)][_0x2900f8(0x119)]);}['pushBack'](_0x3bf9a0){const _0x401ca3=a0_0xa8ab87,_0x1c97bb=this[_0x401ca3(0x135)](),_0x40741c=new ListNode(_0x3bf9a0);_0x1c97bb?_0x1c97bb[_0x401ca3(0x119)]=_0x40741c:this[_0x401ca3(0x139)]=_0x40741c;}[a0_0xa8ab87(0x13b)](){const _0x3daa9b=a0_0xa8ab87,_0x2a01ee=this[_0x3daa9b(0x135)]();if(_0x2a01ee){if(this[_0x3daa9b(0x139)]==_0x2a01ee)this[_0x3daa9b(0x139)]=null;else{let _0x572981=this[_0x3daa9b(0x139)];while(_0x572981[_0x3daa9b(0x119)]!=_0x2a01ee)_0x572981=_0x572981['next'];_0x572981[_0x3daa9b(0x119)]=null;}}}[a0_0xa8ab87(0x135)](){const _0x1531db=a0_0xa8ab87;let _0x20191a=null;for(let _0x1fc1bf=this['head'];_0x1fc1bf;_0x1fc1bf=_0x1fc1bf[_0x1531db(0x119)]){_0x20191a=_0x1fc1bf;}return _0x20191a;}[a0_0xa8ab87(0x11c)](){const _0x5dcc9d=a0_0xa8ab87;let _0x12ccfd=0x0;for(let _0x385e42=this[_0x5dcc9d(0x139)];_0x385e42;_0x385e42=_0x385e42[_0x5dcc9d(0x119)]){_0x12ccfd++;}return _0x12ccfd;}}class Snake extends LinkedList{constructor(){const _0x5e246b=a0_0xa8ab87;super(),this[_0x5e246b(0x11a)]=0x0,this['color']='white',this[_0x5e246b(0x13a)]='o',this['headGlyph']='@',this[_0x5e246b(0x12a)]=0x0,this[_0x5e246b(0xff)]=0x1,this[_0x5e246b(0x12f)]({'row':0x5,'col':0x5}),this[_0x5e246b(0x12f)]({'row':0x5,'col':0x4}),this[_0x5e246b(0x12f)]({'row':0x5,'col':0x3});}[a0_0xa8ab87(0x113)](_0x2982a9){const _0x1b41ac=a0_0xa8ab87,_0x3ebb5f=this[_0x1b41ac(0x139)][_0x1b41ac(0x129)][_0x1b41ac(0x10c)]+this[_0x1b41ac(0x12a)],_0x5c50e6=this[_0x1b41ac(0x139)][_0x1b41ac(0x129)][_0x1b41ac(0x110)]+this[_0x1b41ac(0xff)],_0x319758=_0x3ebb5f>=0x0&&_0x3ebb5f<_0x2982a9[_0x1b41ac(0x13f)]&&_0x5c50e6>=0x0&&_0x5c50e6<_0x2982a9[_0x1b41ac(0x10a)];return!_0x319758||this['intersects'](_0x3ebb5f,_0x5c50e6);}['headIntersects'](_0x3c1b72,_0x2f8f48){const _0x1c7902=a0_0xa8ab87;return this[_0x1c7902(0x139)][_0x1c7902(0x129)][_0x1c7902(0x10c)]==_0x3c1b72&&this[_0x1c7902(0x139)]['value'][_0x1c7902(0x110)]==_0x2f8f48;}[a0_0xa8ab87(0x106)](_0x37e27d,_0x4cb4af){const _0xa32ff=a0_0xa8ab87;let _0x2bb733=![],_0x558a2c=this['head'];while(_0x558a2c){if(_0x558a2c['value'][_0xa32ff(0x10c)]==_0x37e27d&&_0x558a2c['value'][_0xa32ff(0x110)]==_0x4cb4af){_0x2bb733=!![];break;}_0x558a2c=_0x558a2c['next'];}return _0x2bb733;}['drawChars'](_0x53df0f){const _0x32b3bd=a0_0xa8ab87;let _0x590b28=this['headGlyph'];for(let _0x2deffa=this['head'];_0x2deffa;_0x2deffa=_0x2deffa['next']){_0x53df0f[_0x32b3bd(0x11d)](_0x2deffa[_0x32b3bd(0x129)]['row'],_0x2deffa[_0x32b3bd(0x129)][_0x32b3bd(0x110)],_0x590b28,this['color']),_0x590b28=this[_0x32b3bd(0x13a)];}}['steer'](_0x110876,_0x3c7dfd,_0x141116,_0x38daf3){const _0x1d96d6=a0_0xa8ab87;this[_0x1d96d6(0x12a)]=0x0,this['dCol']=0x0;switch(_0x110876){case _0x1d96d6(0xfe):this[_0x1d96d6(0xff)]=-0x1;break;case'ArrowRight':this[_0x1d96d6(0xff)]=0x1;break;case _0x1d96d6(0x12d):this[_0x1d96d6(0x12a)]=-0x1;break;case _0x1d96d6(0x109):this[_0x1d96d6(0x12a)]=0x1;break;default:break;}}[a0_0xa8ab87(0x10f)](_0x165d85){const _0xbc4695=a0_0xa8ab87;let _0x17186e=this[_0xbc4695(0x139)][_0xbc4695(0x129)][_0xbc4695(0x10c)]+this[_0xbc4695(0x12a)],_0x44dda0=this[_0xbc4695(0x139)]['value'][_0xbc4695(0x110)]+this['dCol'];_0x165d85['drawCharAt'](this[_0xbc4695(0x139)]['value'][_0xbc4695(0x10c)],this[_0xbc4695(0x139)][_0xbc4695(0x129)][_0xbc4695(0x110)],this['glyph'],this[_0xbc4695(0x112)]),this[_0xbc4695(0x121)]({'row':_0x17186e,'col':_0x44dda0}),_0x165d85[_0xbc4695(0x11d)](_0x17186e,_0x44dda0,this['headGlyph'],this[_0xbc4695(0x112)]);if(this[_0xbc4695(0x11a)]>0x0)this[_0xbc4695(0x11a)]--;else{const _0x1471e5=this[_0xbc4695(0x135)]();_0x165d85[_0xbc4695(0x123)](_0x1471e5[_0xbc4695(0x129)]['row'],_0x1471e5[_0xbc4695(0x129)][_0xbc4695(0x110)]),this['popBack']();}}[a0_0xa8ab87(0x128)](_0x250d7e){this['calories']+=_0x250d7e;}}class Candy{constructor(_0x4febec){Object['assign'](this,_0x4febec);}static[a0_0xa8ab87(0x10e)](_0x1583b9,_0x5d49d8,_0x11fb6b){const _0x1bfbc8=a0_0xa8ab87,{row:_0x4e8506,col:_0x1ebd07}=this[_0x1bfbc8(0x114)](_0x1583b9,_0x5d49d8,_0x11fb6b),_0x38b85c=this[_0x1bfbc8(0x102)](),_0x20a887=Random[_0x1bfbc8(0x11b)](0x1,0xa),_0x14b96e=''+_0x20a887;return new Candy({'row':_0x4e8506,'col':_0x1ebd07,'calories':_0x20a887,'glyph':_0x14b96e,'color':_0x38b85c});}static[a0_0xa8ab87(0x114)](_0x52606b,_0x3a2d52,_0x19c355){const _0x2aaf3a=a0_0xa8ab87;let _0xf5478d,_0x5270b0;do{_0xf5478d=Random['randBetween'](0x0,_0x3a2d52),_0x5270b0=Random[_0x2aaf3a(0x11b)](0x0,_0x19c355);}while(_0x52606b[_0x2aaf3a(0x106)](_0xf5478d,_0x5270b0));return{'row':_0xf5478d,'col':_0x5270b0};}static[a0_0xa8ab87(0x102)](){const _0x1ab0a8=a0_0xa8ab87,_0x5e3200=[_0x1ab0a8(0x100),'lime',_0x1ab0a8(0x10d),_0x1ab0a8(0x104),_0x1ab0a8(0x133),_0x1ab0a8(0x118),_0x1ab0a8(0x137)];return _0x5e3200[Random[_0x1ab0a8(0x11b)](0x0,_0x5e3200[_0x1ab0a8(0x11c)])];}[a0_0xa8ab87(0x111)](_0x3befe1){const _0xe6f511=a0_0xa8ab87;_0x3befe1[_0xe6f511(0x11d)](this['row'],this[_0xe6f511(0x110)],this[_0xe6f511(0x13a)],this['color']);}}class RandANSI{constructor(_0x22eac6=0x1){const _0x113ed6=a0_0xa8ab87;this[_0x113ed6(0x12e)]=_0x22eac6;}[a0_0xa8ab87(0x13d)](_0x2ef14a){const _0x40f34c=a0_0xa8ab87;this[_0x40f34c(0x12e)]=_0x2ef14a;}[a0_0xa8ab87(0x131)](){const _0x4ac6a7=a0_0xa8ab87;return(this[_0x4ac6a7(0x12e)]=Number((BigInt(this['seed'])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}['randBetween'](_0x192d03,_0x17d627){return _0x192d03+this['rand']()%(_0x17d627-_0x192d03);}}const Random=new RandANSI();