const a0_0x5b6c50=a0_0x2122;(function(_0x947b27,_0x2d32df){const _0x367965=a0_0x2122,_0x337dcb=_0x947b27();while(!![]){try{const _0x10e52d=parseInt(_0x367965(0x202))/0x1*(parseInt(_0x367965(0x222))/0x2)+-parseInt(_0x367965(0x207))/0x3+-parseInt(_0x367965(0x243))/0x4+parseInt(_0x367965(0x235))/0x5*(-parseInt(_0x367965(0x231))/0x6)+parseInt(_0x367965(0x203))/0x7+parseInt(_0x367965(0x21c))/0x8*(parseInt(_0x367965(0x246))/0x9)+-parseInt(_0x367965(0x22d))/0xa*(parseInt(_0x367965(0x216))/0xb);if(_0x10e52d===_0x2d32df)break;else _0x337dcb['push'](_0x337dcb['shift']());}catch(_0x846ff4){_0x337dcb['push'](_0x337dcb['shift']());}}}(a0_0x4d76,0x1a53a));import{ConsoleGrid,Cout}from'./console-grid.js';function a0_0x4d76(){const _0x3be02b=['125qDzNpB','move','\x20cals.\x20','playerCol','drawCharAt','assign','Having\x20eaten\x20everything,\x20player\x20wins!','keydown','Badger','kCaloriesConsumedPerMove','magenta','forEach','ArrowLeft','takeTurns','457788bLCZrf','glyph','white','2925ZnGOIu','filter','Hedgehog','Fox','Porcupine','sleepTimeout','calories','initialCalories','erase','getElementById','Lynx','takeTurn','toString','tomato','Falcon','name','ArrowRight','Boar','grid','resting','Ate\x20the\x20','find','gameOver','colCount','turnCount','playerCalories','194RgDcoj','1280307cXhMRj','creatureAtPosition','Owl','writeLine','37944QcHuzs','violet','kInitialPlayerCalories','positionEquals','creatures','cout','Mouse','draw','eraseCharAt','.\x20Player\x20has\x20','Skunk','padEnd','Deer','Raccoon','col','1476541dcYYAq','cout-lines','Squirrel','removeCreature','padStart','color','2168ztgCqq','cyan','Turn\x20','setStatusLine','crimson','statusString','1322uMCkIY','deepskyblue','orangered','dCol','yellow','kCaloriesGainedPerMeal','creatureList','green','rowCount','dodgerblue','dRow','10cOHWNH','<br>','join','creatureCount','7212NohrDp','Rabbit','playerRow','row'];a0_0x4d76=function(){return _0x3be02b;};return a0_0x4d76();}function a0_0x2122(_0x29a3c3,_0x2e810f){const _0x4d7603=a0_0x4d76();return a0_0x2122=function(_0x212286,_0x1c3fc1){_0x212286=_0x212286-0x1ef;let _0x2fe5e2=_0x4d7603[_0x212286];return _0x2fe5e2;},a0_0x2122(_0x29a3c3,_0x2e810f);}export class CreaturesApp{static ['kInitialPlayerCalories']=0x78;static ['kCaloriesConsumedPerMove']=0x5;constructor(){const _0x552fee=a0_0x2122,_0xb36425={'canvas':document[_0x552fee(0x1f1)]('main-canvas'),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x552fee(0x24b)]=0x64,this['grid']=new ConsoleGrid(_0xb36425);const _0x3b0dc3=document[_0x552fee(0x1f1)](_0x552fee(0x217));this[_0x552fee(0x20c)]=new Cout(_0x3b0dc3),this['playerRow']=0x5,this[_0x552fee(0x238)]=0x5,this[_0x552fee(0x201)]=CreaturesApp[_0x552fee(0x209)],this['turnCount']=0x0,this[_0x552fee(0x1fe)]=![],this[_0x552fee(0x228)]=new CreatureList(),this[_0x552fee(0x228)]['addCreaturesFromFile'](),this['creatureList'][_0x552fee(0x20e)](this[_0x552fee(0x1fa)]),this[_0x552fee(0x1fa)][_0x552fee(0x239)](this[_0x552fee(0x233)],this[_0x552fee(0x238)],'@','white'),this[_0x552fee(0x1fa)]['setStatusLine'](this[_0x552fee(0x221)](this['playerCalories'],'')),this[_0x552fee(0x20c)][_0x552fee(0x206)](this[_0x552fee(0x228)][_0x552fee(0x1f4)]());}['statusString'](_0x1521e3,_0x31b392){const _0x2e48cf=a0_0x2122;return _0x2e48cf(0x21e)+this[_0x2e48cf(0x200)]+_0x2e48cf(0x210)+_0x1521e3+_0x2e48cf(0x237)+_0x31b392;}[a0_0x5b6c50(0x23c)](_0x20ef2a){const _0x15d1d9=a0_0x5b6c50;if(this[_0x15d1d9(0x1fe)])return;let _0x3a7b27=![],_0xe8813='';this['creatureList'][_0x15d1d9(0x1f0)](this[_0x15d1d9(0x1fa)]),this[_0x15d1d9(0x1fa)][_0x15d1d9(0x20f)](this['playerRow'],this['playerCol']);switch(_0x20ef2a){case'ArrowUp':this[_0x15d1d9(0x233)]>0x0&&(_0x3a7b27=!![],this[_0x15d1d9(0x233)]--);break;case'ArrowDown':this[_0x15d1d9(0x233)]+0x1<this[_0x15d1d9(0x1fa)]['rowCount']&&(_0x3a7b27=!![],this[_0x15d1d9(0x233)]++);break;case _0x15d1d9(0x241):this[_0x15d1d9(0x238)]>0x0&&(_0x3a7b27=!![],this['playerCol']--);break;case _0x15d1d9(0x1f8):this['playerCol']+0x1<this[_0x15d1d9(0x1fa)]['colCount']&&(_0x3a7b27=!![],this[_0x15d1d9(0x238)]++);break;case'Q':case'q':this[_0x15d1d9(0x1fe)]=!![];break;default:break;}if(!this[_0x15d1d9(0x1fe)]){_0x3a7b27&&(this[_0x15d1d9(0x201)]-=CreaturesApp[_0x15d1d9(0x23e)]);this[_0x15d1d9(0x228)]['takeTurns'](this[_0x15d1d9(0x1fa)][_0x15d1d9(0x22a)],this['grid'][_0x15d1d9(0x1ff)]);let _0x53cfd2=this[_0x15d1d9(0x228)][_0x15d1d9(0x204)](this['playerRow'],this[_0x15d1d9(0x238)]);_0x53cfd2&&(_0xe8813=_0x15d1d9(0x1fc)+_0x53cfd2['name'],this['playerCalories']+=_0x53cfd2['calories'],this['creatureList'][_0x15d1d9(0x219)](_0x53cfd2),this[_0x15d1d9(0x228)]['creatureCount']()==0x0&&(_0xe8813=_0x15d1d9(0x23b),this['gameOver']=!![])),this[_0x15d1d9(0x201)]<=0x0&&(_0xe8813='Having\x20starved,\x20player\x20dies.',this[_0x15d1d9(0x1fe)]=!![]),this[_0x15d1d9(0x200)]++;}this['creatureList'][_0x15d1d9(0x20e)](this[_0x15d1d9(0x1fa)]),this[_0x15d1d9(0x1fa)]['drawCharAt'](this[_0x15d1d9(0x233)],this[_0x15d1d9(0x238)],'@',_0x15d1d9(0x245)),this['grid'][_0x15d1d9(0x21f)](this['statusString'](this[_0x15d1d9(0x201)],_0xe8813)),this['cout']['writeLine'](this[_0x15d1d9(0x228)]['toString']());}}class Creature{constructor(_0xbba030){const _0x78c6e2=a0_0x5b6c50;Object[_0x78c6e2(0x23a)](this,_0xbba030),this['initialCalories']=this[_0x78c6e2(0x24c)];}static [a0_0x5b6c50(0x23e)]=0x5;static [a0_0x5b6c50(0x227)]=0x3c;static ['kCaloriesGainedPerRest']=0x5;[a0_0x5b6c50(0x20a)](_0x61b87c,_0x1e77e1){const _0x6c6ec5=a0_0x5b6c50;return this[_0x6c6ec5(0x234)]==_0x61b87c&&this[_0x6c6ec5(0x215)]==_0x1e77e1;}[a0_0x5b6c50(0x1f3)](_0x4d35ea,_0x3a6c2c){const _0x17fcde=a0_0x5b6c50;this[_0x17fcde(0x1fb)]?this['rest']():this[_0x17fcde(0x236)](_0x4d35ea,_0x3a6c2c);}[a0_0x5b6c50(0x236)](_0x438595,_0x3e0af7){const _0xcaa41c=a0_0x5b6c50;let _0x5d1a3c=this[_0xcaa41c(0x234)]+this['dRow'];(_0x5d1a3c<0x0||_0x5d1a3c>=_0x438595)&&(this[_0xcaa41c(0x22c)]*=-0x1,_0x5d1a3c=this[_0xcaa41c(0x234)]+this[_0xcaa41c(0x22c)]);let _0x570c1a=this[_0xcaa41c(0x215)]+this['dCol'];(_0x570c1a<0x0||_0x570c1a>=_0x3e0af7)&&(this[_0xcaa41c(0x225)]*=-0x1,_0x570c1a=this[_0xcaa41c(0x215)]+this[_0xcaa41c(0x225)]),(this[_0xcaa41c(0x234)]!=_0x5d1a3c||this[_0xcaa41c(0x215)]!=_0x570c1a)&&(this['row']=_0x5d1a3c,this['col']=_0x570c1a,this['calories']-=Creature[_0xcaa41c(0x23e)],this[_0xcaa41c(0x24c)]<=0x0&&(this[_0xcaa41c(0x1fb)]=!![]));}['rest'](){const _0x5c953b=a0_0x5b6c50;this[_0x5c953b(0x24c)]+=Creature['kCaloriesGainedPerRest'],this[_0x5c953b(0x24c)]>0.75*this[_0x5c953b(0x1ef)]&&(this['resting']=![]);}[a0_0x5b6c50(0x20e)](_0xa5415){const _0x39c2bc=a0_0x5b6c50;_0xa5415['drawCharAt'](this[_0x39c2bc(0x234)],this[_0x39c2bc(0x215)],this['glyph'],this[_0x39c2bc(0x21b)]);}[a0_0x5b6c50(0x1f0)](_0x399868){const _0x40a42b=a0_0x5b6c50;_0x399868[_0x40a42b(0x20f)](this[_0x40a42b(0x234)],this['col']);}[a0_0x5b6c50(0x1f4)](){const _0x30ac1d=a0_0x5b6c50;return this[_0x30ac1d(0x1f7)][_0x30ac1d(0x212)](0xa)+'\x20('+this[_0x30ac1d(0x244)]+')\x20'+this[_0x30ac1d(0x24c)][_0x30ac1d(0x1f4)]()[_0x30ac1d(0x21a)](0x4);}}class CreatureList{constructor(){}['addCreaturesFromFile'](){const _0xdc8994=a0_0x5b6c50,_0x4eaa13=[{'name':_0xdc8994(0x20d),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':'aqua'},{'name':_0xdc8994(0x232),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0xdc8994(0x229)},{'name':_0xdc8994(0x1f9),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0xdc8994(0x226)},{'name':_0xdc8994(0x218),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0xdc8994(0x208)},{'name':_0xdc8994(0x213),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0xdc8994(0x23f)},{'name':_0xdc8994(0x249),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':'orange'},{'name':_0xdc8994(0x214),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0xdc8994(0x220)},{'name':_0xdc8994(0x205),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0xdc8994(0x223)},{'name':_0xdc8994(0x248),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':'chartreuse'},{'name':_0xdc8994(0x23d),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':'gold'},{'name':_0xdc8994(0x24a),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0xdc8994(0x1f5)},{'name':_0xdc8994(0x211),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0xdc8994(0x21d)},{'name':_0xdc8994(0x1f2),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0xdc8994(0x22b)},{'name':_0xdc8994(0x1f6),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0xdc8994(0x224)}];this[_0xdc8994(0x20b)]=_0x4eaa13['map'](_0xbe3993=>new Creature(_0xbe3993));}['draw'](_0x20566f){const _0x4c7b09=a0_0x5b6c50;this[_0x4c7b09(0x20b)][_0x4c7b09(0x240)](_0x3df21e=>_0x3df21e[_0x4c7b09(0x20e)](_0x20566f));}[a0_0x5b6c50(0x1f0)](_0x4513a2){const _0x509a1b=a0_0x5b6c50;this[_0x509a1b(0x20b)][_0x509a1b(0x240)](_0x4a9b0f=>_0x4a9b0f[_0x509a1b(0x1f0)](_0x4513a2));}[a0_0x5b6c50(0x242)](_0x456818,_0x114cb0){const _0x4120d5=a0_0x5b6c50;this[_0x4120d5(0x20b)][_0x4120d5(0x240)](_0x480724=>_0x480724['takeTurn'](_0x456818,_0x114cb0));}[a0_0x5b6c50(0x204)](_0x122345,_0x15062a){const _0x3c8cc0=a0_0x5b6c50;return this[_0x3c8cc0(0x20b)][_0x3c8cc0(0x1fd)](_0x4b753e=>_0x4b753e['positionEquals'](_0x122345,_0x15062a));}[a0_0x5b6c50(0x219)](_0x1e0775){const _0x321669=a0_0x5b6c50;this['creatures']=this[_0x321669(0x20b)][_0x321669(0x247)](_0x24cf94=>_0x24cf94!=_0x1e0775);}[a0_0x5b6c50(0x230)](){const _0x4905b4=a0_0x5b6c50;return this[_0x4905b4(0x20b)]['length'];}[a0_0x5b6c50(0x1f4)](){const _0x2a0fb0=a0_0x5b6c50;return this['creatures']['map'](_0x5454e5=>_0x5454e5['toString']())[_0x2a0fb0(0x22f)](_0x2a0fb0(0x22e));}}