const a0_0x440ccf=a0_0x557f;(function(_0x236d1b,_0x107760){const _0xb8ae54=a0_0x557f,_0x10e68c=_0x236d1b();while(!![]){try{const _0x5e16b1=-parseInt(_0xb8ae54(0x142))/0x1+parseInt(_0xb8ae54(0x117))/0x2*(-parseInt(_0xb8ae54(0x14b))/0x3)+-parseInt(_0xb8ae54(0x145))/0x4*(parseInt(_0xb8ae54(0x16a))/0x5)+parseInt(_0xb8ae54(0x106))/0x6*(-parseInt(_0xb8ae54(0x107))/0x7)+parseInt(_0xb8ae54(0x14f))/0x8+-parseInt(_0xb8ae54(0x11c))/0x9+parseInt(_0xb8ae54(0x14e))/0xa;if(_0x5e16b1===_0x107760)break;else _0x10e68c['push'](_0x10e68c['shift']());}catch(_0x81f9b3){_0x10e68c['push'](_0x10e68c['shift']());}}}(a0_0x41f4,0xcb79c));import{readKeys,rleCompress,decompressAsKeys}from'./key-file-reader.js';import{RemoteStorage}from'./remoteStorage.mjs';function a0_0x41f4(){const _0x3f7692=['admin-key-','</th>\x0a\x20\x20\x20\x20<th></th>\x0a\x20\x20','calories','a[data-sleep]','speed-btn','.turns','sleepTimeout','Cals','playBtn','log','student-id','spinner','length','35xwKzuc','disabled','Snake','submit','gameOver','stopPropagation','onClickedLogin','cancel-btn','playback-btn','submit-btn','importNode','speedBtn','error','appendChild','uk-active','submitStateBusy','startPlayback','title-bar-title','first-name','submitBtn','Enter\x20the\x20admin\x20key\x20for\x20','Success','key','hide','42VioYRn','1344833QoKFyK','onClickedAdminSubmissions','playSubmission','addEventListener','#submission-row-template','loginButton','setItem','a.uk-active[data-sleep]','submission-form','submitStateReady','.uk-modal.uk-open','creatureCount','isPaused','it\x20is\x20probably\x20a\x20good\x20idea\x20to\x20erase\x20local\x20storage\x20key\x20here','keystrokesKey','upload-btn','134feeEMd','textContent','fa-','status-msg','submissions-toggle','9846297aTafxK','map','title','innerHTML','text','_isPaused','adminRemoteStorage','toFixed','turnCount','.value','getItem','startsWith','continuePlayback','key-file-input','alert','closest','add','prompt','data-sleep','querySelectorAll','modal','selectedFile','fa-pause','values','files','keys','contestStatus','content','playbackIndex','submitted','querySelector','dropdown','forEach','click','studentApp','#submit-modal','innerText','filter','267672ibnmhf','CREATURES_SUBMISSIONS','admin-btn','408916zTCknb','getAttribute','atKey','x0R7wwi9cY2cvaGX.KKB7rARXvjKno43OdWwEUJESEOzBu30i3rtCwk69zrKKy6oaMQTTkEJmp2F4e3rkQz7XETmy6ByXdyHjPviDrxwMigIE4+PbP4FZeVY=','modal-submit-btn','speed-select','55083rHpezu','okay-btn','keydown','54190690XjUfQS','533560CwIfEJ','submitStateDone','hidden','cout-lines','#speed-select','classList','value','adminSubmissionsToggle','Creatures','preventDefault','keys-','last-name','renderSubmissions','remove'];a0_0x41f4=function(){return _0x3f7692;};return a0_0x41f4();}import{CreaturesApp}from'./creature.js';let appName;appName=a0_0x440ccf(0x157);let appKlass,namespace,SUBMISSIONS_WRITE;appKlass=CreaturesApp,namespace=a0_0x440ccf(0x143),SUBMISSIONS_WRITE=a0_0x440ccf(0x148),window['addEventListener']('DOMContentLoaded',()=>{const _0x58f2c7=a0_0x440ccf;document[_0x58f2c7(0x11e)]=appName,App['el'](_0x58f2c7(0xff))['innerText']=appName,App['el'](_0x58f2c7(0x152))[_0x58f2c7(0x151)]=appName==_0x58f2c7(0x16c);});function a0_0x557f(_0x1ac6fd,_0x2d8d1b){const _0x41f40d=a0_0x41f4();return a0_0x557f=function(_0x557fbb,_0x3f00bd){_0x557fbb=_0x557fbb-0xf6;let _0x12ce35=_0x41f40d[_0x557fbb];return _0x12ce35;},a0_0x557f(_0x1ac6fd,_0x2d8d1b);}const localStorageKey=a0_0x440ccf(0x15d)+namespace,remoteStorage=new RemoteStorage(namespace,SUBMISSIONS_WRITE);class App{static['el'](_0x598cad){return document['getElementById'](_0x598cad);}constructor(){const _0x31b197=a0_0x440ccf,_0x37d680=App['el'](_0x31b197(0x129)),_0x498f49=App['el'](_0x31b197(0x14a));this['submitBtn']=App['el'](_0x31b197(0xf7)),this[_0x31b197(0x165)]=App['el'](_0x31b197(0xf6)),this[_0x31b197(0xf9)]=App['el'](_0x31b197(0x161)),this[_0x31b197(0x10c)]=App['el'](_0x31b197(0x144)),this[_0x31b197(0x156)]=App['el'](_0x31b197(0x11b)),this[_0x31b197(0x13e)]=new appKlass(),App['el'](_0x31b197(0x116))[_0x31b197(0x10a)]('click',()=>{_0x37d680['click']();}),_0x37d680[_0x31b197(0x10a)]('change',async()=>{const _0x36e8f9=_0x31b197,_0x319fdf=_0x37d680[_0x36e8f9(0x134)]?.[0x0];_0x37d680['value']='',_0x319fdf&&await this[_0x36e8f9(0x131)](_0x319fdf);}),this[_0x31b197(0x165)][_0x31b197(0x10a)](_0x31b197(0x13d),()=>{const _0x965d31=_0x31b197;this[_0x965d31(0x113)]=!this[_0x965d31(0x113)],!this['isPaused']&&(this[_0x965d31(0x13e)][_0x965d31(0x16e)]?this[_0x965d31(0xfe)]():this['continuePlayback']());}),this[_0x31b197(0x110)](),this[_0x31b197(0x101)]['addEventListener'](_0x31b197(0x13d),()=>{const _0x1abf20=_0x31b197;UIkit['modal'](_0x1abf20(0x13f))['show'](),this[_0x1abf20(0x110)]();});const _0xc9051a=App['el'](_0x31b197(0x10f));_0xc9051a[_0x31b197(0x10a)](_0x31b197(0x16d),_0x3a4365=>this[_0x31b197(0x139)](_0x3a4365)),App['el'](_0x31b197(0x14c))[_0x31b197(0x10a)](_0x31b197(0x13d),_0x248a36=>{const _0x44e985=_0x31b197;UIkit[_0x44e985(0x130)](_0x44e985(0x13f))[_0x44e985(0x105)]();}),_0x498f49[_0x31b197(0x12f)](_0x31b197(0x160))[_0x31b197(0x13c)](_0x10a53c=>{const _0x148133=_0x31b197;_0x10a53c[_0x148133(0x10a)]('click',_0x3c9fad=>{const _0xfc770=_0x148133;_0x3c9fad[_0xfc770(0x158)](),UIkit[_0xfc770(0x13b)](_0xfc770(0x153))[_0xfc770(0x105)](),_0x498f49[_0xfc770(0x12f)]('a.uk-active')[_0xfc770(0x13c)](_0x504b23=>_0x504b23['classList']['remove']('uk-active')),_0x10a53c[_0xfc770(0x154)]['add'](_0xfc770(0xfc)),App['el'](_0xfc770(0x161))[_0xfc770(0x11f)]=_0x10a53c[_0xfc770(0x11f)];});}),document['addEventListener'](_0x31b197(0x14d),_0x4a25d2=>{const _0x2dddfc=_0x31b197,_0x19ee7c=document['querySelector'](_0x2dddfc(0x111));if(_0x19ee7c)return;!this['gameOver']&&(_0x4a25d2[_0x2dddfc(0x158)](),_0x4a25d2[_0x2dddfc(0x16f)](),this[_0x2dddfc(0x13e)][_0x2dddfc(0x14d)](_0x4a25d2[_0x2dddfc(0x104)]));}),this['loginButton'][_0x31b197(0x10a)](_0x31b197(0x13d),async()=>this[_0x31b197(0x170)]()),this[_0x31b197(0x156)][_0x31b197(0x10a)](_0x31b197(0x13d),async()=>this['onClickedAdminSubmissions']()),this[_0x31b197(0x147)]=localStorage['getItem'](localStorageKey),this[_0x31b197(0x147)]?(this['adminRemoteStorage']=new RemoteStorage(namespace,this['atKey']),this[_0x31b197(0x10c)][_0x31b197(0x151)]=!![],this[_0x31b197(0x156)]['hidden']=![]):(this[_0x31b197(0x10c)][_0x31b197(0x151)]=![],this['adminSubmissionsToggle'][_0x31b197(0x151)]=!![]);}async['selectedFile'](_0x78a13b){const _0x439668=a0_0x440ccf;try{const {keys:_0x50b6d6,text:_0x41992c}=await readKeys(_0x78a13b);return this[_0x439668(0x135)]=_0x50b6d6,this[_0x439668(0x120)]=_0x41992c,this['startPlayback'](),!![];}catch(_0x2164d0){return UIkit[_0x439668(0x130)][_0x439668(0x12a)](_0x2164d0['message']),![];}}[a0_0x440ccf(0xfe)](){const _0x5c7fb4=a0_0x440ccf;this[_0x5c7fb4(0x165)]['disabled']=![],this[_0x5c7fb4(0xf9)]['disabled']=![],this[_0x5c7fb4(0x113)]=![],this['playbackIndex']=0x0,this[_0x5c7fb4(0x13e)]=new appKlass(),this[_0x5c7fb4(0x128)]();}async['continuePlayback'](){const _0x296152=a0_0x440ccf,_0x14265f=_0x5b27a0=>new Promise(_0x443752=>setTimeout(_0x443752,_0x5b27a0));while(!this[_0x296152(0x113)]&&this[_0x296152(0x138)]<this[_0x296152(0x135)]['length']){await _0x14265f(this[_0x296152(0x163)]);const _0x3d0d56=this['keys'][this[_0x296152(0x138)]++];this[_0x296152(0x13e)][_0x296152(0x14d)](_0x3d0d56);}this[_0x296152(0x138)]>=this[_0x296152(0x135)][_0x296152(0x169)]&&(this[_0x296152(0x101)]['disabled']=![],this[_0x296152(0x113)]=!![]);}get[a0_0x440ccf(0x113)](){const _0x1c6e46=a0_0x440ccf;return this[_0x1c6e46(0x121)];}set['isPaused'](_0x3806f9){const _0x17813e=a0_0x440ccf;this[_0x17813e(0x121)]=_0x3806f9;const _0x40f376=App['el']('playback-btn')[_0x17813e(0x13a)]('i'),_0x3b7464=[..._0x40f376[_0x17813e(0x154)]][_0x17813e(0x141)](_0x55e6f6=>_0x55e6f6[_0x17813e(0x127)](_0x17813e(0x119)));_0x40f376[_0x17813e(0x154)][_0x17813e(0x15c)](..._0x3b7464),_0x40f376['classList'][_0x17813e(0x12c)](_0x3806f9?'fa-play':_0x17813e(0x132));}get[a0_0x440ccf(0x163)](){const _0x408847=a0_0x440ccf,_0x1a52e3=App['el']('speed-select')['querySelector'](_0x408847(0x10e));return _0x1a52e3?parseInt(_0x1a52e3[_0x408847(0x146)](_0x408847(0x12e)),0xa):null;}async[a0_0x440ccf(0x139)](_0x2841a6){const _0x5d0a4d=a0_0x440ccf;_0x2841a6['preventDefault'](),this[_0x5d0a4d(0xfd)]('Saving');const _0x1b10fd=App['el'](_0x5d0a4d(0x100))[_0x5d0a4d(0x155)],_0x1b4610=App['el'](_0x5d0a4d(0x15a))[_0x5d0a4d(0x155)],_0x48ef81=App['el'](_0x5d0a4d(0x167))['value'],_0x5555b9=_0x5d0a4d(0x159)+_0x48ef81,_0x23d7e3=rleCompress(this[_0x5d0a4d(0x120)]),_0xa22501=this['studentApp'][_0x5d0a4d(0x136)](),_0x55e968={'firstName':_0x1b10fd,'lastName':_0x1b4610,'studentID':_0x48ef81,'keystrokesKey':_0x5555b9,'contestStatus':_0xa22501},_0x2f337d='submission-'+_0x48ef81;try{await remoteStorage['setItem'](_0x5555b9,_0x23d7e3),await remoteStorage[_0x5d0a4d(0x10d)](_0x2f337d,_0x55e968);}catch(_0x456fc9){this[_0x5d0a4d(0x150)](_0x456fc9['message']);}finally{this[_0x5d0a4d(0x150)](_0x5d0a4d(0x103));}}[a0_0x440ccf(0x110)](){const _0x732bc6=a0_0x440ccf;App['el']('status-msg')[_0x732bc6(0x151)]=!![],App['el']('spinner')[_0x732bc6(0x151)]=!![],App['el']('modal-submit-btn')['disabled']=![],App['el'](_0x732bc6(0x171))[_0x732bc6(0x151)]=![],App['el'](_0x732bc6(0x171))[_0x732bc6(0x16b)]=![],App['el'](_0x732bc6(0x149))[_0x732bc6(0x151)]=![],App['el']('okay-btn')[_0x732bc6(0x151)]=!![];}['submitStateBusy'](_0x2acd0b){const _0x1c2c96=a0_0x440ccf;App['el'](_0x1c2c96(0x11a))[_0x1c2c96(0x151)]=![],App['el'](_0x1c2c96(0x11a))[_0x1c2c96(0x140)]=_0x2acd0b,App['el'](_0x1c2c96(0x168))['hidden']=![],App['el'](_0x1c2c96(0x149))[_0x1c2c96(0x16b)]=!![],App['el'](_0x1c2c96(0x171))[_0x1c2c96(0x16b)]=!![];}[a0_0x440ccf(0x150)](_0x7bdc78){const _0x4c3767=a0_0x440ccf;App['el'](_0x4c3767(0x11a))[_0x4c3767(0x151)]=![],App['el'](_0x4c3767(0x11a))[_0x4c3767(0x140)]=_0x7bdc78,App['el']('spinner')[_0x4c3767(0x151)]=!![],App['el'](_0x4c3767(0x149))['hidden']=!![],App['el'](_0x4c3767(0x171))[_0x4c3767(0x151)]=!![],App['el']('okay-btn')[_0x4c3767(0x151)]=![];}async[a0_0x440ccf(0x170)](){const _0x17fb0c=a0_0x440ccf,_0x5d907f=_0x17fb0c(0x102)+appName,_0x22a895=await UIkit[_0x17fb0c(0x130)][_0x17fb0c(0x12d)](_0x5d907f);_0x22a895&&(this[_0x17fb0c(0x122)]=new RemoteStorage(namespace,this[_0x17fb0c(0x147)]),localStorage['setItem'](localStorageKey,_0x22a895),this[_0x17fb0c(0x156)][_0x17fb0c(0x151)]=![],this[_0x17fb0c(0x156)]['click']());}async[a0_0x440ccf(0x108)](){const _0x1ecc4b=a0_0x440ccf;try{const _0x195944=await this[_0x1ecc4b(0x122)]['getNamespace']('submission');console[_0x1ecc4b(0x166)](_0x195944);const _0x471ef2=Object[_0x1ecc4b(0x133)](_0x195944)[_0x1ecc4b(0x11d)](_0x5803eb=>_0x5803eb['value']);this['renderSubmissions'](_0x471ef2);}catch(_0x4664ce){console[_0x1ecc4b(0x166)](_0x1ecc4b(0xfa)+_0x4664ce),console[_0x1ecc4b(0x166)](_0x1ecc4b(0x114));}}[a0_0x440ccf(0x15b)](_0x53981f){const _0x141063=a0_0x440ccf,_0x3ae0db=document[_0x141063(0x13a)]('#submissions-header'),_0x1ed90b=document[_0x141063(0x13a)]('#submissions-table\x20tbody'),_0x555cfe=document[_0x141063(0x13a)](_0x141063(0x10b))[_0x141063(0x137)];_0x3ae0db[_0x141063(0x11f)]='\x0a\x20\x20\x20\x20<th>Name</th><th></th><th>Turns</th><th>'+(appName===_0x141063(0x157)?_0x141063(0x164):'Metc')+_0x141063(0x15e),_0x1ed90b[_0x141063(0x11f)]='';for(const _0x546467 of _0x53981f){const _0x1154ef=_0x546467['contestStatus'],_0x3eb864=document[_0x141063(0xf8)](_0x555cfe,!![]);_0x3eb864['querySelector']('.name')['textContent']=_0x546467['firstName']+'\x20'+_0x546467['lastName'],_0x3eb864[_0x141063(0x13a)](_0x141063(0x162))[_0x141063(0x118)]=_0x1154ef[_0x141063(0x124)];const _0x30ae1d=_0x3eb864[_0x141063(0x13a)](_0x141063(0x125));_0x30ae1d[_0x141063(0x118)]=appName===_0x141063(0x157)?_0x1154ef[_0x141063(0x15f)]:_0x1154ef['length']+'\x20/\x20'+_0x1154ef['metric'][_0x141063(0x123)](0x4);const _0x515601=_0x3eb864['querySelector']('.uk-checkbox');appName===_0x141063(0x157)?_0x515601['checked']=_0x1154ef[_0x141063(0x112)]===0x0:_0x515601[_0x141063(0x12b)]('td')['innerHTML']='';const _0x37aeb3=_0x3eb864[_0x141063(0x13a)]('button');_0x37aeb3[_0x141063(0x10a)](_0x141063(0x13d),async()=>{const _0x5269a7=_0x141063;await this[_0x5269a7(0x109)](_0x546467);}),_0x1ed90b[_0x141063(0xfb)](_0x3eb864);}}async['playSubmission'](_0x411143){const _0x45ab08=a0_0x440ccf;try{const _0x12ef54=_0x411143[_0x45ab08(0x115)],_0x21a751=await this['adminRemoteStorage'][_0x45ab08(0x126)](_0x12ef54);this[_0x45ab08(0x135)]=decompressAsKeys(_0x21a751),this[_0x45ab08(0xfe)]();}catch(_0x17e676){console[_0x45ab08(0x166)](_0x45ab08(0xfa)+_0x17e676);}}}const app=new App();