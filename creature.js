function a0_0x6235(_0x5c461f,_0x1b63db){const _0x2839df=a0_0x2839();return a0_0x6235=function(_0x62356a,_0x2c2704){_0x62356a=_0x62356a-0xc7;let _0x533dea=_0x2839df[_0x62356a];return _0x533dea;},a0_0x6235(_0x5c461f,_0x1b63db);}const a0_0x23d141=a0_0x6235;function a0_0x2839(){const _0x10485b=['gold','gameOver','Deer','Squirrel','1303914WEmszC','playerCalories','Owl','274426VeTcLE','move','padEnd','dRow','drawCharAt','violet','.\x20Player\x20has\x20','orangered','ArrowRight','name','tomato','contestStatus','Lynx','main-canvas','creatureList','writeLine','padStart','draw','playerRow','getElementById','row','Rabbit','kCaloriesGainedPerRest','calories','statusString','join','Raccoon','eraseCharAt','dCol','Boar','resting','701134rNtman','9pOnsZE','chartreuse','creatures','filter','\x20cals.\x20','playerCol','takeTurns','erase','white','116rJQANB','10462168yalroM','Ate\x20the\x20','crimson','creatureCount','takeTurn','initialCalories','kCaloriesConsumedPerMove','Having\x20starved,\x20player\x20dies.','forEach','addCreaturesFromFile','keydown','ArrowUp','cout','Fox','dodgerblue','Porcupine','colCount','toString','8997hdoRkP','find','creatureAtPosition','82548iinWai','5817430ZiRsrh','setStatusLine','assign','col','ArrowDown','positionEquals','magenta','grid','green','Mouse','rowCount','Skunk','map','Falcon','sleepTimeout','Having\x20eaten\x20everything,\x20player\x20wins!','kInitialPlayerCalories','Badger','turnCount','glyph','15FPhHHD','Hedgehog','removeCreature','cout-lines'];a0_0x2839=function(){return _0x10485b;};return a0_0x2839();}(function(_0x1c8b07,_0x435e7a){const _0x2058cf=a0_0x6235,_0x30a2bd=_0x1c8b07();while(!![]){try{const _0x4892ae=-parseInt(_0x2058cf(0xea))/0x1+-parseInt(_0x2058cf(0x113))/0x2*(parseInt(_0x2058cf(0xc7))/0x3)+-parseInt(_0x2058cf(0xca))/0x4+-parseInt(_0x2058cf(0xdf))/0x5*(-parseInt(_0x2058cf(0xe7))/0x6)+-parseInt(_0x2058cf(0x109))/0x7+-parseInt(_0x2058cf(0x114))/0x8*(-parseInt(_0x2058cf(0x10a))/0x9)+-parseInt(_0x2058cf(0xcb))/0xa;if(_0x4892ae===_0x435e7a)break;else _0x30a2bd['push'](_0x30a2bd['shift']());}catch(_0x50919e){_0x30a2bd['push'](_0x30a2bd['shift']());}}}(a0_0x2839,0xc5772));import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x23d141(0xdb)]=0x78;static ['kCaloriesConsumedPerMove']=0x5;constructor(){const _0x35c618=a0_0x23d141,_0x1bb9af={'canvas':document[_0x35c618(0xfd)](_0x35c618(0xf7)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x35c618(0xd9)]=0x64,this[_0x35c618(0xd2)]=new ConsoleGrid(_0x1bb9af);const _0x5c3c22=document[_0x35c618(0xfd)](_0x35c618(0xe2));this[_0x35c618(0x120)]=new Cout(_0x5c3c22),this[_0x35c618(0xfc)]=0x5,this[_0x35c618(0x10f)]=0x5,this[_0x35c618(0xe8)]=CreaturesApp[_0x35c618(0xdb)],this[_0x35c618(0xdd)]=0x0,this[_0x35c618(0xe4)]=![],this[_0x35c618(0xf8)]=new CreatureList(),this['creatureList'][_0x35c618(0x11d)](),this[_0x35c618(0xf8)][_0x35c618(0xfb)](this[_0x35c618(0xd2)]),this[_0x35c618(0xd2)][_0x35c618(0xee)](this[_0x35c618(0xfc)],this['playerCol'],'@','white'),this['grid'][_0x35c618(0xcc)](this[_0x35c618(0x102)](this[_0x35c618(0xe8)],'')),this['cout'][_0x35c618(0xf9)](this[_0x35c618(0xf8)][_0x35c618(0x125)]());}[a0_0x23d141(0x102)](_0x374853,_0x1ac066){const _0x3ce225=a0_0x23d141;return'Turn\x20'+this[_0x3ce225(0xdd)]+_0x3ce225(0xf0)+_0x374853+_0x3ce225(0x10e)+_0x1ac066;}[a0_0x23d141(0x11e)](_0x10e43c){const _0x41440c=a0_0x23d141;if(this['gameOver'])return;let _0x5dfaa6=![],_0x40aa5d='';this['creatureList']['erase'](this[_0x41440c(0xd2)]),this[_0x41440c(0xd2)][_0x41440c(0x105)](this['playerRow'],this[_0x41440c(0x10f)]);switch(_0x10e43c){case _0x41440c(0x11f):this[_0x41440c(0xfc)]>0x0&&(_0x5dfaa6=!![],this[_0x41440c(0xfc)]--);break;case _0x41440c(0xcf):this['playerRow']+0x1<this[_0x41440c(0xd2)][_0x41440c(0xd5)]&&(_0x5dfaa6=!![],this[_0x41440c(0xfc)]++);break;case'ArrowLeft':this[_0x41440c(0x10f)]>0x0&&(_0x5dfaa6=!![],this[_0x41440c(0x10f)]--);break;case _0x41440c(0xf2):this[_0x41440c(0x10f)]+0x1<this[_0x41440c(0xd2)][_0x41440c(0x124)]&&(_0x5dfaa6=!![],this[_0x41440c(0x10f)]++);break;case'Q':case'q':this[_0x41440c(0xe4)]=!![];break;default:break;}if(!this[_0x41440c(0xe4)]){_0x5dfaa6&&(this[_0x41440c(0xe8)]-=CreaturesApp['kCaloriesConsumedPerMove']);this[_0x41440c(0xf8)]['takeTurns'](this['grid'][_0x41440c(0xd5)],this[_0x41440c(0xd2)][_0x41440c(0x124)]);let _0x1116a8=this[_0x41440c(0xf8)][_0x41440c(0xc9)](this[_0x41440c(0xfc)],this[_0x41440c(0x10f)]);_0x1116a8&&(_0x40aa5d=_0x41440c(0x115)+_0x1116a8[_0x41440c(0xf3)],this['playerCalories']+=_0x1116a8['calories'],this[_0x41440c(0xf8)][_0x41440c(0xe1)](_0x1116a8),this[_0x41440c(0xf8)][_0x41440c(0x117)]()==0x0&&(_0x40aa5d=_0x41440c(0xda),this[_0x41440c(0xe4)]=!![])),this[_0x41440c(0xe8)]<=0x0&&(_0x40aa5d=_0x41440c(0x11b),this[_0x41440c(0xe4)]=!![]),this[_0x41440c(0xdd)]++;}this[_0x41440c(0xf8)]['draw'](this[_0x41440c(0xd2)]),this[_0x41440c(0xd2)][_0x41440c(0xee)](this['playerRow'],this[_0x41440c(0x10f)],'@',_0x41440c(0x112)),this[_0x41440c(0xd2)][_0x41440c(0xcc)](this[_0x41440c(0x102)](this[_0x41440c(0xe8)],_0x40aa5d)),this[_0x41440c(0x120)][_0x41440c(0xf9)](this[_0x41440c(0xf8)][_0x41440c(0x125)]());}[a0_0x23d141(0xf5)](){const _0x3c6a7f=a0_0x23d141,_0x44fb41=this[_0x3c6a7f(0xdd)],_0x3b6971=this['playerCalories'],_0x5c4762=this[_0x3c6a7f(0xf8)][_0x3c6a7f(0x117)]();return{'turnCount':_0x44fb41,'calories':_0x3b6971,'creatureCount':_0x5c4762};}}class Creature{constructor(_0x1408a7){const _0x2141fa=a0_0x23d141;Object[_0x2141fa(0xcd)](this,_0x1408a7),this[_0x2141fa(0x119)]=this[_0x2141fa(0x101)];}static [a0_0x23d141(0x11a)]=0x5;static ['kCaloriesGainedPerMeal']=0x3c;static ['kCaloriesGainedPerRest']=0x5;[a0_0x23d141(0xd0)](_0x284b08,_0x4fd33b){const _0x213d66=a0_0x23d141;return this[_0x213d66(0xfe)]==_0x284b08&&this[_0x213d66(0xce)]==_0x4fd33b;}[a0_0x23d141(0x118)](_0xab3526,_0x931868){const _0x2f249a=a0_0x23d141;this[_0x2f249a(0x108)]?this['rest']():this[_0x2f249a(0xeb)](_0xab3526,_0x931868);}[a0_0x23d141(0xeb)](_0x2119e8,_0x18cdfe){const _0xc3541e=a0_0x23d141;let _0x5d0fb0=this[_0xc3541e(0xfe)]+this[_0xc3541e(0xed)];(_0x5d0fb0<0x0||_0x5d0fb0>=_0x2119e8)&&(this[_0xc3541e(0xed)]*=-0x1,_0x5d0fb0=this[_0xc3541e(0xfe)]+this[_0xc3541e(0xed)]);let _0x2afc2f=this[_0xc3541e(0xce)]+this[_0xc3541e(0x106)];(_0x2afc2f<0x0||_0x2afc2f>=_0x18cdfe)&&(this[_0xc3541e(0x106)]*=-0x1,_0x2afc2f=this[_0xc3541e(0xce)]+this[_0xc3541e(0x106)]),(this[_0xc3541e(0xfe)]!=_0x5d0fb0||this[_0xc3541e(0xce)]!=_0x2afc2f)&&(this[_0xc3541e(0xfe)]=_0x5d0fb0,this['col']=_0x2afc2f,this[_0xc3541e(0x101)]-=Creature[_0xc3541e(0x11a)],this[_0xc3541e(0x101)]<=0x0&&(this[_0xc3541e(0x108)]=!![]));}['rest'](){const _0xf39bc9=a0_0x23d141;this['calories']+=Creature[_0xf39bc9(0x100)],this['calories']>0.75*this[_0xf39bc9(0x119)]&&(this[_0xf39bc9(0x108)]=![]);}[a0_0x23d141(0xfb)](_0x2a6546){const _0x4d7a28=a0_0x23d141;_0x2a6546[_0x4d7a28(0xee)](this[_0x4d7a28(0xfe)],this['col'],this[_0x4d7a28(0xde)],this['color']);}[a0_0x23d141(0x111)](_0x5043d6){const _0x398f88=a0_0x23d141;_0x5043d6[_0x398f88(0x105)](this[_0x398f88(0xfe)],this[_0x398f88(0xce)]);}[a0_0x23d141(0x125)](){const _0x5eb6ea=a0_0x23d141;return this[_0x5eb6ea(0xf3)][_0x5eb6ea(0xec)](0xa)+'\x20('+this[_0x5eb6ea(0xde)]+')\x20'+this[_0x5eb6ea(0x101)][_0x5eb6ea(0x125)]()[_0x5eb6ea(0xfa)](0x4);}}class CreatureList{constructor(){}[a0_0x23d141(0x11d)](){const _0x32b0b0=a0_0x23d141,_0x7764fd=[{'name':_0x32b0b0(0xd4),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':'aqua'},{'name':_0x32b0b0(0xff),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x32b0b0(0xd3)},{'name':_0x32b0b0(0x107),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':'yellow'},{'name':_0x32b0b0(0xe6),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x32b0b0(0xef)},{'name':_0x32b0b0(0xe5),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x32b0b0(0xd1)},{'name':_0x32b0b0(0x121),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':'orange'},{'name':_0x32b0b0(0x104),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x32b0b0(0x116)},{'name':_0x32b0b0(0xe9),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':'deepskyblue'},{'name':_0x32b0b0(0xe0),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x32b0b0(0x10b)},{'name':_0x32b0b0(0xdc),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x32b0b0(0xe3)},{'name':_0x32b0b0(0x123),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x32b0b0(0xf4)},{'name':_0x32b0b0(0xd6),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':'cyan'},{'name':_0x32b0b0(0xf6),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x32b0b0(0x122)},{'name':_0x32b0b0(0xd8),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x32b0b0(0xf1)}];this[_0x32b0b0(0x10c)]=_0x7764fd[_0x32b0b0(0xd7)](_0x110d14=>new Creature(_0x110d14));}[a0_0x23d141(0xfb)](_0x1c520e){const _0x3d02dc=a0_0x23d141;this[_0x3d02dc(0x10c)]['forEach'](_0x42f639=>_0x42f639[_0x3d02dc(0xfb)](_0x1c520e));}[a0_0x23d141(0x111)](_0x572cf8){const _0x22a7d9=a0_0x23d141;this[_0x22a7d9(0x10c)][_0x22a7d9(0x11c)](_0x37842c=>_0x37842c['erase'](_0x572cf8));}[a0_0x23d141(0x110)](_0x1ec68f,_0x44c3dc){const _0x1c5284=a0_0x23d141;this[_0x1c5284(0x10c)]['forEach'](_0x18fb8d=>_0x18fb8d[_0x1c5284(0x118)](_0x1ec68f,_0x44c3dc));}['creatureAtPosition'](_0x3734be,_0x3191da){const _0x3aadf1=a0_0x23d141;return this[_0x3aadf1(0x10c)][_0x3aadf1(0xc8)](_0x4b3a10=>_0x4b3a10[_0x3aadf1(0xd0)](_0x3734be,_0x3191da));}[a0_0x23d141(0xe1)](_0x1746e4){const _0x47ff81=a0_0x23d141;this[_0x47ff81(0x10c)]=this[_0x47ff81(0x10c)][_0x47ff81(0x10d)](_0x261b64=>_0x261b64!=_0x1746e4);}['creatureCount'](){const _0x4273f9=a0_0x23d141;return this[_0x4273f9(0x10c)]['length'];}[a0_0x23d141(0x125)](){const _0xbc02d8=a0_0x23d141;return this[_0xbc02d8(0x10c)][_0xbc02d8(0xd7)](_0x29932e=>_0x29932e[_0xbc02d8(0x125)]())[_0xbc02d8(0x103)]('<br>');}}