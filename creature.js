const a0_0x545a67=a0_0x316a;(function(_0x441286,_0x2f474b){const _0x4f71ec=a0_0x316a,_0x3e429f=_0x441286();while(!![]){try{const _0x4d14cf=parseInt(_0x4f71ec(0x1f2))/0x1*(-parseInt(_0x4f71ec(0x1db))/0x2)+parseInt(_0x4f71ec(0x1c6))/0x3*(-parseInt(_0x4f71ec(0x1c2))/0x4)+-parseInt(_0x4f71ec(0x1d8))/0x5+parseInt(_0x4f71ec(0x1cb))/0x6*(parseInt(_0x4f71ec(0x1a1))/0x7)+-parseInt(_0x4f71ec(0x1d7))/0x8+parseInt(_0x4f71ec(0x1b5))/0x9*(-parseInt(_0x4f71ec(0x1b1))/0xa)+parseInt(_0x4f71ec(0x1f6))/0xb;if(_0x4d14cf===_0x2f474b)break;else _0x3e429f['push'](_0x3e429f['shift']());}catch(_0x855bfd){_0x3e429f['push'](_0x3e429f['shift']());}}}(a0_0x3fc3,0x853a4));import{ConsoleGrid,Cout}from'./console-grid.js';function a0_0x3fc3(){const _0x165f2e=['writeLine','playerCalories','<br>','Rabbit','Deer','filter','Porcupine','Skunk','7787392LYVCYR','1895830vxfKuu','ArrowLeft','kCaloriesGainedPerRest','106kFWkQu','calories','cout','crimson','getElementById','assign','dCol','ArrowDown','orangered','color','playerRow','Hedgehog','padEnd','Boar','Having\x20eaten\x20everything,\x20player\x20wins!','ArrowUp','Lynx','Badger','name','positionEquals','grid','removeCreature','kInitialPlayerCalories','20298JBsjck','rest','col','gameOver','30661609ysNexc','creatureList','keydown','eraseCharAt','creatureCount','violet','creatures','resting','move','row','glyph','draw','deepskyblue','4382UighaP','orange','green','setStatusLine','kCaloriesConsumedPerMove','Owl','creatureAtPosition','turnCount','takeTurns','\x20cals.\x20','erase','takeTurn','initialCalories','drawCharAt','.\x20Player\x20has\x20','white','50qpkLAj','aqua','main-canvas','cout-lines','13131dmRFtj','Mouse','playerCol','sleepTimeout','ArrowRight','Falcon','yellow','toString','find','Raccoon','rowCount','gold','tomato','42908Grephm','forEach','length','Fox','114hruaKh','addCreaturesFromFile','statusString','cyan','map','5766yRHqZd','magenta','dRow','join'];a0_0x3fc3=function(){return _0x165f2e;};return a0_0x3fc3();}function a0_0x316a(_0x399de0,_0x344af5){const _0x3fc34c=a0_0x3fc3();return a0_0x316a=function(_0x316a37,_0xd6b56b){_0x316a37=_0x316a37-0x19a;let _0x8441f3=_0x3fc34c[_0x316a37];return _0x8441f3;},a0_0x316a(_0x399de0,_0x344af5);}export class CreaturesApp{static [a0_0x545a67(0x1f1)]=0x78;static [a0_0x545a67(0x1a5)]=0x5;constructor(){const _0x3a3b93=a0_0x545a67,_0x38350a={'canvas':document[_0x3a3b93(0x1df)](_0x3a3b93(0x1b3)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x3a3b93(0x1b8)]=0x64,this[_0x3a3b93(0x1ef)]=new ConsoleGrid(_0x38350a);const _0x4af646=document[_0x3a3b93(0x1df)](_0x3a3b93(0x1b4));this[_0x3a3b93(0x1dd)]=new Cout(_0x4af646),this[_0x3a3b93(0x1e5)]=0x5,this[_0x3a3b93(0x1b7)]=0x5,this[_0x3a3b93(0x1d0)]=CreaturesApp[_0x3a3b93(0x1f1)],this[_0x3a3b93(0x1a8)]=0x0,this[_0x3a3b93(0x1f5)]=![],this[_0x3a3b93(0x1f7)]=new CreatureList(),this['creatureList'][_0x3a3b93(0x1c7)](),this[_0x3a3b93(0x1f7)]['draw'](this[_0x3a3b93(0x1ef)]),this[_0x3a3b93(0x1ef)]['drawCharAt'](this[_0x3a3b93(0x1e5)],this[_0x3a3b93(0x1b7)],'@',_0x3a3b93(0x1b0)),this[_0x3a3b93(0x1ef)][_0x3a3b93(0x1a4)](this[_0x3a3b93(0x1c8)](this['playerCalories'],'')),this['cout'][_0x3a3b93(0x1cf)](this[_0x3a3b93(0x1f7)]['toString']());}[a0_0x545a67(0x1c8)](_0xff4f90,_0xd312bd){const _0x33ee74=a0_0x545a67;return'Turn\x20'+this[_0x33ee74(0x1a8)]+_0x33ee74(0x1af)+_0xff4f90+_0x33ee74(0x1aa)+_0xd312bd;}[a0_0x545a67(0x1f8)](_0x47d73d){const _0x5e02df=a0_0x545a67;let _0x270132=![],_0x1962ba='';this[_0x5e02df(0x1f7)][_0x5e02df(0x1ab)](this[_0x5e02df(0x1ef)]),this['grid'][_0x5e02df(0x1f9)](this[_0x5e02df(0x1e5)],this['playerCol']);switch(_0x47d73d){case _0x5e02df(0x1ea):this[_0x5e02df(0x1e5)]>0x0&&(_0x270132=!![],this['playerRow']--);break;case _0x5e02df(0x1e2):this[_0x5e02df(0x1e5)]+0x1<this['grid']['rowCount']&&(_0x270132=!![],this['playerRow']++);break;case _0x5e02df(0x1d9):this[_0x5e02df(0x1b7)]>0x0&&(_0x270132=!![],this[_0x5e02df(0x1b7)]--);break;case _0x5e02df(0x1b9):this['playerCol']+0x1<this['grid']['colCount']&&(_0x270132=!![],this[_0x5e02df(0x1b7)]++);break;case'Q':case'q':this[_0x5e02df(0x1f5)]=!![];break;default:break;}if(!this[_0x5e02df(0x1f5)]){_0x270132&&(this[_0x5e02df(0x1d0)]-=CreaturesApp[_0x5e02df(0x1a5)]);this[_0x5e02df(0x1f7)][_0x5e02df(0x1a9)](this[_0x5e02df(0x1ef)][_0x5e02df(0x1bf)],this[_0x5e02df(0x1ef)]['colCount']);let _0x4712f6=this[_0x5e02df(0x1f7)][_0x5e02df(0x1a7)](this[_0x5e02df(0x1e5)],this[_0x5e02df(0x1b7)]);_0x4712f6&&(_0x1962ba='Ate\x20the\x20'+_0x4712f6[_0x5e02df(0x1ed)],this[_0x5e02df(0x1d0)]+=_0x4712f6[_0x5e02df(0x1dc)],this[_0x5e02df(0x1f7)][_0x5e02df(0x1f0)](_0x4712f6),this[_0x5e02df(0x1f7)][_0x5e02df(0x1fa)]()==0x0&&(_0x1962ba=_0x5e02df(0x1e9),this['gameOver']=!![])),this[_0x5e02df(0x1d0)]<=0x0&&(_0x1962ba='Having\x20starved,\x20player\x20dies.',this[_0x5e02df(0x1f5)]=!![]),this[_0x5e02df(0x1a8)]++;}this[_0x5e02df(0x1f7)][_0x5e02df(0x19f)](this[_0x5e02df(0x1ef)]),this[_0x5e02df(0x1ef)][_0x5e02df(0x1ae)](this[_0x5e02df(0x1e5)],this[_0x5e02df(0x1b7)],'@',_0x5e02df(0x1b0)),this[_0x5e02df(0x1ef)][_0x5e02df(0x1a4)](this[_0x5e02df(0x1c8)](this['playerCalories'],_0x1962ba)),this[_0x5e02df(0x1dd)][_0x5e02df(0x1cf)](this[_0x5e02df(0x1f7)][_0x5e02df(0x1bc)]());}}class Creature{constructor(_0x80b7b5){const _0x39609f=a0_0x545a67;Object[_0x39609f(0x1e0)](this,_0x80b7b5),this[_0x39609f(0x1ad)]=this[_0x39609f(0x1dc)];}static [a0_0x545a67(0x1a5)]=0x5;static ['kCaloriesGainedPerMeal']=0x3c;static [a0_0x545a67(0x1da)]=0x5;[a0_0x545a67(0x1ee)](_0x102ffa,_0x4f77aa){const _0x35562d=a0_0x545a67;return this[_0x35562d(0x19d)]==_0x102ffa&&this['col']==_0x4f77aa;}['takeTurn'](_0x2bba8c,_0x11f88d){const _0x287728=a0_0x545a67;this[_0x287728(0x19b)]?this['rest']():this[_0x287728(0x19c)](_0x2bba8c,_0x11f88d);}['move'](_0x9a988d,_0x9e7361){const _0x34d8b8=a0_0x545a67;let _0x1d9aa0=this[_0x34d8b8(0x19d)]+this['dRow'];(_0x1d9aa0<0x0||_0x1d9aa0>=_0x9a988d)&&(this['dRow']*=-0x1,_0x1d9aa0=this[_0x34d8b8(0x19d)]+this[_0x34d8b8(0x1cd)]);let _0x3e3369=this[_0x34d8b8(0x1f4)]+this[_0x34d8b8(0x1e1)];(_0x3e3369<0x0||_0x3e3369>=_0x9e7361)&&(this[_0x34d8b8(0x1e1)]*=-0x1,_0x3e3369=this['col']+this[_0x34d8b8(0x1e1)]),(this['row']!=_0x1d9aa0||this[_0x34d8b8(0x1f4)]!=_0x3e3369)&&(this[_0x34d8b8(0x19d)]=_0x1d9aa0,this[_0x34d8b8(0x1f4)]=_0x3e3369,this[_0x34d8b8(0x1dc)]-=Creature[_0x34d8b8(0x1a5)],this[_0x34d8b8(0x1dc)]<=0x0&&(this['resting']=!![]));}[a0_0x545a67(0x1f3)](){const _0xec02cf=a0_0x545a67;this[_0xec02cf(0x1dc)]+=Creature[_0xec02cf(0x1da)],this[_0xec02cf(0x1dc)]>0.75*this[_0xec02cf(0x1ad)]&&(this[_0xec02cf(0x19b)]=![]);}[a0_0x545a67(0x19f)](_0x24d2f1){const _0x164fac=a0_0x545a67;_0x24d2f1[_0x164fac(0x1ae)](this[_0x164fac(0x19d)],this[_0x164fac(0x1f4)],this[_0x164fac(0x19e)],this[_0x164fac(0x1e4)]);}[a0_0x545a67(0x1ab)](_0x2959fc){const _0x503387=a0_0x545a67;_0x2959fc[_0x503387(0x1f9)](this[_0x503387(0x19d)],this[_0x503387(0x1f4)]);}[a0_0x545a67(0x1bc)](){const _0x3b9f1a=a0_0x545a67;return this['name'][_0x3b9f1a(0x1e7)](0xa)+'\x20('+this[_0x3b9f1a(0x19e)]+')\x20'+this[_0x3b9f1a(0x1dc)]['toString']()['padStart'](0x4);}}class CreatureList{constructor(){}[a0_0x545a67(0x1c7)](){const _0x1c1f7d=a0_0x545a67,_0x9c4be7=[{'name':_0x1c1f7d(0x1b6),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x1c1f7d(0x1b2)},{'name':_0x1c1f7d(0x1d2),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x1c1f7d(0x1a3)},{'name':_0x1c1f7d(0x1e8),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x1c1f7d(0x1bb)},{'name':'Squirrel','glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x1c1f7d(0x1fb)},{'name':_0x1c1f7d(0x1d3),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x1c1f7d(0x1cc)},{'name':_0x1c1f7d(0x1c5),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x1c1f7d(0x1a2)},{'name':_0x1c1f7d(0x1be),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x1c1f7d(0x1de)},{'name':_0x1c1f7d(0x1a6),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x1c1f7d(0x1a0)},{'name':_0x1c1f7d(0x1e6),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':'chartreuse'},{'name':_0x1c1f7d(0x1ec),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x1c1f7d(0x1c0)},{'name':_0x1c1f7d(0x1d5),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x1c1f7d(0x1c1)},{'name':_0x1c1f7d(0x1d6),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x1c1f7d(0x1c9)},{'name':_0x1c1f7d(0x1eb),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':'dodgerblue'},{'name':_0x1c1f7d(0x1ba),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x1c1f7d(0x1e3)}];this[_0x1c1f7d(0x19a)]=_0x9c4be7[_0x1c1f7d(0x1ca)](_0x117f1e=>new Creature(_0x117f1e));}[a0_0x545a67(0x19f)](_0x1c00f4){const _0x15a38d=a0_0x545a67;this['creatures']['forEach'](_0x28df10=>_0x28df10[_0x15a38d(0x19f)](_0x1c00f4));}[a0_0x545a67(0x1ab)](_0x3eddfe){const _0x159eb4=a0_0x545a67;this[_0x159eb4(0x19a)][_0x159eb4(0x1c3)](_0x542dfe=>_0x542dfe['erase'](_0x3eddfe));}[a0_0x545a67(0x1a9)](_0x1930cb,_0x381292){const _0xa9bec3=a0_0x545a67;this['creatures'][_0xa9bec3(0x1c3)](_0x39c64a=>_0x39c64a[_0xa9bec3(0x1ac)](_0x1930cb,_0x381292));}['creatureAtPosition'](_0x203419,_0x387eee){const _0x2fd5f1=a0_0x545a67;return this[_0x2fd5f1(0x19a)][_0x2fd5f1(0x1bd)](_0x105e33=>_0x105e33['positionEquals'](_0x203419,_0x387eee));}[a0_0x545a67(0x1f0)](_0x4e4f84){const _0x5e80ee=a0_0x545a67;this[_0x5e80ee(0x19a)]=this[_0x5e80ee(0x19a)][_0x5e80ee(0x1d4)](_0xc612bd=>_0xc612bd!=_0x4e4f84);}[a0_0x545a67(0x1fa)](){const _0x5c12cd=a0_0x545a67;return this[_0x5c12cd(0x19a)][_0x5c12cd(0x1c4)];}['toString'](){const _0x23b99c=a0_0x545a67;return this[_0x23b99c(0x19a)]['map'](_0x3251cd=>_0x3251cd[_0x23b99c(0x1bc)]())[_0x23b99c(0x1ce)](_0x23b99c(0x1d1));}}