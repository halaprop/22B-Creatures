const a0_0x21798d=a0_0x92a0;(function(_0x540648,_0x49dc6c){const _0x144924=a0_0x92a0,_0x3e99b3=_0x540648();while(!![]){try{const _0x53f42f=parseInt(_0x144924(0x141))/0x1*(parseInt(_0x144924(0x117))/0x2)+parseInt(_0x144924(0x104))/0x3*(-parseInt(_0x144924(0x142))/0x4)+-parseInt(_0x144924(0x13f))/0x5*(-parseInt(_0x144924(0xfb))/0x6)+parseInt(_0x144924(0x107))/0x7+parseInt(_0x144924(0x10e))/0x8+parseInt(_0x144924(0x12d))/0x9*(parseInt(_0x144924(0x123))/0xa)+parseInt(_0x144924(0x132))/0xb*(-parseInt(_0x144924(0x102))/0xc);if(_0x53f42f===_0x49dc6c)break;else _0x3e99b3['push'](_0x3e99b3['shift']());}catch(_0x1c3103){_0x3e99b3['push'](_0x3e99b3['shift']());}}}(a0_0x2580,0xde651));import{ConsoleGrid,Cout}from'./console-grid.js';function a0_0x92a0(_0x1e8424,_0x26fe7a){const _0x2580e3=a0_0x2580();return a0_0x92a0=function(_0x92a009,_0x519dbd){_0x92a009=_0x92a009-0xf5;let _0xe8a95=_0x2580e3[_0x92a009];return _0xe8a95;},a0_0x92a0(_0x1e8424,_0x26fe7a);}export class SnakeApp{constructor(){const _0x3ffc7f=a0_0x92a0,_0x153941={'canvas':document[_0x3ffc7f(0x10a)](_0x3ffc7f(0x13e)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this['sleepTimeout']=0x64,this[_0x3ffc7f(0x110)]=new ConsoleGrid(_0x153941);const _0x2e0fd3=document[_0x3ffc7f(0x10a)](_0x3ffc7f(0x136));this[_0x3ffc7f(0x10f)]=new Cout(_0x2e0fd3),this[_0x3ffc7f(0x103)]=0x0,this[_0x3ffc7f(0x115)]=![],this[_0x3ffc7f(0x11a)]=new Snake(),this[_0x3ffc7f(0x11a)][_0x3ffc7f(0x10c)](this[_0x3ffc7f(0x110)]),Candy[_0x3ffc7f(0x10d)](),this[_0x3ffc7f(0x140)]=Candy[_0x3ffc7f(0x12a)](this['snake'],this[_0x3ffc7f(0x110)][_0x3ffc7f(0x13b)],this['grid'][_0x3ffc7f(0x12e)]),this[_0x3ffc7f(0x140)][_0x3ffc7f(0x11e)](this[_0x3ffc7f(0x110)]),this[_0x3ffc7f(0x110)]['setStatusLine'](this[_0x3ffc7f(0x109)]());}[a0_0x21798d(0x13a)](){const _0x1f3eda=a0_0x21798d,_0x5c8d68=this[_0x1f3eda(0x103)],_0x1f9cbf=this[_0x1f3eda(0x11a)][_0x1f3eda(0x130)]();return _0x5c8d68==0x0?0x0:0x1*_0x1f9cbf*_0x1f9cbf/_0x5c8d68;}[a0_0x21798d(0x109)](_0x5e3876){const _0x4da065=a0_0x21798d;let _0x3e70cb=_0x4da065(0x133)+this['snake']['length']()+_0x4da065(0xfe)+this['turnCount']+_0x4da065(0xf5)+this[_0x4da065(0x13a)]()['toFixed'](0x3);if(_0x5e3876)_0x3e70cb+='.\x20'+_0x5e3876;return _0x3e70cb;}['keydown'](_0x224475){const _0x3c1bdf=a0_0x21798d;let _0x1ec400='';switch(_0x224475){case _0x3c1bdf(0x119):case _0x3c1bdf(0x11d):case _0x3c1bdf(0x13d):case _0x3c1bdf(0x120):this['snake'][_0x3c1bdf(0x12b)](_0x224475,this[_0x3c1bdf(0x110)],this[_0x3c1bdf(0x140)]['row'],this[_0x3c1bdf(0x140)][_0x3c1bdf(0x13c)]);break;case'Q':case'q':this[_0x3c1bdf(0x115)]=!![],_0x1ec400=_0x3c1bdf(0x137);break;default:break;}!this[_0x3c1bdf(0x115)]&&(this[_0x3c1bdf(0x11a)]['willCrash'](this['grid'])?(this[_0x3c1bdf(0x115)]=!![],_0x1ec400=_0x3c1bdf(0x111)):(this[_0x3c1bdf(0x11a)][_0x3c1bdf(0x122)](this['grid']),this[_0x3c1bdf(0x103)]++,this[_0x3c1bdf(0x11a)][_0x3c1bdf(0xfa)](this['candy'][_0x3c1bdf(0xff)],this['candy']['col'])&&(this[_0x3c1bdf(0x11a)]['eat'](this[_0x3c1bdf(0x140)][_0x3c1bdf(0x129)]),this[_0x3c1bdf(0x11a)]['color']=this[_0x3c1bdf(0x140)][_0x3c1bdf(0x12f)],this[_0x3c1bdf(0x11a)][_0x3c1bdf(0x10c)](this[_0x3c1bdf(0x110)]),this[_0x3c1bdf(0x11a)][_0x3c1bdf(0x130)]()<this[_0x3c1bdf(0x110)][_0x3c1bdf(0x13b)]*this[_0x3c1bdf(0x110)][_0x3c1bdf(0x12e)]?(this['candy']=Candy[_0x3c1bdf(0x12a)](this['snake'],this[_0x3c1bdf(0x110)][_0x3c1bdf(0x13b)],this[_0x3c1bdf(0x110)][_0x3c1bdf(0x12e)]),this[_0x3c1bdf(0x140)][_0x3c1bdf(0x11e)](this[_0x3c1bdf(0x110)])):(this[_0x3c1bdf(0x115)]=!![],_0x1ec400=_0x3c1bdf(0x100))))),this['grid'][_0x3c1bdf(0x134)](this[_0x3c1bdf(0x109)](_0x1ec400));}[a0_0x21798d(0x112)](){const _0x58c21f=a0_0x21798d,_0x9dc7ea=this[_0x58c21f(0x103)],_0x4dfe75=this[_0x58c21f(0x11a)][_0x58c21f(0x130)](),_0x541883=this[_0x58c21f(0x13a)]();return{'turnCount':_0x9dc7ea,'length':_0x4dfe75,'metric':_0x541883};}}function a0_0x2580(){const _0x50e452=['6eJLWzz','rand','pink','\x20Turns:\x20','row','Board\x20is\x20full!','pushBack','31117452IWIoiw','turnCount','3mPARoS','setSeed','orange','8462083ZckBbH','assign','statusString','getElementById','popFront','drawChars','seedRandom','6553864qgDFCi','cout','grid','Ouch,\x20my\x20nose!','contestStatus','randBetween','randomPosition','gameOver','seed','101858SwKhwY','headGlyph','ArrowLeft','snake','red','Random','ArrowRight','draw','pushFront','ArrowDown','drawCharAt','step','491710bsbmQY','next','dRow','value','eraseCharAt','willCrash','calories','randomCandy','steer','magenta','9AiwKxz','colCount','color','length','randomColor','11YaFzCT','Length:\x20','setStatusLine','head','cout-lines','Player\x20quit','intersects','glyph','metric','rowCount','col','ArrowUp','main-canvas','1552745AmQwrO','candy','34vIqLuX','2461432NpQdvp','.\x20Metric:\x20','white','dCol','cyan','tail','headIntersects'];a0_0x2580=function(){return _0x50e452;};return a0_0x2580();}class ListNode{constructor(_0x11cfb5,_0xfda367=null){const _0x2eb03b=a0_0x21798d;this[_0x2eb03b(0x126)]=_0x11cfb5,this['next']=_0xfda367;}}class LinkedList{constructor(){this['head']=null;}['pushFront'](_0x98f48d){const _0x5852cb=a0_0x21798d;this['head']=new ListNode(_0x98f48d,this[_0x5852cb(0x135)]);}[a0_0x21798d(0x10b)](){const _0x569549=a0_0x21798d;this[_0x569549(0x135)]&&(this[_0x569549(0x135)]=this[_0x569549(0x135)]['next']);}[a0_0x21798d(0x101)](_0x18c886){const _0x838bcc=a0_0x21798d,_0x31cbbc=this[_0x838bcc(0xf9)](),_0x2cc8c2=new ListNode(_0x18c886);_0x31cbbc?_0x31cbbc[_0x838bcc(0x124)]=_0x2cc8c2:this[_0x838bcc(0x135)]=_0x2cc8c2;}['popBack'](){const _0x263b54=a0_0x21798d,_0x20b015=this[_0x263b54(0xf9)]();if(_0x20b015){if(this[_0x263b54(0x135)]==_0x20b015)this['head']=null;else{let _0x10d2a7=this[_0x263b54(0x135)];while(_0x10d2a7[_0x263b54(0x124)]!=_0x20b015)_0x10d2a7=_0x10d2a7['next'];_0x10d2a7[_0x263b54(0x124)]=null;}}}[a0_0x21798d(0xf9)](){const _0x27522d=a0_0x21798d;let _0xd5733a=null;for(let _0x4349e5=this[_0x27522d(0x135)];_0x4349e5;_0x4349e5=_0x4349e5[_0x27522d(0x124)]){_0xd5733a=_0x4349e5;}return _0xd5733a;}['length'](){const _0x28ad50=a0_0x21798d;let _0x5261bc=0x0;for(let _0x3af711=this[_0x28ad50(0x135)];_0x3af711;_0x3af711=_0x3af711[_0x28ad50(0x124)]){_0x5261bc++;}return _0x5261bc;}}class Snake extends LinkedList{constructor(){const _0x5a60b3=a0_0x21798d;super(),this[_0x5a60b3(0x129)]=0x0,this['color']=_0x5a60b3(0xf6),this['glyph']='o',this['headGlyph']='@',this[_0x5a60b3(0x125)]=0x0,this['dCol']=0x1,this[_0x5a60b3(0x101)]({'row':0x5,'col':0x5}),this[_0x5a60b3(0x101)]({'row':0x5,'col':0x4}),this[_0x5a60b3(0x101)]({'row':0x5,'col':0x3});}[a0_0x21798d(0x128)](_0x56b278){const _0x181152=a0_0x21798d,_0x1781f7=this[_0x181152(0x135)]['value'][_0x181152(0xff)]+this[_0x181152(0x125)],_0xd975d8=this['head'][_0x181152(0x126)]['col']+this[_0x181152(0xf7)],_0x2ec051=_0x1781f7>=0x0&&_0x1781f7<_0x56b278[_0x181152(0x13b)]&&_0xd975d8>=0x0&&_0xd975d8<_0x56b278[_0x181152(0x12e)];return!_0x2ec051||this[_0x181152(0x138)](_0x1781f7,_0xd975d8);}[a0_0x21798d(0xfa)](_0x588840,_0x3df0ad){const _0x1ac31c=a0_0x21798d;return this['head'][_0x1ac31c(0x126)][_0x1ac31c(0xff)]==_0x588840&&this[_0x1ac31c(0x135)][_0x1ac31c(0x126)][_0x1ac31c(0x13c)]==_0x3df0ad;}[a0_0x21798d(0x138)](_0x12bdd7,_0x9dc14){const _0x5e0e97=a0_0x21798d;let _0x30b265=![],_0x2d6dc7=this[_0x5e0e97(0x135)];while(_0x2d6dc7){if(_0x2d6dc7[_0x5e0e97(0x126)]['row']==_0x12bdd7&&_0x2d6dc7[_0x5e0e97(0x126)][_0x5e0e97(0x13c)]==_0x9dc14){_0x30b265=!![];break;}_0x2d6dc7=_0x2d6dc7[_0x5e0e97(0x124)];}return _0x30b265;}[a0_0x21798d(0x10c)](_0x172ebf){const _0x1c2256=a0_0x21798d;let _0x477809=this[_0x1c2256(0x118)];for(let _0x1cef12=this[_0x1c2256(0x135)];_0x1cef12;_0x1cef12=_0x1cef12[_0x1c2256(0x124)]){_0x172ebf[_0x1c2256(0x121)](_0x1cef12['value'][_0x1c2256(0xff)],_0x1cef12[_0x1c2256(0x126)]['col'],_0x477809,this[_0x1c2256(0x12f)]),_0x477809=this[_0x1c2256(0x139)];}}[a0_0x21798d(0x12b)](_0x59fa63,_0x339820,_0x1b1bd1,_0x5790ae){const _0x2d56c0=a0_0x21798d;this[_0x2d56c0(0x125)]=0x0,this[_0x2d56c0(0xf7)]=0x0;switch(_0x59fa63){case _0x2d56c0(0x119):this[_0x2d56c0(0xf7)]=-0x1;break;case'ArrowRight':this[_0x2d56c0(0xf7)]=0x1;break;case'ArrowUp':this[_0x2d56c0(0x125)]=-0x1;break;case _0x2d56c0(0x120):this[_0x2d56c0(0x125)]=0x1;break;default:break;}}[a0_0x21798d(0x122)](_0x562d5f){const _0x752e54=a0_0x21798d;let _0x8f6411=this['head'][_0x752e54(0x126)]['row']+this[_0x752e54(0x125)],_0x592b0f=this[_0x752e54(0x135)][_0x752e54(0x126)][_0x752e54(0x13c)]+this[_0x752e54(0xf7)];_0x562d5f[_0x752e54(0x121)](this[_0x752e54(0x135)][_0x752e54(0x126)][_0x752e54(0xff)],this[_0x752e54(0x135)]['value'][_0x752e54(0x13c)],this['glyph'],this[_0x752e54(0x12f)]),this[_0x752e54(0x11f)]({'row':_0x8f6411,'col':_0x592b0f}),_0x562d5f['drawCharAt'](_0x8f6411,_0x592b0f,this[_0x752e54(0x118)],this[_0x752e54(0x12f)]);if(this[_0x752e54(0x129)]>0x0)this[_0x752e54(0x129)]--;else{const _0x555daa=this[_0x752e54(0xf9)]();_0x562d5f[_0x752e54(0x127)](_0x555daa['value'][_0x752e54(0xff)],_0x555daa[_0x752e54(0x126)][_0x752e54(0x13c)]),this['popBack']();}}['eat'](_0xeb7f92){const _0x468333=a0_0x21798d;this[_0x468333(0x129)]+=_0xeb7f92;}}class Candy{static[a0_0x21798d(0x10d)](){this['Random']=new RandANSI();}constructor(_0x5cd620){const _0x1b0615=a0_0x21798d;Object[_0x1b0615(0x108)](this,_0x5cd620);}static[a0_0x21798d(0x12a)](_0x33f355,_0x153afa,_0x9f99a3){const _0x50bf67=a0_0x21798d,{row:_0x420354,col:_0x18ec78}=this[_0x50bf67(0x114)](_0x33f355,_0x153afa,_0x9f99a3),_0x36eb4f=this[_0x50bf67(0x131)](),_0x1a4a2b=Candy[_0x50bf67(0x11c)][_0x50bf67(0x113)](0x1,0xa),_0x4191e4=''+_0x1a4a2b;return new Candy({'row':_0x420354,'col':_0x18ec78,'calories':_0x1a4a2b,'glyph':_0x4191e4,'color':_0x36eb4f});}static[a0_0x21798d(0x114)](_0x13bb8c,_0x2693f6,_0x24f533){const _0x22352d=a0_0x21798d;let _0x3d1e12,_0x267941;do{_0x3d1e12=Candy['Random'][_0x22352d(0x113)](0x0,_0x2693f6),_0x267941=Candy[_0x22352d(0x11c)][_0x22352d(0x113)](0x0,_0x24f533);}while(_0x13bb8c[_0x22352d(0x138)](_0x3d1e12,_0x267941));return{'row':_0x3d1e12,'col':_0x267941};}static[a0_0x21798d(0x131)](){const _0x68f35e=a0_0x21798d,_0x4f19ae=[_0x68f35e(0x11b),'lime','yellow',_0x68f35e(0xf8),_0x68f35e(0x12c),_0x68f35e(0x106),_0x68f35e(0xfd)];return _0x4f19ae[Candy[_0x68f35e(0x11c)][_0x68f35e(0x113)](0x0,_0x4f19ae[_0x68f35e(0x130)])];}[a0_0x21798d(0x11e)](_0x2d28d6){const _0x1e82c4=a0_0x21798d;_0x2d28d6['drawCharAt'](this['row'],this[_0x1e82c4(0x13c)],this[_0x1e82c4(0x139)],this['color']);}}class RandANSI{constructor(_0xa6da3c=0x1){this['seed']=_0xa6da3c;}[a0_0x21798d(0x105)](_0x48e450){this['seed']=_0x48e450;}[a0_0x21798d(0xfc)](){const _0x2cf40b=a0_0x21798d;return(this[_0x2cf40b(0x116)]=Number((BigInt(this[_0x2cf40b(0x116)])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}[a0_0x21798d(0x113)](_0xefa1b0,_0x4f52e3){const _0x1270c9=a0_0x21798d;return _0xefa1b0+this[_0x1270c9(0xfc)]()%(_0x4f52e3-_0xefa1b0);}}