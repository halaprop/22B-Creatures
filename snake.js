const a0_0x14d6b0=a0_0x4047;(function(_0x48e22b,_0x5d7a2d){const _0x30b972=a0_0x4047,_0x4783bd=_0x48e22b();while(!![]){try{const _0xbbb6e6=parseInt(_0x30b972(0xa7))/0x1+-parseInt(_0x30b972(0x7d))/0x2*(parseInt(_0x30b972(0x74))/0x3)+-parseInt(_0x30b972(0xbb))/0x4*(parseInt(_0x30b972(0xb0))/0x5)+-parseInt(_0x30b972(0xb3))/0x6+parseInt(_0x30b972(0x7f))/0x7*(-parseInt(_0x30b972(0x9a))/0x8)+parseInt(_0x30b972(0x97))/0x9+parseInt(_0x30b972(0x8d))/0xa;if(_0xbbb6e6===_0x5d7a2d)break;else _0x4783bd['push'](_0x4783bd['shift']());}catch(_0x5efce5){_0x4783bd['push'](_0x4783bd['shift']());}}}(a0_0x1193,0xbae3f));import{ConsoleGrid,Cout}from'./console-grid.js';function a0_0x4047(_0xad34b4,_0x78be65){const _0x119362=a0_0x1193();return a0_0x4047=function(_0x404701,_0x240f4){_0x404701=_0x404701-0x74;let _0x27a79e=_0x119362[_0x404701];return _0x27a79e;},a0_0x4047(_0xad34b4,_0x78be65);}export class SnakeApp{constructor(){const _0x504731=a0_0x4047,_0x579c9d={'canvas':document[_0x504731(0xb8)](_0x504731(0xae)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this['sleepTimeout']=0x64,this[_0x504731(0xb9)]=new ConsoleGrid(_0x579c9d);const _0x4501a6=document['getElementById'](_0x504731(0xbc));this[_0x504731(0x78)]=new Cout(_0x4501a6),this[_0x504731(0x90)]=0x0,this[_0x504731(0xba)]=![],this[_0x504731(0xa0)]=new Snake(),this[_0x504731(0xa0)][_0x504731(0xa4)](this[_0x504731(0xb9)]),Candy[_0x504731(0x85)](),this[_0x504731(0x82)]=Candy[_0x504731(0xa9)](this['snake'],this[_0x504731(0xb9)][_0x504731(0xac)],this[_0x504731(0xb9)][_0x504731(0x7a)]),this[_0x504731(0x82)][_0x504731(0x98)](this[_0x504731(0xb9)]),this['grid']['setStatusLine'](this[_0x504731(0xa3)]());}[a0_0x14d6b0(0x84)](){const _0x59ef93=a0_0x14d6b0,_0x2baa67=this[_0x59ef93(0x90)],_0x400d21=this[_0x59ef93(0xa0)][_0x59ef93(0xa8)]();return _0x2baa67==0x0?0x0:0x1*_0x400d21*_0x400d21/_0x2baa67;}['statusString'](_0x44ac71){const _0x2f0568=a0_0x14d6b0;let _0x54419d=_0x2f0568(0x77)+this['snake'][_0x2f0568(0xa8)]()+_0x2f0568(0xab)+this[_0x2f0568(0x90)]+_0x2f0568(0x81)+this[_0x2f0568(0x84)]()[_0x2f0568(0x75)](0x3);if(_0x44ac71)_0x54419d+='.\x20'+_0x44ac71;return _0x54419d;}[a0_0x14d6b0(0x9f)](_0x18bb22){const _0x43188d=a0_0x14d6b0;let _0x72291f='';switch(_0x18bb22){case _0x43188d(0x7b):case _0x43188d(0x8c):case _0x43188d(0x99):case'ArrowDown':this['snake'][_0x43188d(0x87)](_0x18bb22,this[_0x43188d(0xb9)],this[_0x43188d(0x82)][_0x43188d(0x7e)],this[_0x43188d(0x82)][_0x43188d(0x83)]);break;case'Q':case'q':this['gameOver']=!![];default:break;}!this[_0x43188d(0xba)]&&(this[_0x43188d(0xa0)][_0x43188d(0x9c)](this[_0x43188d(0xb9)])?(this[_0x43188d(0xba)]=!![],_0x72291f='Ouch,\x20my\x20nose!'):(this[_0x43188d(0xa0)][_0x43188d(0x92)](this[_0x43188d(0xb9)]),this[_0x43188d(0xa0)][_0x43188d(0xb6)](this[_0x43188d(0x82)]['row'],this[_0x43188d(0x82)][_0x43188d(0x83)])&&(this['snake'][_0x43188d(0xa5)](this[_0x43188d(0x82)][_0x43188d(0x9d)]),this['snake'][_0x43188d(0x8a)]=this[_0x43188d(0x82)][_0x43188d(0x8a)],this[_0x43188d(0xa0)][_0x43188d(0xa4)](this[_0x43188d(0xb9)]),this[_0x43188d(0x82)]=Candy[_0x43188d(0xa9)](this[_0x43188d(0xa0)],this[_0x43188d(0xb9)]['rowCount'],this[_0x43188d(0xb9)]['colCount']),this[_0x43188d(0x82)][_0x43188d(0x98)](this[_0x43188d(0xb9)]))),this[_0x43188d(0x90)]++,this[_0x43188d(0xb9)][_0x43188d(0xaa)](this['statusString'](_0x72291f))),this[_0x43188d(0xb9)][_0x43188d(0xaa)](this['statusString'](_0x72291f));}}class ListNode{constructor(_0x2afb3a,_0x4961a2=null){const _0x40dbef=a0_0x14d6b0;this[_0x40dbef(0x91)]=_0x2afb3a,this[_0x40dbef(0x80)]=_0x4961a2;}}function a0_0x1193(){const _0xb18058=['yellow','orange','color','ArrowDown','ArrowRight','27766690kNzSmg','dCol','Random','turnCount','value','step','popBack','head','setSeed','intersects','9220689DosKPp','draw','ArrowUp','8ByrsNI','pushFront','willCrash','calories','headGlyph','keydown','snake','dRow','randBetween','statusString','drawChars','eat','drawCharAt','1015282ijMUFI','length','randomCandy','setStatusLine','\x20Turns:\x20','rowCount','pushBack','main-canvas','red','25KIpFYU','rand','magenta','1219596yEKTTE','tail','randomPosition','headIntersects','popFront','getElementById','grid','gameOver','832316BehmmL','cout-lines','14946JwHLPC','toFixed','glyph','Length:\x20','cout','randomColor','colCount','ArrowLeft','seed','566GeAvDa','row','9781814wqazOv','next','.\x20Metric:\x20','candy','col','metric','seedRandom','white','steer'];a0_0x1193=function(){return _0xb18058;};return a0_0x1193();}class LinkedList{constructor(){this['head']=null;}[a0_0x14d6b0(0x9b)](_0x1bfebb){const _0x32888b=a0_0x14d6b0;this[_0x32888b(0x94)]=new ListNode(_0x1bfebb,this[_0x32888b(0x94)]);}[a0_0x14d6b0(0xb7)](){const _0x1712a2=a0_0x14d6b0;this[_0x1712a2(0x94)]&&(this[_0x1712a2(0x94)]=this[_0x1712a2(0x94)]['next']);}['pushBack'](_0x1bd978){const _0x1f310e=a0_0x14d6b0,_0x6bbd6d=this[_0x1f310e(0xb4)](),_0xaac350=new ListNode(_0x1bd978);_0x6bbd6d?_0x6bbd6d['next']=_0xaac350:this['head']=_0xaac350;}[a0_0x14d6b0(0x93)](){const _0x3bf614=a0_0x14d6b0,_0x34eb13=this['tail']();if(_0x34eb13){if(this['head']==_0x34eb13)this[_0x3bf614(0x94)]=null;else{let _0x31624c=this[_0x3bf614(0x94)];while(_0x31624c[_0x3bf614(0x80)]!=_0x34eb13)_0x31624c=_0x31624c[_0x3bf614(0x80)];_0x31624c[_0x3bf614(0x80)]=null;}}}[a0_0x14d6b0(0xb4)](){const _0x9a05ef=a0_0x14d6b0;let _0x4806c6=null;for(let _0x2a0fec=this[_0x9a05ef(0x94)];_0x2a0fec;_0x2a0fec=_0x2a0fec[_0x9a05ef(0x80)]){_0x4806c6=_0x2a0fec;}return _0x4806c6;}[a0_0x14d6b0(0xa8)](){const _0x38e450=a0_0x14d6b0;let _0x5eb379=0x0;for(let _0x3ce17b=this[_0x38e450(0x94)];_0x3ce17b;_0x3ce17b=_0x3ce17b[_0x38e450(0x80)]){_0x5eb379++;}return _0x5eb379;}}class Snake extends LinkedList{constructor(){const _0x4b2d6a=a0_0x14d6b0;super(),this[_0x4b2d6a(0x9d)]=0x0,this['color']=_0x4b2d6a(0x86),this[_0x4b2d6a(0x76)]='o',this[_0x4b2d6a(0x9e)]='@',this['dRow']=0x0,this[_0x4b2d6a(0x8e)]=0x1,this[_0x4b2d6a(0xad)]({'row':0x5,'col':0x5}),this[_0x4b2d6a(0xad)]({'row':0x5,'col':0x4}),this[_0x4b2d6a(0xad)]({'row':0x5,'col':0x3});}[a0_0x14d6b0(0x9c)](_0x5deb7a){const _0x44da81=a0_0x14d6b0,_0x2380b2=this[_0x44da81(0x94)][_0x44da81(0x91)]['row']+this[_0x44da81(0xa1)],_0x3bc789=this[_0x44da81(0x94)][_0x44da81(0x91)][_0x44da81(0x83)]+this[_0x44da81(0x8e)],_0x4e3774=_0x2380b2>=0x0&&_0x2380b2<_0x5deb7a[_0x44da81(0xac)]&&_0x3bc789>=0x0&&_0x3bc789<_0x5deb7a[_0x44da81(0x7a)];return!_0x4e3774||this[_0x44da81(0x96)](_0x2380b2,_0x3bc789);}[a0_0x14d6b0(0xb6)](_0x21c546,_0xdc8a62){const _0x1f0a05=a0_0x14d6b0;return this[_0x1f0a05(0x94)][_0x1f0a05(0x91)][_0x1f0a05(0x7e)]==_0x21c546&&this[_0x1f0a05(0x94)][_0x1f0a05(0x91)][_0x1f0a05(0x83)]==_0xdc8a62;}[a0_0x14d6b0(0x96)](_0x560c23,_0x38cafd){const _0x5be9df=a0_0x14d6b0;let _0x339948=![],_0x3d5d53=this[_0x5be9df(0x94)];while(_0x3d5d53){if(_0x3d5d53[_0x5be9df(0x91)][_0x5be9df(0x7e)]==_0x560c23&&_0x3d5d53[_0x5be9df(0x91)][_0x5be9df(0x83)]==_0x38cafd){_0x339948=!![];break;}_0x3d5d53=_0x3d5d53['next'];}return _0x339948;}[a0_0x14d6b0(0xa4)](_0xfb016){const _0x2c2631=a0_0x14d6b0;let _0x5686d5=this[_0x2c2631(0x9e)];for(let _0x74fcb2=this[_0x2c2631(0x94)];_0x74fcb2;_0x74fcb2=_0x74fcb2[_0x2c2631(0x80)]){_0xfb016[_0x2c2631(0xa6)](_0x74fcb2[_0x2c2631(0x91)]['row'],_0x74fcb2[_0x2c2631(0x91)][_0x2c2631(0x83)],_0x5686d5,this['color']),_0x5686d5=this['glyph'];}}[a0_0x14d6b0(0x87)](_0x52bee7,_0x1853c3,_0x93473d,_0x5815c7){const _0x582c98=a0_0x14d6b0;this[_0x582c98(0xa1)]=0x0,this['dCol']=0x0;switch(_0x52bee7){case _0x582c98(0x7b):this[_0x582c98(0x8e)]=-0x1;break;case _0x582c98(0x8c):this[_0x582c98(0x8e)]=0x1;break;case _0x582c98(0x99):this[_0x582c98(0xa1)]=-0x1;break;case _0x582c98(0x8b):this[_0x582c98(0xa1)]=0x1;break;default:break;}}[a0_0x14d6b0(0x92)](_0x4bb1fc){const _0x1871d0=a0_0x14d6b0;let _0x40b451=this[_0x1871d0(0x94)][_0x1871d0(0x91)]['row']+this[_0x1871d0(0xa1)],_0x329229=this['head'][_0x1871d0(0x91)][_0x1871d0(0x83)]+this[_0x1871d0(0x8e)];_0x4bb1fc[_0x1871d0(0xa6)](this[_0x1871d0(0x94)]['value'][_0x1871d0(0x7e)],this[_0x1871d0(0x94)][_0x1871d0(0x91)][_0x1871d0(0x83)],this[_0x1871d0(0x76)],this['color']),this['pushFront']({'row':_0x40b451,'col':_0x329229}),_0x4bb1fc[_0x1871d0(0xa6)](_0x40b451,_0x329229,this[_0x1871d0(0x9e)],this[_0x1871d0(0x8a)]);if(this[_0x1871d0(0x9d)]>0x0)this['calories']--;else{const _0x4cd41d=this['tail']();_0x4bb1fc['eraseCharAt'](_0x4cd41d[_0x1871d0(0x91)][_0x1871d0(0x7e)],_0x4cd41d[_0x1871d0(0x91)][_0x1871d0(0x83)]),this[_0x1871d0(0x93)]();}}['eat'](_0x1cc11f){this['calories']+=_0x1cc11f;}}class Candy{static['seedRandom'](){this['Random']=new RandANSI();}constructor(_0x57dda0){Object['assign'](this,_0x57dda0);}static[a0_0x14d6b0(0xa9)](_0x3eed57,_0x2dbe76,_0x381f96){const _0x584962=a0_0x14d6b0,{row:_0x4eb805,col:_0x5aff36}=this[_0x584962(0xb5)](_0x3eed57,_0x2dbe76,_0x381f96),_0x46a951=this[_0x584962(0x79)](),_0x1624e6=Candy['Random'][_0x584962(0xa2)](0x1,0xa),_0x12dc36=''+_0x1624e6;return new Candy({'row':_0x4eb805,'col':_0x5aff36,'calories':_0x1624e6,'glyph':_0x12dc36,'color':_0x46a951});}static['randomPosition'](_0x4b602a,_0x20182e,_0x1ed035){const _0x1711fe=a0_0x14d6b0;let _0x2c813e,_0x2c19ce;do{_0x2c813e=Candy[_0x1711fe(0x8f)][_0x1711fe(0xa2)](0x0,_0x20182e),_0x2c19ce=Candy['Random'][_0x1711fe(0xa2)](0x0,_0x1ed035);}while(_0x4b602a[_0x1711fe(0x96)](_0x2c813e,_0x2c19ce));return{'row':_0x2c813e,'col':_0x2c19ce};}static[a0_0x14d6b0(0x79)](){const _0x1686c8=a0_0x14d6b0,_0x55b3f5=[_0x1686c8(0xaf),'lime',_0x1686c8(0x88),'cyan',_0x1686c8(0xb2),_0x1686c8(0x89),'pink'];return _0x55b3f5[Candy[_0x1686c8(0x8f)][_0x1686c8(0xa2)](0x0,_0x55b3f5[_0x1686c8(0xa8)])];}['draw'](_0x249479){const _0x4211cc=a0_0x14d6b0;_0x249479[_0x4211cc(0xa6)](this[_0x4211cc(0x7e)],this[_0x4211cc(0x83)],this[_0x4211cc(0x76)],this[_0x4211cc(0x8a)]);}}class RandANSI{constructor(_0x4545a9=0x1){this['seed']=_0x4545a9;}[a0_0x14d6b0(0x95)](_0x8ac8a2){this['seed']=_0x8ac8a2;}[a0_0x14d6b0(0xb1)](){const _0x2bf821=a0_0x14d6b0;return(this[_0x2bf821(0x7c)]=Number((BigInt(this['seed'])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}['randBetween'](_0x2f4fc0,_0x4ae406){const _0x4e631f=a0_0x14d6b0;return _0x2f4fc0+this[_0x4e631f(0xb1)]()%(_0x4ae406-_0x2f4fc0);}}