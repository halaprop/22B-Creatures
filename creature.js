const a0_0x1c5495=a0_0x2a46;function a0_0x152a(){const _0x579a49=['ArrowRight','main-canvas','gameOver','colCount','find','name','669306FAQmZT','takeTurn','crimson','Lynx','Raccoon','grid','Turn\x20','Fox','addCreaturesFromFile','3642Odfnqa','chartreuse','Hedgehog','Squirrel','\x20cals.\x20','turnCount','creatureCount','resting','Deer','<br>','.\x20Player\x20has\x20','creatures','erase','col','statusString','679644GVWZxk','initialCalories','246272QzHNIf','positionEquals','length','Porcupine','getElementById','green','creatureAtPosition','assign','writeLine','dRow','deepskyblue','220144eaIoJk','Mouse','map','gold','rest','filter','cout-lines','drawCharAt','Badger','rowCount','keydown','1841yCMwiI','draw','creatureList','Rabbit','dodgerblue','forEach','ArrowLeft','1270600idyPxT','kCaloriesConsumedPerMove','Skunk','402136mpgEMB','cout','dCol','glyph','padEnd','row','ArrowDown','toString','cyan','kCaloriesGainedPerRest','calories','padStart','contestStatus','playerCol','takeTurns','kInitialPlayerCalories','move','eraseCharAt','playerRow','removeCreature','playerCalories','Owl','ArrowUp'];a0_0x152a=function(){return _0x579a49;};return a0_0x152a();}function a0_0x2a46(_0x221b36,_0x2d1c2b){const _0x152abe=a0_0x152a();return a0_0x2a46=function(_0x2a467a,_0x55b44c){_0x2a467a=_0x2a467a-0x9e;let _0x3c86eb=_0x152abe[_0x2a467a];return _0x3c86eb;},a0_0x2a46(_0x221b36,_0x2d1c2b);}(function(_0xa5a5c,_0x207d1c){const _0x21ce9a=a0_0x2a46,_0x56bbea=_0xa5a5c();while(!![]){try{const _0x2a250a=-parseInt(_0x21ce9a(0xe9))/0x1+parseInt(_0x21ce9a(0xaf))/0x2+parseInt(_0x21ce9a(0xc7))/0x3+-parseInt(_0x21ce9a(0xc9))/0x4+parseInt(_0x21ce9a(0xe6))/0x5+-parseInt(_0x21ce9a(0xb8))/0x6*(parseInt(_0x21ce9a(0xdf))/0x7)+parseInt(_0x21ce9a(0xd4))/0x8;if(_0x2a250a===_0x207d1c)break;else _0x56bbea['push'](_0x56bbea['shift']());}catch(_0x5c0d68){_0x56bbea['push'](_0x56bbea['shift']());}}}(a0_0x152a,0x35966));import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x1c5495(0xa1)]=0x78;static [a0_0x1c5495(0xe7)]=0x5;constructor(){const _0x1c53c0=a0_0x1c5495,_0x565445={'canvas':document[_0x1c53c0(0xcd)](_0x1c53c0(0xaa)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this['sleepTimeout']=0x64,this[_0x1c53c0(0xb4)]=new ConsoleGrid(_0x565445);const _0x20e747=document['getElementById'](_0x1c53c0(0xda));this[_0x1c53c0(0xea)]=new Cout(_0x20e747),this[_0x1c53c0(0xa4)]=0x5,this[_0x1c53c0(0x9f)]=0x5,this[_0x1c53c0(0xa6)]=CreaturesApp['kInitialPlayerCalories'],this['turnCount']=0x0,this[_0x1c53c0(0xab)]=![],this['creatureList']=new CreatureList(),this['creatureList'][_0x1c53c0(0xb7)](),this[_0x1c53c0(0xe1)][_0x1c53c0(0xe0)](this[_0x1c53c0(0xb4)]),this['grid'][_0x1c53c0(0xdb)](this[_0x1c53c0(0xa4)],this[_0x1c53c0(0x9f)],'@','white'),this[_0x1c53c0(0xb4)]['setStatusLine'](this[_0x1c53c0(0xc6)](this[_0x1c53c0(0xa6)],'')),this[_0x1c53c0(0xea)][_0x1c53c0(0xd1)](this['creatureList']['toString']());}[a0_0x1c5495(0xc6)](_0x5f0337,_0x1f5f5e){const _0x53e98a=a0_0x1c5495;return _0x53e98a(0xb5)+this[_0x53e98a(0xbd)]+_0x53e98a(0xc2)+_0x5f0337+_0x53e98a(0xbc)+_0x1f5f5e;}[a0_0x1c5495(0xde)](_0x8c7f76){const _0x2e6c06=a0_0x1c5495;if(this['gameOver'])return;let _0x27841a=![],_0x5a303f='';this[_0x2e6c06(0xe1)][_0x2e6c06(0xc4)](this[_0x2e6c06(0xb4)]),this[_0x2e6c06(0xb4)][_0x2e6c06(0xa3)](this['playerRow'],this[_0x2e6c06(0x9f)]);switch(_0x8c7f76){case _0x2e6c06(0xa8):this[_0x2e6c06(0xa4)]>0x0&&(_0x27841a=!![],this['playerRow']--);break;case _0x2e6c06(0xef):this[_0x2e6c06(0xa4)]+0x1<this['grid'][_0x2e6c06(0xdd)]&&(_0x27841a=!![],this[_0x2e6c06(0xa4)]++);break;case _0x2e6c06(0xe5):this['playerCol']>0x0&&(_0x27841a=!![],this[_0x2e6c06(0x9f)]--);break;case _0x2e6c06(0xa9):this[_0x2e6c06(0x9f)]+0x1<this['grid'][_0x2e6c06(0xac)]&&(_0x27841a=!![],this['playerCol']++);break;case'Q':case'q':this[_0x2e6c06(0xab)]=!![];break;default:break;}if(!this[_0x2e6c06(0xab)]){_0x27841a&&(this[_0x2e6c06(0xa6)]-=CreaturesApp[_0x2e6c06(0xe7)]);this[_0x2e6c06(0xe1)][_0x2e6c06(0xa0)](this[_0x2e6c06(0xb4)]['rowCount'],this[_0x2e6c06(0xb4)][_0x2e6c06(0xac)]);let _0xe3a3dd=this[_0x2e6c06(0xe1)][_0x2e6c06(0xcf)](this['playerRow'],this['playerCol']);_0xe3a3dd&&(_0x5a303f='Ate\x20the\x20'+_0xe3a3dd['name'],this[_0x2e6c06(0xa6)]+=_0xe3a3dd[_0x2e6c06(0xf3)],this[_0x2e6c06(0xe1)]['removeCreature'](_0xe3a3dd),this[_0x2e6c06(0xe1)][_0x2e6c06(0xbe)]()==0x0&&(_0x5a303f='Having\x20eaten\x20everything,\x20player\x20wins!',this['gameOver']=!![])),this[_0x2e6c06(0xa6)]<=0x0&&(_0x5a303f='Having\x20starved,\x20player\x20dies.',this[_0x2e6c06(0xab)]=!![]),this['turnCount']++;}this[_0x2e6c06(0xe1)][_0x2e6c06(0xe0)](this[_0x2e6c06(0xb4)]),this[_0x2e6c06(0xb4)]['drawCharAt'](this[_0x2e6c06(0xa4)],this[_0x2e6c06(0x9f)],'@','white'),this[_0x2e6c06(0xb4)]['setStatusLine'](this[_0x2e6c06(0xc6)](this[_0x2e6c06(0xa6)],_0x5a303f)),this[_0x2e6c06(0xea)][_0x2e6c06(0xd1)](this[_0x2e6c06(0xe1)][_0x2e6c06(0xf0)]());}[a0_0x1c5495(0x9e)](){const _0x56ecda=a0_0x1c5495,_0x5c7d3f=this['turnCount'],_0x1739b7=this[_0x56ecda(0xa6)],_0x686a74=this[_0x56ecda(0xe1)]['creatureCount']();return{'turnCount':_0x5c7d3f,'calories':_0x1739b7,'creatureCount':_0x686a74};}}class Creature{constructor(_0x30f980){const _0x2332f0=a0_0x1c5495;Object[_0x2332f0(0xd0)](this,_0x30f980),this[_0x2332f0(0xc8)]=this['calories'];}static [a0_0x1c5495(0xe7)]=0x5;static ['kCaloriesGainedPerMeal']=0x3c;static ['kCaloriesGainedPerRest']=0x5;['positionEquals'](_0xac3083,_0x2d9b1c){const _0x2746a0=a0_0x1c5495;return this[_0x2746a0(0xee)]==_0xac3083&&this[_0x2746a0(0xc5)]==_0x2d9b1c;}[a0_0x1c5495(0xb0)](_0x4389af,_0xc9939a){const _0x2d496a=a0_0x1c5495;this[_0x2d496a(0xbf)]?this[_0x2d496a(0xd8)]():this[_0x2d496a(0xa2)](_0x4389af,_0xc9939a);}[a0_0x1c5495(0xa2)](_0x1ff2e5,_0x5385f3){const _0x198d87=a0_0x1c5495;let _0xcc7d14=this[_0x198d87(0xee)]+this[_0x198d87(0xd2)];(_0xcc7d14<0x0||_0xcc7d14>=_0x1ff2e5)&&(this[_0x198d87(0xd2)]*=-0x1,_0xcc7d14=this['row']+this[_0x198d87(0xd2)]);let _0x495dcc=this[_0x198d87(0xc5)]+this['dCol'];(_0x495dcc<0x0||_0x495dcc>=_0x5385f3)&&(this[_0x198d87(0xeb)]*=-0x1,_0x495dcc=this[_0x198d87(0xc5)]+this['dCol']),(this[_0x198d87(0xee)]!=_0xcc7d14||this[_0x198d87(0xc5)]!=_0x495dcc)&&(this[_0x198d87(0xee)]=_0xcc7d14,this['col']=_0x495dcc,this['calories']-=Creature[_0x198d87(0xe7)],this['calories']<=0x0&&(this[_0x198d87(0xbf)]=!![]));}[a0_0x1c5495(0xd8)](){const _0x7541c=a0_0x1c5495;this[_0x7541c(0xf3)]+=Creature[_0x7541c(0xf2)],this[_0x7541c(0xf3)]>0.75*this['initialCalories']&&(this['resting']=![]);}[a0_0x1c5495(0xe0)](_0x271605){const _0x1a249d=a0_0x1c5495;_0x271605['drawCharAt'](this[_0x1a249d(0xee)],this[_0x1a249d(0xc5)],this[_0x1a249d(0xec)],this['color']);}[a0_0x1c5495(0xc4)](_0x5da9aa){const _0x33c75e=a0_0x1c5495;_0x5da9aa[_0x33c75e(0xa3)](this[_0x33c75e(0xee)],this[_0x33c75e(0xc5)]);}[a0_0x1c5495(0xf0)](){const _0x878d22=a0_0x1c5495;return this[_0x878d22(0xae)][_0x878d22(0xed)](0xa)+'\x20('+this[_0x878d22(0xec)]+')\x20'+this[_0x878d22(0xf3)][_0x878d22(0xf0)]()[_0x878d22(0xf4)](0x4);}}class CreatureList{constructor(){}[a0_0x1c5495(0xb7)](){const _0x36c864=a0_0x1c5495,_0x3fa0ea=[{'name':_0x36c864(0xd5),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':'aqua'},{'name':_0x36c864(0xe2),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x36c864(0xce)},{'name':'Boar','glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':'yellow'},{'name':_0x36c864(0xbb),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':'violet'},{'name':_0x36c864(0xc0),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':'magenta'},{'name':_0x36c864(0xb6),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':'orange'},{'name':_0x36c864(0xb3),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x36c864(0xb1)},{'name':_0x36c864(0xa7),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x36c864(0xd3)},{'name':_0x36c864(0xba),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x36c864(0xb9)},{'name':_0x36c864(0xdc),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x36c864(0xd7)},{'name':_0x36c864(0xcc),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':'tomato'},{'name':_0x36c864(0xe8),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x36c864(0xf1)},{'name':_0x36c864(0xb2),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x36c864(0xe3)},{'name':'Falcon','glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':'orangered'}];this[_0x36c864(0xc3)]=_0x3fa0ea[_0x36c864(0xd6)](_0x2c839c=>new Creature(_0x2c839c));}[a0_0x1c5495(0xe0)](_0x98e9d2){const _0x3ca9db=a0_0x1c5495;this[_0x3ca9db(0xc3)][_0x3ca9db(0xe4)](_0x304f57=>_0x304f57[_0x3ca9db(0xe0)](_0x98e9d2));}['erase'](_0x3fe549){const _0x4705b5=a0_0x1c5495;this['creatures'][_0x4705b5(0xe4)](_0x54346e=>_0x54346e[_0x4705b5(0xc4)](_0x3fe549));}[a0_0x1c5495(0xa0)](_0x44e16b,_0xed5cc2){const _0x288865=a0_0x1c5495;this[_0x288865(0xc3)][_0x288865(0xe4)](_0x41c9a4=>_0x41c9a4[_0x288865(0xb0)](_0x44e16b,_0xed5cc2));}[a0_0x1c5495(0xcf)](_0x249d56,_0x3206b2){const _0x1ae68d=a0_0x1c5495;return this[_0x1ae68d(0xc3)][_0x1ae68d(0xad)](_0x4118f1=>_0x4118f1[_0x1ae68d(0xca)](_0x249d56,_0x3206b2));}[a0_0x1c5495(0xa5)](_0x3be91e){const _0x3a1217=a0_0x1c5495;this[_0x3a1217(0xc3)]=this[_0x3a1217(0xc3)][_0x3a1217(0xd9)](_0xf97572=>_0xf97572!=_0x3be91e);}[a0_0x1c5495(0xbe)](){const _0x4c7583=a0_0x1c5495;return this[_0x4c7583(0xc3)][_0x4c7583(0xcb)];}[a0_0x1c5495(0xf0)](){const _0x4bfdef=a0_0x1c5495;return this[_0x4bfdef(0xc3)][_0x4bfdef(0xd6)](_0xf67fd8=>_0xf67fd8[_0x4bfdef(0xf0)]())['join'](_0x4bfdef(0xc1));}}