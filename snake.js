const a0_0x1c59df=a0_0x362b;(function(_0x372584,_0x3e337f){const _0x48d8e0=a0_0x362b,_0x4a5708=_0x372584();while(!![]){try{const _0x2e5100=-parseInt(_0x48d8e0(0x12c))/0x1*(-parseInt(_0x48d8e0(0x132))/0x2)+parseInt(_0x48d8e0(0x164))/0x3+parseInt(_0x48d8e0(0x13e))/0x4*(parseInt(_0x48d8e0(0x13b))/0x5)+parseInt(_0x48d8e0(0x13c))/0x6*(-parseInt(_0x48d8e0(0x14c))/0x7)+parseInt(_0x48d8e0(0x16b))/0x8*(-parseInt(_0x48d8e0(0x155))/0x9)+parseInt(_0x48d8e0(0x165))/0xa*(parseInt(_0x48d8e0(0x130))/0xb)+-parseInt(_0x48d8e0(0x14e))/0xc;if(_0x2e5100===_0x3e337f)break;else _0x4a5708['push'](_0x4a5708['shift']());}catch(_0x25cec5){_0x4a5708['push'](_0x4a5708['shift']());}}}(a0_0x2c83,0x30ad7));function a0_0x2c83(){const _0x497e84=['pink','ArrowLeft','eat','headIntersects','head','Length:\x20','value','4241trHSkH','rowCount','cyan','snake','33IFUUFr','yellow','34NjlhSv','length','glyph','pushBack','color','pushFront','Ouch,\x20my\x20nose!','drawCharAt','dRow','25hchIar','1644WwmwKE','metric','117772wLTkZa','calories','next','candy','keydown','cout','statusString','randBetween','setSeed','colCount','headGlyph','popBack','dCol','grid','1687DaQVtO','setStatusLine','4268712umuMiA','white','gameOver','seed','toFixed','cout-lines','intersects','1898379EDEgci','sleepTimeout','\x20Turns:\x20','drawChars','lime','eraseCharAt','draw','randomCandy','rand','row','ArrowUp','turnCount','seedRandom','tail','Random','962919bJgVDS','972630ksYEDL','red','ArrowRight','assign','col','randomPosition','8OjsuLF','randomColor','willCrash','getElementById','popFront','.\x20Metric:\x20','steer','orange'];a0_0x2c83=function(){return _0x497e84;};return a0_0x2c83();}import{ConsoleGrid,Cout}from'./console-grid.js';export class SnakeApp{constructor(){const _0x7d917c=a0_0x362b,_0x32f541={'canvas':document['getElementById']('main-canvas'),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x7d917c(0x156)]=0x64,this[_0x7d917c(0x14b)]=new ConsoleGrid(_0x32f541);const _0x19e763=document[_0x7d917c(0x16e)](_0x7d917c(0x153));this[_0x7d917c(0x143)]=new Cout(_0x19e763),this[_0x7d917c(0x160)]=0x0,this[_0x7d917c(0x150)]=![],this[_0x7d917c(0x12f)]=new Snake(),this[_0x7d917c(0x12f)][_0x7d917c(0x158)](this[_0x7d917c(0x14b)]),Candy[_0x7d917c(0x161)](),this['candy']=Candy['randomCandy'](this[_0x7d917c(0x12f)],this['grid'][_0x7d917c(0x12d)],this[_0x7d917c(0x14b)]['colCount']),this[_0x7d917c(0x141)]['draw'](this[_0x7d917c(0x14b)]),this['grid']['setStatusLine'](this['statusString']());}[a0_0x1c59df(0x13d)](){const _0x237fb4=a0_0x1c59df,_0x3594be=this[_0x237fb4(0x160)],_0x4eb285=this[_0x237fb4(0x12f)][_0x237fb4(0x133)]();return _0x3594be==0x0?0x0:0x1*_0x4eb285*_0x4eb285/_0x3594be;}[a0_0x1c59df(0x144)](_0x24b36c){const _0x24d1fe=a0_0x1c59df;let _0x28dd09=_0x24d1fe(0x12a)+this[_0x24d1fe(0x12f)][_0x24d1fe(0x133)]()+_0x24d1fe(0x157)+this['turnCount']+_0x24d1fe(0x170)+this[_0x24d1fe(0x13d)]()[_0x24d1fe(0x152)](0x3);if(_0x24b36c)_0x28dd09+='.\x20'+_0x24b36c;return _0x28dd09;}[a0_0x1c59df(0x142)](_0x2f8097){const _0x1bc4b2=a0_0x1c59df;let _0x45635b='';switch(_0x2f8097){case _0x1bc4b2(0x174):case _0x1bc4b2(0x167):case _0x1bc4b2(0x15f):case'ArrowDown':this[_0x1bc4b2(0x12f)][_0x1bc4b2(0x171)](_0x2f8097,this['grid'],this[_0x1bc4b2(0x141)][_0x1bc4b2(0x15e)],this[_0x1bc4b2(0x141)][_0x1bc4b2(0x169)]);break;case'Q':case'q':this[_0x1bc4b2(0x150)]=!![];default:break;}!this[_0x1bc4b2(0x150)]&&(this['snake'][_0x1bc4b2(0x16d)](this[_0x1bc4b2(0x14b)])?(this['gameOver']=!![],_0x45635b=_0x1bc4b2(0x138)):(this[_0x1bc4b2(0x12f)]['step'](this[_0x1bc4b2(0x14b)]),this[_0x1bc4b2(0x12f)]['headIntersects'](this[_0x1bc4b2(0x141)][_0x1bc4b2(0x15e)],this['candy']['col'])&&(this['snake'][_0x1bc4b2(0x175)](this[_0x1bc4b2(0x141)][_0x1bc4b2(0x13f)]),this[_0x1bc4b2(0x12f)][_0x1bc4b2(0x136)]=this['candy'][_0x1bc4b2(0x136)],this['snake'][_0x1bc4b2(0x158)](this[_0x1bc4b2(0x14b)]),this[_0x1bc4b2(0x141)]=Candy[_0x1bc4b2(0x15c)](this[_0x1bc4b2(0x12f)],this[_0x1bc4b2(0x14b)]['rowCount'],this[_0x1bc4b2(0x14b)][_0x1bc4b2(0x147)]),this[_0x1bc4b2(0x141)][_0x1bc4b2(0x15b)](this[_0x1bc4b2(0x14b)]))),this[_0x1bc4b2(0x160)]++,this['grid'][_0x1bc4b2(0x14d)](this[_0x1bc4b2(0x144)](_0x45635b))),this[_0x1bc4b2(0x14b)][_0x1bc4b2(0x14d)](this[_0x1bc4b2(0x144)](_0x45635b));}}class ListNode{constructor(_0xf8aaae,_0xd78a15=null){const _0x29d3a3=a0_0x1c59df;this[_0x29d3a3(0x12b)]=_0xf8aaae,this[_0x29d3a3(0x140)]=_0xd78a15;}}class LinkedList{constructor(){this['head']=null;}[a0_0x1c59df(0x137)](_0x686832){const _0x23b535=a0_0x1c59df;this['head']=new ListNode(_0x686832,this[_0x23b535(0x129)]);}[a0_0x1c59df(0x16f)](){const _0x1fad1c=a0_0x1c59df;this['head']&&(this[_0x1fad1c(0x129)]=this['head']['next']);}[a0_0x1c59df(0x135)](_0x48ddef){const _0x474121=a0_0x1c59df,_0x362bd4=this[_0x474121(0x162)](),_0x34a994=new ListNode(_0x48ddef);_0x362bd4?_0x362bd4[_0x474121(0x140)]=_0x34a994:this['head']=_0x34a994;}[a0_0x1c59df(0x149)](){const _0x5c5c89=a0_0x1c59df,_0x45d490=this[_0x5c5c89(0x162)]();if(_0x45d490){if(this['head']==_0x45d490)this[_0x5c5c89(0x129)]=null;else{let _0x3edfd6=this[_0x5c5c89(0x129)];while(_0x3edfd6['next']!=_0x45d490)_0x3edfd6=_0x3edfd6[_0x5c5c89(0x140)];_0x3edfd6[_0x5c5c89(0x140)]=null;}}}['tail'](){const _0x35c8ae=a0_0x1c59df;let _0x5c056a=null;for(let _0x9dc51a=this[_0x35c8ae(0x129)];_0x9dc51a;_0x9dc51a=_0x9dc51a[_0x35c8ae(0x140)]){_0x5c056a=_0x9dc51a;}return _0x5c056a;}[a0_0x1c59df(0x133)](){const _0x38aa55=a0_0x1c59df;let _0x248c72=0x0;for(let _0x813506=this['head'];_0x813506;_0x813506=_0x813506[_0x38aa55(0x140)]){_0x248c72++;}return _0x248c72;}}class Snake extends LinkedList{constructor(){const _0x45531a=a0_0x1c59df;super(),this[_0x45531a(0x13f)]=0x0,this[_0x45531a(0x136)]=_0x45531a(0x14f),this[_0x45531a(0x134)]='o',this[_0x45531a(0x148)]='@',this[_0x45531a(0x13a)]=0x0,this[_0x45531a(0x14a)]=0x1,this[_0x45531a(0x135)]({'row':0x5,'col':0x5}),this[_0x45531a(0x135)]({'row':0x5,'col':0x4}),this[_0x45531a(0x135)]({'row':0x5,'col':0x3});}['willCrash'](_0x25bcc8){const _0x25e84b=a0_0x1c59df,_0x414843=this[_0x25e84b(0x129)]['value'][_0x25e84b(0x15e)]+this[_0x25e84b(0x13a)],_0x2f36dd=this[_0x25e84b(0x129)][_0x25e84b(0x12b)]['col']+this['dCol'],_0x570c9f=_0x414843>=0x0&&_0x414843<_0x25bcc8[_0x25e84b(0x12d)]&&_0x2f36dd>=0x0&&_0x2f36dd<_0x25bcc8[_0x25e84b(0x147)];return!_0x570c9f||this['intersects'](_0x414843,_0x2f36dd);}[a0_0x1c59df(0x128)](_0x4f0a3b,_0x43c7e9){const _0x1fb65d=a0_0x1c59df;return this[_0x1fb65d(0x129)][_0x1fb65d(0x12b)][_0x1fb65d(0x15e)]==_0x4f0a3b&&this[_0x1fb65d(0x129)][_0x1fb65d(0x12b)][_0x1fb65d(0x169)]==_0x43c7e9;}['intersects'](_0xe39383,_0x8daf42){const _0x4cbb03=a0_0x1c59df;let _0x193555=![],_0x596f48=this[_0x4cbb03(0x129)];while(_0x596f48){if(_0x596f48[_0x4cbb03(0x12b)][_0x4cbb03(0x15e)]==_0xe39383&&_0x596f48[_0x4cbb03(0x12b)][_0x4cbb03(0x169)]==_0x8daf42){_0x193555=!![];break;}_0x596f48=_0x596f48[_0x4cbb03(0x140)];}return _0x193555;}[a0_0x1c59df(0x158)](_0x2d00a8){const _0x36159d=a0_0x1c59df;let _0x37ee86=this['headGlyph'];for(let _0x3f32af=this[_0x36159d(0x129)];_0x3f32af;_0x3f32af=_0x3f32af[_0x36159d(0x140)]){_0x2d00a8['drawCharAt'](_0x3f32af[_0x36159d(0x12b)][_0x36159d(0x15e)],_0x3f32af['value'][_0x36159d(0x169)],_0x37ee86,this[_0x36159d(0x136)]),_0x37ee86=this['glyph'];}}[a0_0x1c59df(0x171)](_0x2b45aa,_0x2fb1e7,_0x3eb0bd,_0x1a9cc1){const _0x245132=a0_0x1c59df;this[_0x245132(0x13a)]=0x0,this['dCol']=0x0;switch(_0x2b45aa){case _0x245132(0x174):this[_0x245132(0x14a)]=-0x1;break;case _0x245132(0x167):this[_0x245132(0x14a)]=0x1;break;case'ArrowUp':this['dRow']=-0x1;break;case'ArrowDown':this['dRow']=0x1;break;default:break;}}['step'](_0x1a84be){const _0x1aabee=a0_0x1c59df;let _0x2cc17b=this[_0x1aabee(0x129)][_0x1aabee(0x12b)]['row']+this['dRow'],_0x44676e=this[_0x1aabee(0x129)][_0x1aabee(0x12b)]['col']+this[_0x1aabee(0x14a)];_0x1a84be[_0x1aabee(0x139)](this['head'][_0x1aabee(0x12b)][_0x1aabee(0x15e)],this[_0x1aabee(0x129)]['value'][_0x1aabee(0x169)],this[_0x1aabee(0x134)],this[_0x1aabee(0x136)]),this[_0x1aabee(0x137)]({'row':_0x2cc17b,'col':_0x44676e}),_0x1a84be['drawCharAt'](_0x2cc17b,_0x44676e,this[_0x1aabee(0x148)],this[_0x1aabee(0x136)]);if(this[_0x1aabee(0x13f)]>0x0)this[_0x1aabee(0x13f)]--;else{const _0x23daec=this['tail']();_0x1a84be[_0x1aabee(0x15a)](_0x23daec['value']['row'],_0x23daec[_0x1aabee(0x12b)][_0x1aabee(0x169)]),this['popBack']();}}[a0_0x1c59df(0x175)](_0x5051e3){this['calories']+=_0x5051e3;}}class Candy{static[a0_0x1c59df(0x161)](){const _0x519e71=a0_0x1c59df;this[_0x519e71(0x163)]=new RandANSI();}constructor(_0x522704){const _0x384771=a0_0x1c59df;Object[_0x384771(0x168)](this,_0x522704);}static['randomCandy'](_0x161899,_0x179c7a,_0x36f694){const _0x3c5a90=a0_0x1c59df,{row:_0x23674c,col:_0x5673ff}=this[_0x3c5a90(0x16a)](_0x161899,_0x179c7a,_0x36f694),_0x3e9e3d=this['randomColor'](),_0x2e2116=Candy[_0x3c5a90(0x163)][_0x3c5a90(0x145)](0x1,0xa),_0x263f95=''+_0x2e2116;return new Candy({'row':_0x23674c,'col':_0x5673ff,'calories':_0x2e2116,'glyph':_0x263f95,'color':_0x3e9e3d});}static[a0_0x1c59df(0x16a)](_0x35d3e2,_0x277092,_0x5f172f){const _0x3209c0=a0_0x1c59df;let _0x2c5bd0,_0x2c7dfc;do{_0x2c5bd0=Candy[_0x3209c0(0x163)][_0x3209c0(0x145)](0x0,_0x277092),_0x2c7dfc=Candy['Random'][_0x3209c0(0x145)](0x0,_0x5f172f);}while(_0x35d3e2[_0x3209c0(0x154)](_0x2c5bd0,_0x2c7dfc));return{'row':_0x2c5bd0,'col':_0x2c7dfc};}static[a0_0x1c59df(0x16c)](){const _0x35149a=a0_0x1c59df,_0x49c419=[_0x35149a(0x166),_0x35149a(0x159),_0x35149a(0x131),_0x35149a(0x12e),'magenta',_0x35149a(0x172),_0x35149a(0x173)];return _0x49c419[Candy[_0x35149a(0x163)][_0x35149a(0x145)](0x0,_0x49c419['length'])];}[a0_0x1c59df(0x15b)](_0x428099){const _0x2773ed=a0_0x1c59df;_0x428099[_0x2773ed(0x139)](this[_0x2773ed(0x15e)],this[_0x2773ed(0x169)],this[_0x2773ed(0x134)],this[_0x2773ed(0x136)]);}}function a0_0x362b(_0x514ae5,_0x31ce68){const _0x2c8314=a0_0x2c83();return a0_0x362b=function(_0x362b1a,_0x58a453){_0x362b1a=_0x362b1a-0x128;let _0x4eecc9=_0x2c8314[_0x362b1a];return _0x4eecc9;},a0_0x362b(_0x514ae5,_0x31ce68);}class RandANSI{constructor(_0x2e89da=0x1){const _0xc408df=a0_0x1c59df;this[_0xc408df(0x151)]=_0x2e89da;}[a0_0x1c59df(0x146)](_0x2d464c){const _0x590066=a0_0x1c59df;this[_0x590066(0x151)]=_0x2d464c;}[a0_0x1c59df(0x15d)](){const _0x5b9e75=a0_0x1c59df;return(this[_0x5b9e75(0x151)]=Number((BigInt(this[_0x5b9e75(0x151)])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}[a0_0x1c59df(0x145)](_0x2f775e,_0x1eb71a){const _0x4e6a96=a0_0x1c59df;return _0x2f775e+this[_0x4e6a96(0x15d)]()%(_0x1eb71a-_0x2f775e);}}