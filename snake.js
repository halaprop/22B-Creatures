const a0_0x3677f7=a0_0x14b9;function a0_0x3a0e(){const _0x4590b8=['\x20Turns:\x20','sleepTimeout','step','setStatusLine','cyan','4398576JRkqFz','randomColor','calories','pushFront','ArrowUp','glyph','length','5875880FWZhjN','rowCount','drawChars','Random','randomCandy','84995MVihos','setSeed','gameOver','row','ArrowRight','eat','magenta','ArrowDown','popBack','yellow','draw','metric','1568718utOzzY','head','willCrash','main-canvas','colCount','popFront','randBetween','pink','rand','turnCount','Ouch,\x20my\x20nose!','dCol','seed','12qRpLJb','seedRandom','value','eraseCharAt','6180gFtcWK','1683178MpuCuI','grid','orange','color','randomPosition','keydown','next','headGlyph','cout-lines','getElementById','candy','drawCharAt','.\x20Metric:\x20','ArrowLeft','60686wckaMB','col','tail','573eaGRFK','steer','dRow','statusString','17ZYmgVf','Length:\x20','lime','white','intersects','snake','pushBack'];a0_0x3a0e=function(){return _0x4590b8;};return a0_0x3a0e();}(function(_0xd98da1,_0x5dbf03){const _0x275555=a0_0x14b9,_0x34c1bb=_0xd98da1();while(!![]){try{const _0x451441=-parseInt(_0x275555(0x210))/0x1*(-parseInt(_0x275555(0x209))/0x2)+parseInt(_0x275555(0x20c))/0x3*(parseInt(_0x275555(0x1fa))/0x4)+-parseInt(_0x275555(0x1dd))/0x5+parseInt(_0x275555(0x1f6))/0x6*(parseInt(_0x275555(0x1fb))/0x7)+-parseInt(_0x275555(0x21c))/0x8+parseInt(_0x275555(0x1e9))/0x9+-parseInt(_0x275555(0x1d8))/0xa;if(_0x451441===_0x5dbf03)break;else _0x34c1bb['push'](_0x34c1bb['shift']());}catch(_0x251e08){_0x34c1bb['push'](_0x34c1bb['shift']());}}}(a0_0x3a0e,0x4c1af));import{ConsoleGrid,Cout}from'./console-grid.js';export class SnakeApp{constructor(){const _0x5756c5=a0_0x14b9,_0x15a041={'canvas':document[_0x5756c5(0x204)](_0x5756c5(0x1ec)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x5756c5(0x218)]=0x64,this[_0x5756c5(0x1fc)]=new ConsoleGrid(_0x15a041);const _0x48baa8=document[_0x5756c5(0x204)](_0x5756c5(0x203));this['cout']=new Cout(_0x48baa8),this[_0x5756c5(0x1f2)]=0x0,this[_0x5756c5(0x1df)]=![],this[_0x5756c5(0x215)]=new Snake(),this[_0x5756c5(0x215)][_0x5756c5(0x1da)](this['grid']),Candy['seedRandom'](),this[_0x5756c5(0x205)]=Candy[_0x5756c5(0x1dc)](this['snake'],this[_0x5756c5(0x1fc)][_0x5756c5(0x1d9)],this['grid'][_0x5756c5(0x1ed)]),this[_0x5756c5(0x205)]['draw'](this[_0x5756c5(0x1fc)]),this['grid'][_0x5756c5(0x21a)](this[_0x5756c5(0x20f)]());}[a0_0x3677f7(0x1e8)](){const _0x45dddb=a0_0x3677f7,_0x1283c0=this[_0x45dddb(0x1f2)],_0xb68803=this[_0x45dddb(0x215)][_0x45dddb(0x1d7)]();return _0x1283c0==0x0?0x0:0x1*_0xb68803*_0xb68803/_0x1283c0;}[a0_0x3677f7(0x20f)](_0x5ff26c){const _0xa5f49b=a0_0x3677f7;let _0x22c8a2=_0xa5f49b(0x211)+this['snake'][_0xa5f49b(0x1d7)]()+_0xa5f49b(0x217)+this['turnCount']+_0xa5f49b(0x207)+this[_0xa5f49b(0x1e8)]()['toFixed'](0x3);if(_0x5ff26c)_0x22c8a2+='.\x20'+_0x5ff26c;return _0x22c8a2;}[a0_0x3677f7(0x200)](_0x3436db){const _0x293805=a0_0x3677f7;let _0x5a548b='';switch(_0x3436db){case _0x293805(0x208):case'ArrowRight':case _0x293805(0x220):case'ArrowDown':this[_0x293805(0x215)][_0x293805(0x20d)](_0x3436db,this[_0x293805(0x1fc)],this[_0x293805(0x205)][_0x293805(0x1e0)],this['candy'][_0x293805(0x20a)]);break;case'Q':case'q':this[_0x293805(0x1df)]=!![];default:break;}!this['gameOver']&&(this[_0x293805(0x215)][_0x293805(0x1eb)](this[_0x293805(0x1fc)])?(this[_0x293805(0x1df)]=!![],_0x5a548b=_0x293805(0x1f3)):(this['snake'][_0x293805(0x219)](this[_0x293805(0x1fc)]),this[_0x293805(0x215)]['headIntersects'](this[_0x293805(0x205)][_0x293805(0x1e0)],this[_0x293805(0x205)][_0x293805(0x20a)])&&(this[_0x293805(0x215)][_0x293805(0x1e2)](this[_0x293805(0x205)][_0x293805(0x21e)]),this['snake'][_0x293805(0x1fe)]=this['candy'][_0x293805(0x1fe)],this[_0x293805(0x215)][_0x293805(0x1da)](this['grid']),this['candy']=Candy[_0x293805(0x1dc)](this[_0x293805(0x215)],this['grid'][_0x293805(0x1d9)],this['grid']['colCount']),this[_0x293805(0x205)][_0x293805(0x1e7)](this[_0x293805(0x1fc)]))),this['turnCount']++,this[_0x293805(0x1fc)]['setStatusLine'](this['statusString'](_0x5a548b))),this[_0x293805(0x1fc)][_0x293805(0x21a)](this['statusString'](_0x5a548b));}['contestStatus'](){const _0x5407fa=a0_0x3677f7,_0xde9cb3=this[_0x5407fa(0x1f2)],_0x161d9f=this[_0x5407fa(0x215)][_0x5407fa(0x1d7)](),_0x398fa7=this[_0x5407fa(0x1e8)]();return{'turnCount':_0xde9cb3,'length':_0x161d9f,'metric':_0x398fa7};}}class ListNode{constructor(_0x4cf437,_0x45506e=null){const _0x1bc7d5=a0_0x3677f7;this[_0x1bc7d5(0x1f8)]=_0x4cf437,this[_0x1bc7d5(0x201)]=_0x45506e;}}function a0_0x14b9(_0x478d69,_0x2d13e4){const _0x3a0ea5=a0_0x3a0e();return a0_0x14b9=function(_0x14b958,_0x50b448){_0x14b958=_0x14b958-0x1d7;let _0x1b3ac8=_0x3a0ea5[_0x14b958];return _0x1b3ac8;},a0_0x14b9(_0x478d69,_0x2d13e4);}class LinkedList{constructor(){const _0x1bf337=a0_0x3677f7;this[_0x1bf337(0x1ea)]=null;}[a0_0x3677f7(0x21f)](_0x3e2842){const _0x3814e1=a0_0x3677f7;this['head']=new ListNode(_0x3e2842,this[_0x3814e1(0x1ea)]);}[a0_0x3677f7(0x1ee)](){const _0x10e088=a0_0x3677f7;this[_0x10e088(0x1ea)]&&(this[_0x10e088(0x1ea)]=this[_0x10e088(0x1ea)]['next']);}['pushBack'](_0x3caaef){const _0x291674=a0_0x3677f7,_0x1632f1=this[_0x291674(0x20b)](),_0x4aff7b=new ListNode(_0x3caaef);_0x1632f1?_0x1632f1[_0x291674(0x201)]=_0x4aff7b:this[_0x291674(0x1ea)]=_0x4aff7b;}[a0_0x3677f7(0x1e5)](){const _0x12d1d4=a0_0x3677f7,_0x11d2d9=this[_0x12d1d4(0x20b)]();if(_0x11d2d9){if(this[_0x12d1d4(0x1ea)]==_0x11d2d9)this['head']=null;else{let _0x2c3d93=this[_0x12d1d4(0x1ea)];while(_0x2c3d93[_0x12d1d4(0x201)]!=_0x11d2d9)_0x2c3d93=_0x2c3d93[_0x12d1d4(0x201)];_0x2c3d93[_0x12d1d4(0x201)]=null;}}}[a0_0x3677f7(0x20b)](){const _0x4bfc30=a0_0x3677f7;let _0x158f45=null;for(let _0x17f37a=this[_0x4bfc30(0x1ea)];_0x17f37a;_0x17f37a=_0x17f37a[_0x4bfc30(0x201)]){_0x158f45=_0x17f37a;}return _0x158f45;}['length'](){const _0x209a20=a0_0x3677f7;let _0x14e794=0x0;for(let _0x353e1a=this[_0x209a20(0x1ea)];_0x353e1a;_0x353e1a=_0x353e1a[_0x209a20(0x201)]){_0x14e794++;}return _0x14e794;}}class Snake extends LinkedList{constructor(){const _0x2e503e=a0_0x3677f7;super(),this[_0x2e503e(0x21e)]=0x0,this[_0x2e503e(0x1fe)]=_0x2e503e(0x213),this[_0x2e503e(0x221)]='o',this['headGlyph']='@',this[_0x2e503e(0x20e)]=0x0,this['dCol']=0x1,this[_0x2e503e(0x216)]({'row':0x5,'col':0x5}),this[_0x2e503e(0x216)]({'row':0x5,'col':0x4}),this[_0x2e503e(0x216)]({'row':0x5,'col':0x3});}['willCrash'](_0x3579b6){const _0x445df6=a0_0x3677f7,_0x546132=this[_0x445df6(0x1ea)][_0x445df6(0x1f8)][_0x445df6(0x1e0)]+this['dRow'],_0x5dc7ae=this['head'][_0x445df6(0x1f8)][_0x445df6(0x20a)]+this[_0x445df6(0x1f4)],_0x12c385=_0x546132>=0x0&&_0x546132<_0x3579b6[_0x445df6(0x1d9)]&&_0x5dc7ae>=0x0&&_0x5dc7ae<_0x3579b6[_0x445df6(0x1ed)];return!_0x12c385||this[_0x445df6(0x214)](_0x546132,_0x5dc7ae);}['headIntersects'](_0x13361f,_0x309b78){const _0x3db39a=a0_0x3677f7;return this['head']['value'][_0x3db39a(0x1e0)]==_0x13361f&&this[_0x3db39a(0x1ea)][_0x3db39a(0x1f8)][_0x3db39a(0x20a)]==_0x309b78;}['intersects'](_0x785ecb,_0x14a1da){const _0x449d41=a0_0x3677f7;let _0x23a121=![],_0x4a9d60=this['head'];while(_0x4a9d60){if(_0x4a9d60[_0x449d41(0x1f8)]['row']==_0x785ecb&&_0x4a9d60['value'][_0x449d41(0x20a)]==_0x14a1da){_0x23a121=!![];break;}_0x4a9d60=_0x4a9d60['next'];}return _0x23a121;}['drawChars'](_0x2e99b3){const _0xa583da=a0_0x3677f7;let _0x147c98=this[_0xa583da(0x202)];for(let _0xba8f67=this[_0xa583da(0x1ea)];_0xba8f67;_0xba8f67=_0xba8f67['next']){_0x2e99b3[_0xa583da(0x206)](_0xba8f67[_0xa583da(0x1f8)][_0xa583da(0x1e0)],_0xba8f67['value'][_0xa583da(0x20a)],_0x147c98,this[_0xa583da(0x1fe)]),_0x147c98=this[_0xa583da(0x221)];}}[a0_0x3677f7(0x20d)](_0x5f4a8a,_0x29bb19,_0xe8d41,_0x168f5c){const _0x2359ff=a0_0x3677f7;this[_0x2359ff(0x20e)]=0x0,this['dCol']=0x0;switch(_0x5f4a8a){case'ArrowLeft':this[_0x2359ff(0x1f4)]=-0x1;break;case _0x2359ff(0x1e1):this[_0x2359ff(0x1f4)]=0x1;break;case'ArrowUp':this['dRow']=-0x1;break;case _0x2359ff(0x1e4):this['dRow']=0x1;break;default:break;}}[a0_0x3677f7(0x219)](_0x2b090e){const _0x32aa08=a0_0x3677f7;let _0x309c8c=this[_0x32aa08(0x1ea)][_0x32aa08(0x1f8)]['row']+this[_0x32aa08(0x20e)],_0x469c52=this[_0x32aa08(0x1ea)][_0x32aa08(0x1f8)][_0x32aa08(0x20a)]+this['dCol'];_0x2b090e['drawCharAt'](this[_0x32aa08(0x1ea)][_0x32aa08(0x1f8)][_0x32aa08(0x1e0)],this[_0x32aa08(0x1ea)]['value']['col'],this[_0x32aa08(0x221)],this[_0x32aa08(0x1fe)]),this[_0x32aa08(0x21f)]({'row':_0x309c8c,'col':_0x469c52}),_0x2b090e['drawCharAt'](_0x309c8c,_0x469c52,this[_0x32aa08(0x202)],this[_0x32aa08(0x1fe)]);if(this[_0x32aa08(0x21e)]>0x0)this[_0x32aa08(0x21e)]--;else{const _0x12cd82=this['tail']();_0x2b090e[_0x32aa08(0x1f9)](_0x12cd82[_0x32aa08(0x1f8)][_0x32aa08(0x1e0)],_0x12cd82['value'][_0x32aa08(0x20a)]),this[_0x32aa08(0x1e5)]();}}[a0_0x3677f7(0x1e2)](_0x4081fc){const _0x4fb52f=a0_0x3677f7;this[_0x4fb52f(0x21e)]+=_0x4081fc;}}class Candy{static[a0_0x3677f7(0x1f7)](){const _0x14eee4=a0_0x3677f7;this[_0x14eee4(0x1db)]=new RandANSI();}constructor(_0x2418cd){Object['assign'](this,_0x2418cd);}static[a0_0x3677f7(0x1dc)](_0x42ead7,_0xe725cb,_0xbfe6da){const _0x3feb70=a0_0x3677f7,{row:_0x3050ea,col:_0xabe1a4}=this[_0x3feb70(0x1ff)](_0x42ead7,_0xe725cb,_0xbfe6da),_0x456fa6=this[_0x3feb70(0x21d)](),_0x38be49=Candy[_0x3feb70(0x1db)][_0x3feb70(0x1ef)](0x1,0xa),_0x4113f5=''+_0x38be49;return new Candy({'row':_0x3050ea,'col':_0xabe1a4,'calories':_0x38be49,'glyph':_0x4113f5,'color':_0x456fa6});}static[a0_0x3677f7(0x1ff)](_0x54d55e,_0x11f627,_0x4a1655){const _0x2b30d6=a0_0x3677f7;let _0x319fb0,_0x5baa2d;do{_0x319fb0=Candy[_0x2b30d6(0x1db)][_0x2b30d6(0x1ef)](0x0,_0x11f627),_0x5baa2d=Candy[_0x2b30d6(0x1db)][_0x2b30d6(0x1ef)](0x0,_0x4a1655);}while(_0x54d55e[_0x2b30d6(0x214)](_0x319fb0,_0x5baa2d));return{'row':_0x319fb0,'col':_0x5baa2d};}static[a0_0x3677f7(0x21d)](){const _0x333c52=a0_0x3677f7,_0x222469=['red',_0x333c52(0x212),_0x333c52(0x1e6),_0x333c52(0x21b),_0x333c52(0x1e3),_0x333c52(0x1fd),_0x333c52(0x1f0)];return _0x222469[Candy[_0x333c52(0x1db)][_0x333c52(0x1ef)](0x0,_0x222469['length'])];}[a0_0x3677f7(0x1e7)](_0x2e210d){const _0x762e45=a0_0x3677f7;_0x2e210d['drawCharAt'](this[_0x762e45(0x1e0)],this[_0x762e45(0x20a)],this[_0x762e45(0x221)],this[_0x762e45(0x1fe)]);}}class RandANSI{constructor(_0x33c09c=0x1){this['seed']=_0x33c09c;}[a0_0x3677f7(0x1de)](_0x2cc933){this['seed']=_0x2cc933;}['rand'](){const _0x335a5b=a0_0x3677f7;return(this[_0x335a5b(0x1f5)]=Number((BigInt(this['seed'])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}[a0_0x3677f7(0x1ef)](_0x282952,_0xa3c34e){const _0x52433f=a0_0x3677f7;return _0x282952+this[_0x52433f(0x1f1)]()%(_0xa3c34e-_0x282952);}}